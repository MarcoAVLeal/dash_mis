<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>gauge</title>
<script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbCgiKCIgKyBjb2RlICsgIikiKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBTeW50YXhFcnJvcikpIHsKICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHJlc3VsdCA9IGV2YWwoY29kZSk7CiAgICAgIH0gY2F0Y2goZSkgewogICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHsKICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIGluaXRTaXppbmcoZWwpIHsKICAgIHZhciBzaXppbmcgPSBzaXppbmdQb2xpY3koZWwpOwogICAgaWYgKCFzaXppbmcpCiAgICAgIHJldHVybjsKCiAgICB2YXIgY2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImh0bWx3aWRnZXRfY29udGFpbmVyIik7CiAgICBpZiAoIWNlbCkKICAgICAgcmV0dXJuOwoKICAgIGlmICh0eXBlb2Yoc2l6aW5nLnBhZGRpbmcpICE9PSAidW5kZWZpbmVkIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICIwIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nID0gcGFkZGluZ1RvQ3NzKHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpKTsKICAgIH0KCiAgICBpZiAoc2l6aW5nLmZpbGwpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBpZiAoY2VsKSB7CiAgICAgICAgY2VsLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgICAgICB2YXIgcGFkID0gdW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZyk7CiAgICAgICAgY2VsLnN0eWxlLnRvcCA9IHBhZC50b3AgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5yaWdodCA9IHBhZC5yaWdodCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmJvdHRvbSA9IHBhZC5ib3R0b20gKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5sZWZ0ID0gcGFkLmxlZnQgKyAicHgiOwogICAgICAgIGVsLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGVsLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKCiAgICB9IGVsc2UgewogICAgICBlbC5zdHlsZS53aWR0aCA9IHB4KHNpemluZy53aWR0aCk7CiAgICAgIGVsLnN0eWxlLmhlaWdodCA9IHB4KHNpemluZy5oZWlnaHQpOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CiAgICB9CiAgfQoKICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9ucyBmb3IgbWV0aG9kcwogIHZhciBkZWZhdWx0cyA9IHsKICAgIGZpbmQ6IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgIHJldHVybiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCAiLiIgKyB0aGlzLm5hbWUpOwogICAgfSwKICAgIHJlbmRlckVycm9yOiBmdW5jdGlvbihlbCwgZXJyKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKCiAgICAgIHRoaXMuY2xlYXJFcnJvcihlbCk7CgogICAgICAvLyBBZGQgYWxsIHRoZXNlIGVycm9yIGNsYXNzZXMsIGFzIFNoaW55IGRvZXMKICAgICAgdmFyIGVyckNsYXNzID0gInNoaW55LW91dHB1dC1lcnJvciI7CiAgICAgIGlmIChlcnIudHlwZSAhPT0gbnVsbCkgewogICAgICAgIC8vIHVzZSB0aGUgY2xhc3NlcyBvZiB0aGUgZXJyb3IgY29uZGl0aW9uIGFzIENTUyBjbGFzcyBuYW1lcwogICAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiICIgKyAkLm1hcChhc0FycmF5KGVyci50eXBlKSwgZnVuY3Rpb24odHlwZSkgewogICAgICAgICAgcmV0dXJuIGVyckNsYXNzICsgIi0iICsgdHlwZTsKICAgICAgICB9KS5qb2luKCIgIik7CiAgICAgIH0KICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgaHRtbHdpZGdldHMtZXJyb3IiOwoKICAgICAgLy8gSXMgZWwgaW5saW5lIG9yIGJsb2NrPyBJZiBpbmxpbmUgb3IgaW5saW5lLWJsb2NrLCBqdXN0IGRpc3BsYXk6bm9uZSBpdAogICAgICAvLyBhbmQgYWRkIGFuIGlubGluZSBlcnJvci4KICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuY3NzKCJkaXNwbGF5Iik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIGRpc3BsYXkpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgJGVsLmhpZGUoKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JTcGFuID0gJCgiPHNwYW4+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpOwogICAgICAgICAgZXJyb3JTcGFuLnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yU3Bhbik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpIHsKICAgICAgICAvLyBJZiBibG9jaywgYWRkIGFuIGVycm9yIGp1c3QgYWZ0ZXIgdGhlIGVsLCBzZXQgdmlzaWJpbGl0eTpub25lIG9uIHRoZQogICAgICAgIC8vIGVsLCBhbmQgcG9zaXRpb24gdGhlIGVycm9yIHRvIGJlIG9uIHRvcCBvZiB0aGUgZWwuCiAgICAgICAgLy8gTWFyayBpdCB3aXRoIGEgdW5pcXVlIElEIGFuZCBDU1MgY2xhc3Mgc28gd2UgY2FuIHJlbW92ZSBpdCBsYXRlci4KICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvckRpdiA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKQogICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAvLyBzZXR0aW5nIHdpZHRoIGNhbiBwdXNoIG91dCB0aGUgcGFnZSBzaXplLCBmb3JjaW5nIG90aGVyd2lzZQogICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSBzY3JvbGxiYXJzIHRvIGFwcGVhciBhbmQgbWFraW5nIGl0IGltcG9zc2libGUgZm9yCiAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHRvIHNocmluazsgc28gdXNlIG1heC13aWR0aCBpbnN0ZWFkCiAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICBlcnJvckRpdi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvckRpdik7CgogICAgICAgICAgLy8gUmVhbGx5IGR1bWIgd2F5IHRvIGtlZXAgdGhlIHNpemUvcG9zaXRpb24gb2YgdGhlIGVycm9yIGluIHN5bmMgd2l0aAogICAgICAgICAgLy8gdGhlIHBhcmVudCBlbGVtZW50IGFzIHRoZSB3aW5kb3cgaXMgcmVzaXplZCBvciB3aGF0ZXZlci4KICAgICAgICAgIHZhciBpbnRJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoIWVycm9yRGl2WzBdLnBhcmVudEVsZW1lbnQpIHsKICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludElkKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3JEaXYKICAgICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbihlbCkgewogICAgICB2YXIgJGVsID0gJChlbCk7CiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIG51bGwpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgaWYgKGRpc3BsYXkpCiAgICAgICAgICAkZWwuY3NzKCJkaXNwbGF5IiwgZGlzcGxheSk7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKXsKICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImluaGVyaXQiKTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9CiAgICB9LAogICAgc2l6aW5nOiB7fQogIH07CgogIC8vIENhbGxlZCBieSB3aWRnZXQgYmluZGluZ3MgdG8gcmVnaXN0ZXIgYSBuZXcgdHlwZSBvZiB3aWRnZXQuIFRoZSBkZWZpbml0aW9uCiAgLy8gb2JqZWN0IGNhbiBjb250YWluIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAvLyAtIG5hbWUgKHJlcXVpcmVkKSAtIEEgc3RyaW5nIGluZGljYXRpbmcgdGhlIGJpbmRpbmcgbmFtZSwgd2hpY2ggd2lsbCBiZQogIC8vICAgdXNlZCBieSBkZWZhdWx0IGFzIHRoZSBDU1MgY2xhc3NuYW1lIHRvIGxvb2sgZm9yLgogIC8vIC0gaW5pdGlhbGl6ZSAob3B0aW9uYWwpIC0gQSBmdW5jdGlvbihlbCkgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgd2lkZ2V0IGVsZW1lbnQ7IGlmIGEgdmFsdWUgaXMgcmV0dXJuZWQsIGl0IHdpbGwgYmUgcGFzc2VkIGFzIHRoZSB0aGlyZAogIC8vICAgdmFsdWUgdG8gcmVuZGVyVmFsdWUuCiAgLy8gLSByZW5kZXJWYWx1ZSAocmVxdWlyZWQpIC0gQSBmdW5jdGlvbihlbCwgZGF0YSwgaW5pdFZhbHVlKSB0aGF0IHdpbGwgYmUKICAvLyAgIGNhbGxlZCB3aXRoIGRhdGEuIFN0YXRpYyBjb250ZXh0cyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICBlbGVtZW50OyBTaGlueSBhcHBzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgcGVyCiAgLy8gICBlbGVtZW50LCBhcyB0aGUgZGF0YSBjaGFuZ2VzLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXQgPSBmdW5jdGlvbihkZWZpbml0aW9uKSB7CiAgICBpZiAoIWRlZmluaXRpb24ubmFtZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSBuYW1lIik7CiAgICB9CiAgICBpZiAoIWRlZmluaXRpb24udHlwZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSB0eXBlIik7CiAgICB9CiAgICAvLyBDdXJyZW50bHkgd2Ugb25seSBzdXBwb3J0IG91dHB1dCB3aWRnZXRzCiAgICBpZiAoZGVmaW5pdGlvbi50eXBlICE9PSAib3V0cHV0IikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCB3aWRnZXQgdHlwZSAnIiArIGRlZmluaXRpb24udHlwZSArICInIik7CiAgICB9CiAgICAvLyBUT0RPOiBWZXJpZnkgdGhhdCAubmFtZSBpcyBhIHZhbGlkIENTUyBjbGFzc25hbWUKCiAgICAvLyBTdXBwb3J0IG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucy4gT2xkLXN0eWxlIGNsYXNzLWJvdW5kCiAgICAvLyBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQgIm9iamVjdCIgcGVyIHdpZGdldCBwZXIgdHlwZS9jbGFzcyBvZgogICAgLy8gd2lkZ2V0OyB0aGUgcmVuZGVyVmFsdWUgYW5kIHJlc2l6ZSBtZXRob2RzIG9uIHN1Y2ggd2lkZ2V0IG9iamVjdHMKICAgIC8vIHRha2UgZWwgYW5kIGluc3RhbmNlIGFyZ3VtZW50cywgYmVjYXVzZSB0aGUgd2lkZ2V0IG9iamVjdCBjYW4ndAogICAgLy8gc3RvcmUgdGhlbS4gTmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldAogICAgLy8gb2JqZWN0IHBlciB3aWRnZXQgaW5zdGFuY2U7IHRoZSBkZWZpbml0aW9uIHRoYXQncyBwYXNzZWQgaW4gZG9lc24ndAogICAgLy8gcHJvdmlkZSByZW5kZXJWYWx1ZSBvciByZXNpemUgbWV0aG9kcyBhdCBhbGwsIGp1c3QgdGhlIHNpbmdsZSBtZXRob2QKICAgIC8vICAgZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCkKICAgIC8vIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaGFzIHJlbmRlclZhbHVlKHgpIGFuZCByZXNpemUodywgaCkuCiAgICAvLyBUaGlzIGVuYWJsZXMgYSBmYXIgbW9yZSBuYXR1cmFsIHByb2dyYW1taW5nIHN0eWxlIGZvciB0aGUgd2lkZ2V0CiAgICAvLyBhdXRob3IsIHdobyBjYW4gc3RvcmUgcGVyLWluc3RhbmNlIHN0YXRlIHVzaW5nIGVpdGhlciBPTy1zdHlsZQogICAgLy8gaW5zdGFuY2UgZmllbGRzIG9yIGZ1bmN0aW9uYWwtc3R5bGUgY2xvc3VyZSB2YXJpYWJsZXMgKEkgZ3Vlc3MgdGhpcwogICAgLy8gaXMgaW4gY29udHJhc3QgdG8gd2hhdCBjYW4gb25seSBiZSBjYWxsZWQgQy1zdHlsZSBwc2V1ZG8tT08gd2hpY2ggaXMKICAgIC8vIHdoYXQgd2UgcmVxdWlyZWQgYmVmb3JlKS4KICAgIGlmIChkZWZpbml0aW9uLmZhY3RvcnkpIHsKICAgICAgZGVmaW5pdGlvbiA9IGNyZWF0ZUxlZ2FjeURlZmluaXRpb25BZGFwdGVyKGRlZmluaXRpb24pOwogICAgfQoKICAgIGlmICghZGVmaW5pdGlvbi5yZW5kZXJWYWx1ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSByZW5kZXJWYWx1ZSBmdW5jdGlvbiIpOwogICAgfQoKICAgIC8vIEZvciBzdGF0aWMgcmVuZGVyaW5nIChub24tU2hpbnkpLCB1c2UgYSBzaW1wbGUgd2lkZ2V0IHJlZ2lzdHJhdGlvbgogICAgLy8gc2NoZW1lLiBXZSBhbHNvIHVzZSB0aGlzIHNjaGVtZSBmb3IgU2hpbnkgYXBwcy9kb2N1bWVudHMgdGhhdCBhbHNvCiAgICAvLyBjb250YWluIHN0YXRpYyB3aWRnZXRzLgogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIC8vIE1lcmdlIGRlZmF1bHRzIGludG8gdGhlIGRlZmluaXRpb247IGRvbid0IG11dGF0ZSB0aGUgb3JpZ2luYWwgZGVmaW5pdGlvbi4KICAgIHZhciBzdGF0aWNCaW5kaW5nID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CiAgICBvdmVycmlkZU1ldGhvZChzdGF0aWNCaW5kaW5nLCAiZmluZCIsIGZ1bmN0aW9uKHN1cGVyZnVuYykgewogICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IHN1cGVyZnVuYyhzY29wZSk7CiAgICAgICAgLy8gRmlsdGVyIG91dCBTaGlueSBvdXRwdXRzLCB3ZSBvbmx5IHdhbnQgdGhlIHN0YXRpYyBraW5kCiAgICAgICAgcmV0dXJuIGZpbHRlckJ5Q2xhc3MocmVzdWx0cywgImh0bWwtd2lkZ2V0LW91dHB1dCIsIGZhbHNlKTsKICAgICAgfTsKICAgIH0pOwogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMucHVzaChzdGF0aWNCaW5kaW5nKTsKCiAgICBpZiAoc2hpbnlNb2RlKSB7CiAgICAgIC8vIFNoaW55IGlzIHJ1bm5pbmcuIFJlZ2lzdGVyIHRoZSBkZWZpbml0aW9uIHdpdGggYW4gb3V0cHV0IGJpbmRpbmcuCiAgICAgIC8vIFRoZSBkZWZpbml0aW9uIGl0c2VsZiB3aWxsIG5vdCBiZSB0aGUgb3V0cHV0IGJpbmRpbmcsIGluc3RlYWQKICAgICAgLy8gd2Ugd2lsbCBtYWtlIGFuIG91dHB1dCBiaW5kaW5nIG9iamVjdCB0aGF0IGRlbGVnYXRlcyB0byB0aGUKICAgICAgLy8gZGVmaW5pdGlvbi4gVGhpcyBpcyBiZWNhdXNlIHdlIGZvb2xpc2hseSB1c2VkIHRoZSBzYW1lIG1ldGhvZAogICAgICAvLyBuYW1lIChyZW5kZXJWYWx1ZSkgZm9yIGh0bWx3aWRnZXRzIGRlZmluaXRpb24gYW5kIFNoaW55IGJpbmRpbmdzCiAgICAgIC8vIGJ1dCB0aGV5IGFjdHVhbGx5IGhhdmUgcXVpdGUgZGlmZmVyZW50IHNlbWFudGljcyAodGhlIFNoaW55CiAgICAgIC8vIGJpbmRpbmdzIHJlY2VpdmUgZGF0YSB0aGF0IGluY2x1ZGVzIGxvdHMgb2YgbWV0YWRhdGEgdGhhdCBpdAogICAgICAvLyBzdHJpcHMgb2ZmIGJlZm9yZSBjYWxsaW5nIGh0bWx3aWRnZXRzIHJlbmRlclZhbHVlKS4gV2UgY2FuJ3QKICAgICAgLy8ganVzdCBpZ25vcmUgdGhlIGRpZmZlcmVuY2UgYmVjYXVzZSBpbiBzb21lIHdpZGdldHMgaXQncyBoZWxwZnVsCiAgICAgIC8vIHRvIGNhbGwgdGhpcy5yZW5kZXJWYWx1ZSgpIGZyb20gaW5zaWRlIG9mIHJlc2l6ZSgpLCBhbmQgaWYKICAgICAgLy8gd2UncmUgbm90IGRlbGVnYXRpbmcsIHRoZW4gdGhhdCBjYWxsIHdpbGwgZ28gdG8gdGhlIFNoaW55CiAgICAgIC8vIHZlcnNpb24gaW5zdGVhZCBvZiB0aGUgaHRtbHdpZGdldHMgdmVyc2lvbi4KCiAgICAgIC8vIE1lcmdlIGRlZmF1bHRzIHdpdGggZGVmaW5pdGlvbiwgd2l0aG91dCBtdXRhdGluZyBlaXRoZXIuCiAgICAgIHZhciBiaW5kaW5nRGVmID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CgogICAgICAvLyBUaGlzIG9iamVjdCB3aWxsIGJlIG91ciBhY3R1YWwgU2hpbnkgYmluZGluZy4KICAgICAgdmFyIHNoaW55QmluZGluZyA9IG5ldyBTaGlueS5PdXRwdXRCaW5kaW5nKCk7CgogICAgICAvLyBXaXRoIGEgZmV3IGV4Y2VwdGlvbnMsIHdlJ2xsIHdhbnQgdG8gc2ltcGx5IHVzZSB0aGUgYmluZGluZ0RlZidzCiAgICAgIC8vIHZlcnNpb24gb2YgbWV0aG9kcyBpZiB0aGV5IGFyZSBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsIGJhY2sgdG8KICAgICAgLy8gU2hpbnkncyBkZWZhdWx0cy4gTk9URTogSWYgU2hpbnkncyBvdXRwdXQgYmluZGluZ3MgZ2FpbiBhZGRpdGlvbmFsCiAgICAgIC8vIG1ldGhvZHMgaW4gdGhlIGZ1dHVyZSwgYW5kIHdlIHdhbnQgdGhlbSB0byBiZSBvdmVycmlkZWFibGUgYnkKICAgICAgLy8gSFRNTFdpZGdldCBiaW5kaW5nIGRlZmluaXRpb25zLCB0aGVuIHdlJ2xsIG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhpcwogICAgICAvLyBsaXN0LgogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJnZXRJZCIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlQ2hhbmdlIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJyZW5kZXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJjbGVhckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInNob3dQcm9ncmVzcyIpOwoKICAgICAgLy8gVGhlIGZpbmQsIHJlbmRlclZhbHVlLCBhbmQgcmVzaXplIGFyZSBoYW5kbGVkIGRpZmZlcmVudGx5LCBiZWNhdXNlIHdlCiAgICAgIC8vIHdhbnQgdG8gYWN0dWFsbHkgZGVjb3JhdGUgdGhlIGJlaGF2aW9yIG9mIHRoZSBiaW5kaW5nRGVmIG1ldGhvZHMuCgogICAgICBzaGlueUJpbmRpbmcuZmluZCA9IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBiaW5kaW5nRGVmLmZpbmQoc2NvcGUpOwoKICAgICAgICAvLyBPbmx5IHJldHVybiBlbGVtZW50cyB0aGF0IGFyZSBTaGlueSBvdXRwdXRzLCBub3Qgc3RhdGljIG9uZXMKICAgICAgICB2YXIgZHluYW1pY1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigiLmh0bWwtd2lkZ2V0LW91dHB1dCIpOwoKICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2hhdGV2ZXIgY2F1c2VkIFNoaW55IHRvIHRoaW5rIHRoZXJlIG1pZ2h0IGJlCiAgICAgICAgLy8gbmV3IGR5bmFtaWMgb3V0cHV0cywgYWxzbyBjYXVzZWQgdGhlcmUgdG8gYmUgbmV3IHN0YXRpYyBvdXRwdXRzLgogICAgICAgIC8vIFNpbmNlIHRoZXJlIG1pZ2h0IGJlIGxvdHMgb2YgZGlmZmVyZW50IGh0bWx3aWRnZXRzIGJpbmRpbmdzLCB3ZQogICAgICAgIC8vIHNjaGVkdWxlIGV4ZWN1dGlvbiBmb3IgbGF0ZXItLW5vIG5lZWQgdG8gc3RhdGljUmVuZGVyIG11bHRpcGxlCiAgICAgICAgLy8gdGltZXMuCiAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoICE9PSBkeW5hbWljUmVzdWx0cy5sZW5ndGgpCiAgICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlcigpOwoKICAgICAgICByZXR1cm4gZHluYW1pY1Jlc3VsdHM7CiAgICAgIH07CgogICAgICAvLyBXcmFwIHJlbmRlclZhbHVlIHRvIGhhbmRsZSBpbml0aWFsaXphdGlvbiwgd2hpY2ggdW5mb3J0dW5hdGVseSBpc24ndAogICAgICAvLyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgU2hpbnkgYXQgdGhlIHRpbWUgb2YgdGhpcyB3cml0aW5nLgoKICAgICAgc2hpbnlCaW5kaW5nLnJlbmRlclZhbHVlID0gZnVuY3Rpb24oZWwsIGRhdGEpIHsKICAgICAgICBTaGlueS5yZW5kZXJEZXBlbmRlbmNpZXMoZGF0YS5kZXBzKTsKICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGRhdGEuZXZhbHMgJiYgaSA8IGRhdGEuZXZhbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNbaV0pOwogICAgICAgIH0KICAgICAgICBpZiAoIWJpbmRpbmdEZWYucmVuZGVyT25OdWxsVmFsdWUpIHsKICAgICAgICAgIGlmIChkYXRhLnggPT09IG51bGwpIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJoaWRkZW4iOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImluaGVyaXQiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIWVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgaW5pdFNpemluZyhlbCk7CgogICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIsIHRydWUpOwogICAgICAgICAgaWYgKGJpbmRpbmdEZWYuaW5pdGlhbGl6ZSkgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gYmluZGluZ0RlZi5pbml0aWFsaXplKGVsLCBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgcmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYmluZGluZ0RlZi5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpLCBbZWwsIGRhdGEueF0pOwogICAgICB9OwoKICAgICAgLy8gT25seSBvdmVycmlkZSByZXNpemUgaWYgYmluZGluZ0RlZiBpbXBsZW1lbnRzIGl0CiAgICAgIGlmIChiaW5kaW5nRGVmLnJlc2l6ZSkgewogICAgICAgIHNoaW55QmluZGluZy5yZXNpemUgPSBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgICAgICAgLy8gU2hpbnkgY2FuIGNhbGwgcmVzaXplIGJlZm9yZSBpbml0aWFsaXplL3JlbmRlclZhbHVlIGhhdmUgYmVlbgogICAgICAgICAgLy8gY2FsbGVkLCB3aGljaCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIHdpZGdldHMuCiAgICAgICAgICBpZiAoZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICAgIGJpbmRpbmdEZWYucmVzaXplKGVsLCB3aWR0aCwgaGVpZ2h0LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIFNoaW55Lm91dHB1dEJpbmRpbmdzLnJlZ2lzdGVyKHNoaW55QmluZGluZywgYmluZGluZ0RlZi5uYW1lKTsKICAgIH0KICB9OwoKICB2YXIgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICBmdW5jdGlvbiBzY2hlZHVsZVN0YXRpY1JlbmRlcigpIHsKICAgIGlmICghc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkKSB7CiAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7CiAgICAgIH0sIDEpOwogICAgfQogIH0KCiAgLy8gUmVuZGVyIHN0YXRpYyB3aWRnZXRzIGFmdGVyIHRoZSBkb2N1bWVudCBmaW5pc2hlcyBsb2FkaW5nCiAgLy8gU3RhdGljYWxseSByZW5kZXIgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIG9mIHRoaXMgd2lkZ2V0J3MgY2xhc3MKICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgYmluZGluZ3MgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKGJpbmRpbmcpIHsKICAgICAgdmFyIG1hdGNoZXMgPSBiaW5kaW5nLmZpbmQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTsKICAgICAgZm9yRWFjaChtYXRjaGVzLCBmdW5jdGlvbihlbCkgewogICAgICAgIHZhciBzaXplT2JqID0gaW5pdFNpemluZyhlbCwgYmluZGluZyk7CgogICAgICAgIGlmIChoYXNDbGFzcyhlbCwgImh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCIpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZSArICIgaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIjsKCiAgICAgICAgdmFyIGluaXRSZXN1bHQ7CiAgICAgICAgaWYgKGJpbmRpbmcuaW5pdGlhbGl6ZSkgewogICAgICAgICAgaW5pdFJlc3VsdCA9IGJpbmRpbmcuaW5pdGlhbGl6ZShlbCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgKTsKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCBpbml0UmVzdWx0KTsKICAgICAgICB9CgogICAgICAgIGlmIChiaW5kaW5nLnJlc2l6ZSkgewogICAgICAgICAgdmFyIGxhc3RTaXplID0gewogICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIGg6IHNpemVPYmogPyBzaXplT2JqLmdldEhlaWdodCgpIDogZWwub2Zmc2V0SGVpZ2h0CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciBzaXplID0gewogICAgICAgICAgICAgIHc6IHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSAwICYmIHNpemUuaCA9PT0gMCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChzaXplLncgPT09IGxhc3RTaXplLncgJiYgc2l6ZS5oID09PSBsYXN0U2l6ZS5oKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgbGFzdFNpemUgPSBzaXplOwogICAgICAgICAgICBiaW5kaW5nLnJlc2l6ZShlbCwgc2l6ZS53LCBzaXplLmgsIGluaXRSZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICBvbih3aW5kb3csICJyZXNpemUiLCByZXNpemVIYW5kbGVyKTsKCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY2FzZXMgd2hlcmUgd2UncmUgcnVubmluZyBpbiBhIFNoaW55CiAgICAgICAgICAvLyBhcHAsIGJ1dCB0aGUgd2lkZ2V0IGl0c2VsZiBpcyBub3QgYSBTaGlueSBvdXRwdXQsIGJ1dAogICAgICAgICAgLy8gcmF0aGVyIGEgc2ltcGxlIHN0YXRpYyB3aWRnZXQuIE9uZSBleGFtcGxlIG9mIHRoaXMgaXMKICAgICAgICAgIC8vIGFuIHJtYXJrZG93biBkb2N1bWVudCB0aGF0IGhhcyBydW50aW1lOnNoaW55IGFuZCB3aWRnZXQKICAgICAgICAgIC8vIHRoYXQgaXNuJ3QgaW4gYSByZW5kZXIgZnVuY3Rpb24uIFNoaW55IG9ubHkga25vd3MgdG8KICAgICAgICAgIC8vIGNhbGwgcmVzaXplIGhhbmRsZXJzIGZvciBTaGlueSBvdXRwdXRzLCBub3QgZm9yIHN0YXRpYwogICAgICAgICAgLy8gd2lkZ2V0cywgc28gd2UgZG8gaXQgb3Vyc2VsdmVzLgogICAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpIHsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgInNob3duLmh0bWx3aWRnZXRzIHNob3duLmJzLnRhYi5odG1sd2lkZ2V0cyBzaG93bi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigKICAgICAgICAgICAgICAiaGlkZGVuLmh0bWx3aWRnZXRzIGhpZGRlbi5icy50YWIuaHRtbHdpZGdldHMgaGlkZGVuLmJzLmNvbGxhcHNlLmh0bWx3aWRnZXRzIiwKICAgICAgICAgICAgICByZXNpemVIYW5kbGVyCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBzcGVjaWZpYyBjYXNlIG9mIGlvc2xpZGVzLCB3aGljaAogICAgICAgICAgLy8gZmxpcHMgc2xpZGVzIGJldHdlZW4gZGlzcGxheTpub25lIGFuZCBkaXNwbGF5OmJsb2NrLgogICAgICAgICAgLy8gSWRlYWxseSB3ZSB3b3VsZCBub3QgaGF2ZSB0byBoYXZlIGlvc2xpZGUtc3BlY2lmaWMgY29kZQogICAgICAgICAgLy8gaGVyZSwgYnV0IHJhdGhlciBoYXZlIGlvc2xpZGVzIHJhaXNlIGEgZ2VuZXJpYyBldmVudCwKICAgICAgICAgIC8vIGJ1dCB0aGUgcm1hcmtkb3duIHBhY2thZ2UganVzdCB3ZW50IHRvIENSQU4gc28gdGhlCiAgICAgICAgICAvLyB3aW5kb3cgdG8gZ2V0dGluZyB0aGF0IGZpeGVkIG1heSBiZSBsb25nLgogICAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgICAgICAgIC8vIEl0J3MgT0sgdG8gbGltaXQgdGhpcyB0byB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcgogICAgICAgICAgICAvLyBicm93c2VycyBiZWNhdXNlIGlvc2xpZGVzIGl0c2VsZiBvbmx5IHN1cHBvcnRzCiAgICAgICAgICAgIC8vIHN1Y2ggYnJvd3NlcnMuCiAgICAgICAgICAgIG9uKGRvY3VtZW50LCAic2xpZGVlbnRlciIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlbGVhdmUiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzY3JpcHREYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vanNvbiddIik7CiAgICAgICAgaWYgKHNjcmlwdERhdGEpIHsKICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzY3JpcHREYXRhLnRleHRDb250ZW50IHx8IHNjcmlwdERhdGEudGV4dCk7CiAgICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBkYXRhLmV2YWxzICYmIGsgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNba10pOwogICAgICAgICAgfQogICAgICAgICAgYmluZGluZy5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBpbml0UmVzdWx0KTsKICAgICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgaW5pdFJlc3VsdCwgW2VsLCBkYXRhLnhdKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CgogICAgaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCk7CiAgfQoKCiAgZnVuY3Rpb24gaGFzX2pRdWVyeTMoKSB7CiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdmFyICR2ZXJzaW9uID0gd2luZG93LmpRdWVyeS5mbi5qcXVlcnk7CiAgICB2YXIgJG1ham9yX3ZlcnNpb24gPSBwYXJzZUludCgkdmVyc2lvbi5zcGxpdCgiLiIpWzBdKTsKICAgIHJldHVybiAkbWFqb3JfdmVyc2lvbiA+PSAzOwogIH0KCiAgLyoKICAvIFNoaW55IDEuNCBidW1wZWQgalF1ZXJ5IGZyb20gMS54IHRvIDMueCB3aGljaCBtZWFucyBqUXVlcnkncwogIC8gb24tcmVhZHkgaGFuZGxlciAoaS5lLiwgJChmbikpIGlzIG5vdyBhc3luY3Jvbm91cyAoaS5lLiwgaXQgbm93CiAgLyByZWFsbHkgbWVhbnMgJChzZXRUaW1lb3V0KGZuKSkuCiAgLyBodHRwczovL2pxdWVyeS5jb20vdXBncmFkZS1ndWlkZS8zLjAvI2JyZWFraW5nLWNoYW5nZS1kb2N1bWVudC1yZWFkeS1oYW5kbGVycy1hcmUtbm93LWFzeW5jaHJvbm91cwogIC8KICAvIFNpbmNlIFNoaW55IHVzZXMgJCgpIHRvIHNjaGVkdWxlIGluaXRTaGlueSwgc2hpbnk+PTEuNCBjYWxscyBpbml0U2hpbnkKICAvIG9uZSB0aWNrIGxhdGVyIHRoYW4gaXQgZGlkIGJlZm9yZSwgd2hpY2ggbWVhbnMgc3RhdGljUmVuZGVyKCkgaXMKICAvIGNhbGxlZCByZW5kZXJWYWx1ZSgpIGVhcmxpZXIgdGhhbiAoYWR2YW5jZWQpIHdpZGdldCBhdXRob3JzIG1pZ2h0IGJlIGV4cGVjdGluZy4KICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL3NoaW55L2lzc3Vlcy8yNjMwCiAgLwogIC8gRm9yIGEgY29uY3JldGUgZXhhbXBsZSwgbGVhZmxldCBoYXMgc29tZSBtZXRob2RzIChlLmcuLCB1cGRhdGVCb3VuZHMpCiAgLyB3aGljaCByZWZlcmVuY2UgU2hpbnkgbWV0aG9kcyByZWdpc3RlcmVkIGluIGluaXRTaGlueSAoZS5nLiwgc2V0SW5wdXRWYWx1ZSkuCiAgLyBTaW5jZSBsZWFmbGV0IGlzIHByaXZ5IHRvIHRoaXMgbGlmZS1jeWNsZSwgaXQga25vd3MgdG8gdXNlIHNldFRpbWVvdXQoKSB0bwogIC8gZGVsYXkgZXhlY3V0aW9uIG9mIHRob3NlIG1ldGhvZHMgKHVudGlsIFNoaW55IG1ldGhvZHMgYXJlIHJlYWR5KQogIC8gaHR0cHM6Ly9naXRodWIuY29tL3JzdHVkaW8vbGVhZmxldC9ibG9iLzE4ZWM5ODEvamF2YXNjcmlwdC9zcmMvaW5kZXguanMjTDI2Ni1MMjY4CiAgLwogIC8gSWRlYWxseSB3aWRnZXQgYXV0aG9ycyB3b3VsZG4ndCBuZWVkIHRvIHVzZSB0aGlzIHNldFRpbWVvdXQoKSBoYWNrIHRoYXQKICAvIGxlYWZsZXQgdXNlcyB0byBjYWxsIFNoaW55IG1ldGhvZHMgb24gYSBzdGF0aWNSZW5kZXIoKS4gSW4gdGhlIGxvbmcgcnVuLAogIC8gdGhlIGxvZ2ljIGluaXRTaGlueSBzaG91bGQgYmUgYnJva2VuIHVwIHNvIHRoYXQgbWV0aG9kIHJlZ2lzdHJhdGlvbiBoYXBwZW5zCiAgLyByaWdodCBhd2F5LCBidXQgYmluZGluZyBoYXBwZW5zIGxhdGVyLgogICovCiAgZnVuY3Rpb24gbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpIHsKICAgIGlmIChzaGlueU1vZGUgJiYgaGFzX2pRdWVyeTMoKSkgewogICAgICB3aW5kb3cualF1ZXJ5KHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIpOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgfQogIH0KCiAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsKICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgfSwgZmFsc2UpOwogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHsKICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgYXJndW1lbnRzLmNhbGxlZSk7CiAgICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgICB9CiAgICB9KTsKICB9CgoKICB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0QXR0YWNobWVudFVybCA9IGZ1bmN0aW9uKGRlcG5hbWUsIGtleSkgewogICAgLy8gSWYgbm8ga2V5LCBkZWZhdWx0IHRvIHRoZSBmaXJzdCBpdGVtCiAgICBpZiAodHlwZW9mKGtleSkgPT09ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSAxOwoKICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVwbmFtZSArICItIiArIGtleSArICItYXR0YWNobWVudCIpOwogICAgaWYgKCFsaW5rKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiQXR0YWNobWVudCAiICsgZGVwbmFtZSArICIvIiArIGtleSArICIgbm90IGZvdW5kIGluIGRvY3VtZW50Iik7CiAgICB9CiAgICByZXR1cm4gbGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyA9IGZ1bmN0aW9uKGRmKSB7CiAgICB2YXIgbmFtZXMgPSBbXTsKICAgIHZhciBsZW5ndGg7CiAgICBmb3IgKHZhciBuYW1lIGluIGRmKSB7CiAgICAgICAgaWYgKGRmLmhhc093blByb3BlcnR5KG5hbWUpKQogICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIGlmICh0eXBlb2YoZGZbbmFtZV0pICE9PSAib2JqZWN0IiB8fCB0eXBlb2YoZGZbbmFtZV0ubGVuZ3RoKSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobGVuZ3RoKSAhPT0gInVuZGVmaW5lZCIgJiYgbGVuZ3RoICE9PSBkZltuYW1lXS5sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpOwogICAgICAgIH0KICAgICAgICBsZW5ndGggPSBkZltuYW1lXS5sZW5ndGg7CiAgICB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGl0ZW07CiAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBsZW5ndGg7IHJvdysrKSB7CiAgICAgICAgaXRlbSA9IHt9OwogICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5hbWVzLmxlbmd0aDsgY29sKyspIHsKICAgICAgICAgICAgaXRlbVtuYW1lc1tjb2xdXSA9IGRmW25hbWVzW2NvbF1dW3Jvd107CiAgICAgICAgfQogICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy50cmFuc3Bvc2VBcnJheTJEID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycmF5OwogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheVswXS5tYXAoZnVuY3Rpb24oY29sLCBpKSB7CiAgICAgICAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiByb3dbaV0KICAgICAgICAgIH0pCiAgICAgIH0pOwogICAgICByZXR1cm4gbmV3QXJyYXk7CiAgfTsKICAvLyBTcGxpdCB2YWx1ZSBhdCBzcGxpdENoYXIsIGJ1dCBhbGxvdyBzcGxpdENoYXIgdG8gYmUgZXNjYXBlZAogIC8vIHVzaW5nIGVzY2FwZUNoYXIuIEFueSBvdGhlciBjaGFyYWN0ZXJzIGVzY2FwZWQgYnkgZXNjYXBlQ2hhcgogIC8vIHdpbGwgYmUgaW5jbHVkZWQgYXMgdXN1YWwgKGluY2x1ZGluZyBlc2NhcGVDaGFyIGl0c2VsZikuCiAgZnVuY3Rpb24gc3BsaXRXaXRoRXNjYXBlKHZhbHVlLCBzcGxpdENoYXIsIGVzY2FwZUNoYXIpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHZhbHVlLmxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKCFlc2NhcGVNb2RlKSB7CiAgICAgICAgaWYgKHZhbHVlW3Bvc10gPT09IHNwbGl0Q2hhcikgewogICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgICAgICAgY3VycmVudFJlc3VsdCA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWVbcG9zXSA9PT0gZXNjYXBlQ2hhcikgewogICAgICAgICAgZXNjYXBlTW9kZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogICAgaWYgKGN1cnJlbnRSZXN1bHQgIT09ICIiKSB7CiAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0KICAvLyBGdW5jdGlvbiBhdXRob3JlZCBieSBZaWh1aS9KSiBBbGxhaXJlCiAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyID0gZnVuY3Rpb24obywgbWVtYmVyKSB7CiAgICB2YXIgcGFydHMgPSBzcGxpdFdpdGhFc2NhcGUobWVtYmVyLCAnLicsICdcXCcpOwogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKICAgICAgLy8gcGFydCBtYXkgYmUgYSBjaGFyYWN0ZXIgb3IgJ251bWVyaWMnIG1lbWJlciBuYW1lCiAgICAgIGlmIChvICE9PSBudWxsICYmIHR5cGVvZiBvID09PSAib2JqZWN0IiAmJiBwYXJ0IGluIG8pIHsKICAgICAgICBpZiAoaSA9PSAobCAtIDEpKSB7IC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIHRoZW4gZXZhbHVsYXRlCiAgICAgICAgICBpZiAodHlwZW9mIG9bcGFydF0gPT09ICJzdHJpbmciKQogICAgICAgICAgICBvW3BhcnRdID0gdHJ5RXZhbChvW3BhcnRdKTsKICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgY29udGludWUgdG8gbmV4dCBlbWJlZGRlZCBvYmplY3QKICAgICAgICAgIG8gPSBvW3BhcnRdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIFJldHJpZXZlIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgYW4KICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBvciBudWxsIGlmIG5vbmUuCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlID0gZnVuY3Rpb24oZWwpIHsKICAgIHJldHVybiBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0Iik7CiAgfTsKCiAgLy8gRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IsCiAgLy8gYW5kIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoYXQgZWxlbWVudCwgaWYgYW55LiBJZiBubyBlbGVtZW50IG1hdGNoZXMgdGhlCiAgLy8gc2VsZWN0b3IsIG9yIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IGhhcyBubyBIVE1MV2lkZ2V0CiAgLy8gaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGl0LCB0aGVuIG51bGwgaXMgcmV0dXJuZWQuCiAgLy8KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmQgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgc2VsZWN0b3IgPSBzY29wZTsKICAgICAgc2NvcGUgPSBkb2N1bWVudDsKICAgIH0KCiAgICB2YXIgZWwgPSBzY29wZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIGlmIChlbCA9PT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2UoZWwpOwogICAgfQogIH07CgogIC8vIEZpbmRzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIGFuZAogIC8vIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2VzIChpLmUuIHRoZSByZXR1cm4gdmFsdWVzIG9mCiAgLy8gYW4gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRzLCBpbiBhbiBhcnJheS4gSWYgZWxlbWVudHMgdGhhdAogIC8vIG1hdGNoIHRoZSBzZWxlY3RvciBkb24ndCBoYXZlIGFuIGFzc29jaWF0ZWQgSFRNTFdpZGdldAogIC8vIGluc3RhbmNlLCB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbCBjb250YWluIG51bGxzLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kQWxsID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIG5vZGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICByZXN1bHRzLnB1c2god2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKG5vZGVzW2ldKSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB2YXIgcG9zdFJlbmRlckhhbmRsZXJzID0gW107CiAgZnVuY3Rpb24gaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCkgewogICAgd2hpbGUgKHBvc3RSZW5kZXJIYW5kbGVycy5sZW5ndGgpIHsKICAgICAgdmFyIGhhbmRsZXIgPSBwb3N0UmVuZGVySGFuZGxlcnMuc2hpZnQoKTsKICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICBoYW5kbGVyKCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIFJlZ2lzdGVyIHRoZSBnaXZlbiBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZQogIC8vIG5leHQgdGltZSBzdGF0aWMgd2lkZ2V0cyBhcmUgcmVuZGVyZWQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmFkZFBvc3RSZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHBvc3RSZW5kZXJIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTsKICB9OwoKICAvLyBUYWtlcyBhIG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9uLCBhbmQgcmV0dXJucyBhbgogIC8vIG9sZC1zdHlsZSBjbGFzcy1ib3VuZCBkZWZpbml0aW9uLiBUaGlzIHNhdmVzIHVzIGZyb20gaGF2aW5nCiAgLy8gdG8gcmV3cml0ZSBhbGwgdGhlIGxvZ2ljIGluIHRoaXMgZmlsZSB0byBhY2NvbW9kYXRlIGJvdGgKICAvLyB0eXBlcyBvZiBkZWZpbml0aW9ucy4KICBmdW5jdGlvbiBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZuKSB7CiAgICB2YXIgcmVzdWx0ID0gewogICAgICBuYW1lOiBkZWZuLm5hbWUsCiAgICAgIHR5cGU6IGRlZm4udHlwZSwKICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICByZXR1cm4gZGVmbi5mYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSwKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKGVsLCB4LCBpbnN0YW5jZSkgewogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXJWYWx1ZSh4KTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVzaXplKHdpZHRoLCBoZWlnaHQpOwogICAgICB9CiAgICB9OwoKICAgIGlmIChkZWZuLmZpbmQpCiAgICAgIHJlc3VsdC5maW5kID0gZGVmbi5maW5kOwogICAgaWYgKGRlZm4ucmVuZGVyRXJyb3IpCiAgICAgIHJlc3VsdC5yZW5kZXJFcnJvciA9IGRlZm4ucmVuZGVyRXJyb3I7CiAgICBpZiAoZGVmbi5jbGVhckVycm9yKQogICAgICByZXN1bHQuY2xlYXJFcnJvciA9IGRlZm4uY2xlYXJFcnJvcjsKCiAgICByZXR1cm4gcmVzdWx0OwogIH0KfSkoKTsKCg=="></script>
<script src="data:application/javascript;base64,Ly8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQIFxcCi8vIOKUgiBSYXBoYcOrbCAyLjEuNCAtIEphdmFTY3JpcHQgVmVjdG9yIExpYnJhcnkgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiBcXAovLyDilJzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKQgXFwKLy8g4pSCIENvcHlyaWdodCDCqSAyMDA4LTIwMTIgRG1pdHJ5IEJhcmFub3Zza2l5IChodHRwOi8vcmFwaGFlbGpzLmNvbSkgICAg4pSCIFxcCi8vIOKUgiBDb3B5cmlnaHQgwqkgMjAwOC0yMDEyIFNlbmNoYSBMYWJzIChodHRwOi8vc2VuY2hhLmNvbSkgICAgICAgICAgICAgIOKUgiBcXAovLyDilJzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKQgXFwKLy8g4pSCIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKGh0dHA6Ly9yYXBoYWVsanMuY29tL2xpY2Vuc2UuaHRtbCkgbGljZW5zZS7ilIIgXFwKLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYIFxcCiFmdW5jdGlvbihhLGIpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJldmUiLGZ1bmN0aW9uKCl7cmV0dXJuIGIoKX0pOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iKCk6YS5ldmU9YigpfSh0aGlzLGZ1bmN0aW9uKCl7dmFyIGEsYixjPSIwLjQuMiIsZD0iaGFzT3duUHJvcGVydHkiLGU9L1tcLlwvXS8sZj0iKiIsZz1mdW5jdGlvbigpe30saD1mdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9LGk9e246e319LGo9ZnVuY3Rpb24oYyxkKXtjPVN0cmluZyhjKTt2YXIgZSxmPWIsZz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMiksaT1qLmxpc3RlbmVycyhjKSxrPTAsbD1bXSxtPXt9LG49W10sbz1hO2E9YyxiPTA7Zm9yKHZhciBwPTAscT1pLmxlbmd0aDtxPnA7cCsrKSJ6SW5kZXgiaW4gaVtwXSYmKGwucHVzaChpW3BdLnpJbmRleCksaVtwXS56SW5kZXg8MCYmKG1baVtwXS56SW5kZXhdPWlbcF0pKTtmb3IobC5zb3J0KGgpO2xba108MDspaWYoZT1tW2xbaysrXV0sbi5wdXNoKGUuYXBwbHkoZCxnKSksYilyZXR1cm4gYj1mLG47Zm9yKHA9MDtxPnA7cCsrKWlmKGU9aVtwXSwiekluZGV4ImluIGUpaWYoZS56SW5kZXg9PWxba10pe2lmKG4ucHVzaChlLmFwcGx5KGQsZykpLGIpYnJlYWs7ZG8gaWYoaysrLGU9bVtsW2tdXSxlJiZuLnB1c2goZS5hcHBseShkLGcpKSxiKWJyZWFrO3doaWxlKGUpfWVsc2UgbVtlLnpJbmRleF09ZTtlbHNlIGlmKG4ucHVzaChlLmFwcGx5KGQsZykpLGIpYnJlYWs7cmV0dXJuIGI9ZixhPW8sbi5sZW5ndGg/bjpudWxsfTtyZXR1cm4gai5fZXZlbnRzPWksai5saXN0ZW5lcnM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGcsaCxqLGssbCxtPWEuc3BsaXQoZSksbj1pLG89W25dLHA9W107Zm9yKGc9MCxoPW0ubGVuZ3RoO2g+ZztnKyspe2ZvcihsPVtdLGo9MCxrPW8ubGVuZ3RoO2s+ajtqKyspZm9yKG49b1tqXS5uLGM9W25bbVtnXV0sbltmXV0sZD0yO2QtLTspYj1jW2RdLGImJihsLnB1c2goYikscD1wLmNvbmNhdChiLmZ8fFtdKSk7bz1sfXJldHVybiBwfSxqLm9uPWZ1bmN0aW9uKGEsYil7aWYoYT1TdHJpbmcoYSksImZ1bmN0aW9uIiE9dHlwZW9mIGIpcmV0dXJuIGZ1bmN0aW9uKCl7fTtmb3IodmFyIGM9YS5zcGxpdChlKSxkPWksZj0wLGg9Yy5sZW5ndGg7aD5mO2YrKylkPWQubixkPWQuaGFzT3duUHJvcGVydHkoY1tmXSkmJmRbY1tmXV18fChkW2NbZl1dPXtuOnt9fSk7Zm9yKGQuZj1kLmZ8fFtdLGY9MCxoPWQuZi5sZW5ndGg7aD5mO2YrKylpZihkLmZbZl09PWIpcmV0dXJuIGc7cmV0dXJuIGQuZi5wdXNoKGIpLGZ1bmN0aW9uKGEpeythPT0rYSYmKGIuekluZGV4PSthKX19LGouZj1mdW5jdGlvbihhKXt2YXIgYj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtqLmFwcGx5KG51bGwsW2EsbnVsbF0uY29uY2F0KGIpLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSkpfX0sai5zdG9wPWZ1bmN0aW9uKCl7Yj0xfSxqLm50PWZ1bmN0aW9uKGIpe3JldHVybiBiP25ldyBSZWdFeHAoIig/OlxcLnxcXC98XikiK2IrIig/OlxcLnxcXC98JCkiKS50ZXN0KGEpOmF9LGoubnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGEuc3BsaXQoZSl9LGoub2ZmPWoudW5iaW5kPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIHZvaWQoai5fZXZlbnRzPWk9e246e319KTt2YXIgYyxnLGgsayxsLG0sbixvPWEuc3BsaXQoZSkscD1baV07Zm9yKGs9MCxsPW8ubGVuZ3RoO2w+aztrKyspZm9yKG09MDttPHAubGVuZ3RoO20rPWgubGVuZ3RoLTIpe2lmKGg9W20sMV0sYz1wW21dLm4sb1trXSE9ZiljW29ba11dJiZoLnB1c2goY1tvW2tdXSk7ZWxzZSBmb3IoZyBpbiBjKWNbZF0oZykmJmgucHVzaChjW2ddKTtwLnNwbGljZS5hcHBseShwLGgpfWZvcihrPTAsbD1wLmxlbmd0aDtsPms7aysrKWZvcihjPXBba107Yy5uOyl7aWYoYil7aWYoYy5mKXtmb3IobT0wLG49Yy5mLmxlbmd0aDtuPm07bSsrKWlmKGMuZlttXT09Yil7Yy5mLnNwbGljZShtLDEpO2JyZWFrfSFjLmYubGVuZ3RoJiZkZWxldGUgYy5mfWZvcihnIGluIGMubilpZihjLm5bZF0oZykmJmMubltnXS5mKXt2YXIgcT1jLm5bZ10uZjtmb3IobT0wLG49cS5sZW5ndGg7bj5tO20rKylpZihxW21dPT1iKXtxLnNwbGljZShtLDEpO2JyZWFrfSFxLmxlbmd0aCYmZGVsZXRlIGMubltnXS5mfX1lbHNle2RlbGV0ZSBjLmY7Zm9yKGcgaW4gYy5uKWMubltkXShnKSYmYy5uW2ddLmYmJmRlbGV0ZSBjLm5bZ10uZn1jPWMubn19LGoub25jZT1mdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7cmV0dXJuIGoudW5iaW5kKGEsYyksYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBqLm9uKGEsYyl9LGoudmVyc2lvbj1jLGoudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iWW91IGFyZSBydW5uaW5nIEV2ZSAiK2N9LGp9KSxmdW5jdGlvbihhLGIpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJyYXBoYWVsLmNvcmUiLFsiZXZlIl0sZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSl9KToib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YihyZXF1aXJlKCJldmUiKSk6YS5SYXBoYWVsPWIoYS5ldmUpfSh0aGlzLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyl7aWYoYi5pcyhjLCJmdW5jdGlvbiIpKXJldHVybiB0P2MoKTphLm9uKCJyYXBoYWVsLkRPTWxvYWQiLGMpO2lmKGIuaXMoYyxVKSlyZXR1cm4gYi5fZW5naW5lLmNyZWF0ZVtDXShiLGMuc3BsaWNlKDAsMytiLmlzKGNbMF0sUykpKS5hZGQoYyk7dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO2lmKGIuaXMoZFtkLmxlbmd0aC0xXSwiZnVuY3Rpb24iKSl7dmFyIGU9ZC5wb3AoKTtyZXR1cm4gdD9lLmNhbGwoYi5fZW5naW5lLmNyZWF0ZVtDXShiLGQpKTphLm9uKCJyYXBoYWVsLkRPTWxvYWQiLGZ1bmN0aW9uKCl7ZS5jYWxsKGIuX2VuZ2luZS5jcmVhdGVbQ10oYixkKSl9KX1yZXR1cm4gYi5fZW5naW5lLmNyZWF0ZVtDXShiLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhhKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgYXx8T2JqZWN0KGEpIT09YSlyZXR1cm4gYTt2YXIgYj1uZXcgYS5jb25zdHJ1Y3Rvcjtmb3IodmFyIGQgaW4gYSlhW3ldKGQpJiYoYltkXT1jKGFbZF0pKTtyZXR1cm4gYn1mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBhLnB1c2goYS5zcGxpY2UoYywxKVswXSl9ZnVuY3Rpb24gZShhLGIsYyl7ZnVuY3Rpb24gZSgpe3ZhciBmPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSxnPWYuam9pbigi4pCAIiksaD1lLmNhY2hlPWUuY2FjaGV8fHt9LGk9ZS5jb3VudD1lLmNvdW50fHxbXTtyZXR1cm4gaFt5XShnKT8oZChpLGcpLGM/YyhoW2ddKTpoW2ddKTooaS5sZW5ndGg+PTFlMyYmZGVsZXRlIGhbaS5zaGlmdCgpXSxpLnB1c2goZyksaFtnXT1hW0NdKGIsZiksYz9jKGhbZ10pOmhbZ10pfXJldHVybiBlfWZ1bmN0aW9uIGYoKXtyZXR1cm4gdGhpcy5oZXh9ZnVuY3Rpb24gZyhhLGIpe2Zvcih2YXIgYz1bXSxkPTAsZT1hLmxlbmd0aDtlLTIqIWI+ZDtkKz0yKXt2YXIgZj1be3g6K2FbZC0yXSx5OithW2QtMV19LHt4OithW2RdLHk6K2FbZCsxXX0se3g6K2FbZCsyXSx5OithW2QrM119LHt4OithW2QrNF0seTorYVtkKzVdfV07Yj9kP2UtND09ZD9mWzNdPXt4OithWzBdLHk6K2FbMV19OmUtMj09ZCYmKGZbMl09e3g6K2FbMF0seTorYVsxXX0sZlszXT17eDorYVsyXSx5OithWzNdfSk6ZlswXT17eDorYVtlLTJdLHk6K2FbZS0xXX06ZS00PT1kP2ZbM109ZlsyXTpkfHwoZlswXT17eDorYVtkXSx5OithW2QrMV19KSxjLnB1c2goWyJDIiwoLWZbMF0ueCs2KmZbMV0ueCtmWzJdLngpLzYsKC1mWzBdLnkrNipmWzFdLnkrZlsyXS55KS82LChmWzFdLngrNipmWzJdLngtZlszXS54KS82LChmWzFdLnkrNipmWzJdLnktZlszXS55KS82LGZbMl0ueCxmWzJdLnldKX1yZXR1cm4gY31mdW5jdGlvbiBoKGEsYixjLGQsZSl7dmFyIGY9LTMqYis5KmMtOSpkKzMqZSxnPWEqZis2KmItMTIqYys2KmQ7cmV0dXJuIGEqZy0zKmIrMypjfWZ1bmN0aW9uIGkoYSxiLGMsZCxlLGYsZyxpLGope251bGw9PWomJihqPTEpLGo9aj4xPzE6MD5qPzA6ajtmb3IodmFyIGs9ai8yLGw9MTIsbT1bLS4xMjUyLC4xMjUyLC0uMzY3OCwuMzY3OCwtLjU4NzMsLjU4NzMsLS43Njk5LC43Njk5LC0uOTA0MSwuOTA0MSwtLjk4MTYsLjk4MTZdLG49Wy4yNDkxLC4yNDkxLC4yMzM1LC4yMzM1LC4yMDMyLC4yMDMyLC4xNjAxLC4xNjAxLC4xMDY5LC4xMDY5LC4wNDcyLC4wNDcyXSxvPTAscD0wO2w+cDtwKyspe3ZhciBxPWsqbVtwXStrLHI9aChxLGEsYyxlLGcpLHM9aChxLGIsZCxmLGkpLHQ9cipyK3MqcztvKz1uW3BdKk0uc3FydCh0KX1yZXR1cm4gaypvfWZ1bmN0aW9uIGooYSxiLGMsZCxlLGYsZyxoLGope2lmKCEoMD5qfHxpKGEsYixjLGQsZSxmLGcsaCk8aikpe3ZhciBrLGw9MSxtPWwvMixuPWwtbSxvPS4wMTtmb3Ioaz1pKGEsYixjLGQsZSxmLGcsaCxuKTtQKGstaik+bzspbS89MixuKz0oaj5rPzE6LTEpKm0saz1pKGEsYixjLGQsZSxmLGcsaCxuKTtyZXR1cm4gbn19ZnVuY3Rpb24gayhhLGIsYyxkLGUsZixnLGgpe2lmKCEoTihhLGMpPE8oZSxnKXx8TyhhLGMpPk4oZSxnKXx8TihiLGQpPE8oZixoKXx8TyhiLGQpPk4oZixoKSkpe3ZhciBpPShhKmQtYipjKSooZS1nKS0oYS1jKSooZSpoLWYqZyksaj0oYSpkLWIqYykqKGYtaCktKGItZCkqKGUqaC1mKmcpLGs9KGEtYykqKGYtaCktKGItZCkqKGUtZyk7aWYoayl7dmFyIGw9aS9rLG09ai9rLG49K2wudG9GaXhlZCgyKSxvPSttLnRvRml4ZWQoMik7aWYoIShuPCtPKGEsYykudG9GaXhlZCgyKXx8bj4rTihhLGMpLnRvRml4ZWQoMil8fG48K08oZSxnKS50b0ZpeGVkKDIpfHxuPitOKGUsZykudG9GaXhlZCgyKXx8bzwrTyhiLGQpLnRvRml4ZWQoMil8fG8+K04oYixkKS50b0ZpeGVkKDIpfHxvPCtPKGYsaCkudG9GaXhlZCgyKXx8bz4rTihmLGgpLnRvRml4ZWQoMikpKXJldHVybnt4OmwseTptfX19fWZ1bmN0aW9uIGwoYSxjLGQpe3ZhciBlPWIuYmV6aWVyQkJveChhKSxmPWIuYmV6aWVyQkJveChjKTtpZighYi5pc0JCb3hJbnRlcnNlY3QoZSxmKSlyZXR1cm4gZD8wOltdO2Zvcih2YXIgZz1pLmFwcGx5KDAsYSksaD1pLmFwcGx5KDAsYyksaj1OKH5+KGcvNSksMSksbD1OKH5+KGgvNSksMSksbT1bXSxuPVtdLG89e30scD1kPzA6W10scT0wO2orMT5xO3ErKyl7dmFyIHI9Yi5maW5kRG90c0F0U2VnbWVudC5hcHBseShiLGEuY29uY2F0KHEvaikpO20ucHVzaCh7eDpyLngseTpyLnksdDpxL2p9KX1mb3IocT0wO2wrMT5xO3ErKylyPWIuZmluZERvdHNBdFNlZ21lbnQuYXBwbHkoYixjLmNvbmNhdChxL2wpKSxuLnB1c2goe3g6ci54LHk6ci55LHQ6cS9sfSk7Zm9yKHE9MDtqPnE7cSsrKWZvcih2YXIgcz0wO2w+cztzKyspe3ZhciB0PW1bcV0sdT1tW3ErMV0sdj1uW3NdLHc9bltzKzFdLHg9UCh1LngtdC54KTwuMDAxPyJ5IjoieCIseT1QKHcueC12LngpPC4wMDE/InkiOiJ4Iix6PWsodC54LHQueSx1LngsdS55LHYueCx2Lnksdy54LHcueSk7aWYoeil7aWYob1t6LngudG9GaXhlZCg0KV09PXoueS50b0ZpeGVkKDQpKWNvbnRpbnVlO29bei54LnRvRml4ZWQoNCldPXoueS50b0ZpeGVkKDQpO3ZhciBBPXQudCtQKCh6W3hdLXRbeF0pLyh1W3hdLXRbeF0pKSoodS50LXQudCksQj12LnQrUCgoelt5XS12W3ldKS8od1t5XS12W3ldKSkqKHcudC12LnQpO0E+PTAmJjEuMDAxPj1BJiZCPj0wJiYxLjAwMT49QiYmKGQ/cCsrOnAucHVzaCh7eDp6LngseTp6LnksdDE6TyhBLDEpLHQyOk8oQiwxKX0pKX19cmV0dXJuIHB9ZnVuY3Rpb24gbShhLGMsZCl7YT1iLl9wYXRoMmN1cnZlKGEpLGM9Yi5fcGF0aDJjdXJ2ZShjKTtmb3IodmFyIGUsZixnLGgsaSxqLGssbSxuLG8scD1kPzA6W10scT0wLHI9YS5sZW5ndGg7cj5xO3ErKyl7dmFyIHM9YVtxXTtpZigiTSI9PXNbMF0pZT1pPXNbMV0sZj1qPXNbMl07ZWxzZXsiQyI9PXNbMF0/KG49W2UsZl0uY29uY2F0KHMuc2xpY2UoMSkpLGU9bls2XSxmPW5bN10pOihuPVtlLGYsZSxmLGksaixpLGpdLGU9aSxmPWopO2Zvcih2YXIgdD0wLHU9Yy5sZW5ndGg7dT50O3QrKyl7dmFyIHY9Y1t0XTtpZigiTSI9PXZbMF0pZz1rPXZbMV0saD1tPXZbMl07ZWxzZXsiQyI9PXZbMF0/KG89W2csaF0uY29uY2F0KHYuc2xpY2UoMSkpLGc9b1s2XSxoPW9bN10pOihvPVtnLGgsZyxoLGssbSxrLG1dLGc9ayxoPW0pO3ZhciB3PWwobixvLGQpO2lmKGQpcCs9dztlbHNle2Zvcih2YXIgeD0wLHk9dy5sZW5ndGg7eT54O3grKyl3W3hdLnNlZ21lbnQxPXEsd1t4XS5zZWdtZW50Mj10LHdbeF0uYmV6MT1uLHdbeF0uYmV6Mj1vO3A9cC5jb25jYXQodyl9fX19fXJldHVybiBwfWZ1bmN0aW9uIG4oYSxiLGMsZCxlLGYpe251bGwhPWE/KHRoaXMuYT0rYSx0aGlzLmI9K2IsdGhpcy5jPStjLHRoaXMuZD0rZCx0aGlzLmU9K2UsdGhpcy5mPStmKToodGhpcy5hPTEsdGhpcy5iPTAsdGhpcy5jPTAsdGhpcy5kPTEsdGhpcy5lPTAsdGhpcy5mPTApfWZ1bmN0aW9uIG8oKXtyZXR1cm4gdGhpcy54K0crdGhpcy55K0crdGhpcy53aWR0aCsiIMOXICIrdGhpcy5oZWlnaHR9ZnVuY3Rpb24gcChhLGIsYyxkLGUsZil7ZnVuY3Rpb24gZyhhKXtyZXR1cm4oKGwqYStrKSphK2opKmF9ZnVuY3Rpb24gaChhLGIpe3ZhciBjPWkoYSxiKTtyZXR1cm4oKG8qYytuKSpjK20pKmN9ZnVuY3Rpb24gaShhLGIpe3ZhciBjLGQsZSxmLGgsaTtmb3IoZT1hLGk9MDs4Pmk7aSsrKXtpZihmPWcoZSktYSxQKGYpPGIpcmV0dXJuIGU7aWYoaD0oMypsKmUrMiprKSplK2osUChoKTwxZS02KWJyZWFrO2UtPWYvaH1pZihjPTAsZD0xLGU9YSxjPmUpcmV0dXJuIGM7aWYoZT5kKXJldHVybiBkO2Zvcig7ZD5jOyl7aWYoZj1nKGUpLFAoZi1hKTxiKXJldHVybiBlO2E+Zj9jPWU6ZD1lLGU9KGQtYykvMitjfXJldHVybiBlfXZhciBqPTMqYixrPTMqKGQtYiktaixsPTEtai1rLG09MypjLG49MyooZS1jKS1tLG89MS1tLW47cmV0dXJuIGgoYSwxLygyMDAqZikpfWZ1bmN0aW9uIHEoYSxiKXt2YXIgYz1bXSxkPXt9O2lmKHRoaXMubXM9Yix0aGlzLnRpbWVzPTEsYSl7Zm9yKHZhciBlIGluIGEpYVt5XShlKSYmKGRbJChlKV09YVtlXSxjLnB1c2goJChlKSkpO2Muc29ydChrYSl9dGhpcy5hbmltPWQsdGhpcy50b3A9Y1tjLmxlbmd0aC0xXSx0aGlzLnBlcmNlbnRzPWN9ZnVuY3Rpb24gcihjLGQsZSxmLGcsaCl7ZT0kKGUpO3ZhciBpLGosayxsLG0sbyxxPWMubXMscj17fSxzPXt9LHQ9e307aWYoZilmb3Iodz0wLHg9ZmIubGVuZ3RoO3g+dzt3Kyspe3ZhciB1PWZiW3ddO2lmKHUuZWwuaWQ9PWQuaWQmJnUuYW5pbT09Yyl7dS5wZXJjZW50IT1lPyhmYi5zcGxpY2UodywxKSxrPTEpOmo9dSxkLmF0dHIodS50b3RhbE9yaWdpbik7YnJlYWt9fWVsc2UgZj0rcztmb3IodmFyIHc9MCx4PWMucGVyY2VudHMubGVuZ3RoO3g+dzt3Kyspe2lmKGMucGVyY2VudHNbd109PWV8fGMucGVyY2VudHNbd10+ZipjLnRvcCl7ZT1jLnBlcmNlbnRzW3ddLG09Yy5wZXJjZW50c1t3LTFdfHwwLHE9cS9jLnRvcCooZS1tKSxsPWMucGVyY2VudHNbdysxXSxpPWMuYW5pbVtlXTticmVha31mJiZkLmF0dHIoYy5hbmltW2MucGVyY2VudHNbd11dKX1pZihpKXtpZihqKWouaW5pdHN0YXR1cz1mLGouc3RhcnQ9bmV3IERhdGUtai5tcypmO2Vsc2V7Zm9yKHZhciB6IGluIGkpaWYoaVt5XSh6KSYmKGNhW3ldKHopfHxkLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbeV0oeikpKXN3aXRjaChyW3pdPWQuYXR0cih6KSxudWxsPT1yW3pdJiYoclt6XT1iYVt6XSksc1t6XT1pW3pdLGNhW3pdKXtjYXNlIFM6dFt6XT0oc1t6XS1yW3pdKS9xO2JyZWFrO2Nhc2UiY29sb3VyIjpyW3pdPWIuZ2V0UkdCKHJbel0pO3ZhciBBPWIuZ2V0UkdCKHNbel0pO3Rbel09e3I6KEEuci1yW3pdLnIpL3EsZzooQS5nLXJbel0uZykvcSxiOihBLmItclt6XS5iKS9xfTticmVhaztjYXNlInBhdGgiOnZhciBCPUlhKHJbel0sc1t6XSksQz1CWzFdO2ZvcihyW3pdPUJbMF0sdFt6XT1bXSx3PTAseD1yW3pdLmxlbmd0aDt4Pnc7dysrKXt0W3pdW3ddPVswXTtmb3IodmFyIEU9MSxGPXJbel1bd10ubGVuZ3RoO0Y+RTtFKyspdFt6XVt3XVtFXT0oQ1t3XVtFXS1yW3pdW3ddW0VdKS9xfWJyZWFrO2Nhc2UidHJhbnNmb3JtIjp2YXIgRz1kLl8sSj1OYShHW3pdLHNbel0pO2lmKEopZm9yKHJbel09Si5mcm9tLHNbel09Si50byx0W3pdPVtdLHRbel0ucmVhbD0hMCx3PTAseD1yW3pdLmxlbmd0aDt4Pnc7dysrKWZvcih0W3pdW3ddPVtyW3pdW3ddWzBdXSxFPTEsRj1yW3pdW3ddLmxlbmd0aDtGPkU7RSsrKXRbel1bd11bRV09KHNbel1bd11bRV0tclt6XVt3XVtFXSkvcTtlbHNle3ZhciBLPWQubWF0cml4fHxuZXcgbixMPXtfOnt0cmFuc2Zvcm06Ry50cmFuc2Zvcm19LGdldEJCb3g6ZnVuY3Rpb24oKXtyZXR1cm4gZC5nZXRCQm94KDEpfX07clt6XT1bSy5hLEsuYixLLmMsSy5kLEsuZSxLLmZdLExhKEwsc1t6XSksc1t6XT1MLl8udHJhbnNmb3JtLHRbel09WyhMLm1hdHJpeC5hLUsuYSkvcSwoTC5tYXRyaXguYi1LLmIpL3EsKEwubWF0cml4LmMtSy5jKS9xLChMLm1hdHJpeC5kLUsuZCkvcSwoTC5tYXRyaXguZS1LLmUpL3EsKEwubWF0cml4LmYtSy5mKS9xXX1icmVhaztjYXNlImNzdiI6dmFyIE09SChpW3pdKVtJXSh2KSxOPUgoclt6XSlbSV0odik7aWYoImNsaXAtcmVjdCI9PXopZm9yKHJbel09Tix0W3pdPVtdLHc9Ti5sZW5ndGg7dy0tOyl0W3pdW3ddPShNW3ddLXJbel1bd10pL3E7c1t6XT1NO2JyZWFrO2RlZmF1bHQ6Zm9yKE09W11bRF0oaVt6XSksTj1bXVtEXShyW3pdKSx0W3pdPVtdLHc9ZC5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW3pdLmxlbmd0aDt3LS07KXRbel1bd109KChNW3ddfHwwKS0oTlt3XXx8MCkpL3F9dmFyIE89aS5lYXNpbmcsUD1iLmVhc2luZ19mb3JtdWxhc1tPXTtpZighUClpZihQPUgoTykubWF0Y2goWSksUCYmNT09UC5sZW5ndGgpe3ZhciBRPVA7UD1mdW5jdGlvbihhKXtyZXR1cm4gcChhLCtRWzFdLCtRWzJdLCtRWzNdLCtRWzRdLHEpfX1lbHNlIFA9bGE7aWYobz1pLnN0YXJ0fHxjLnN0YXJ0fHwrbmV3IERhdGUsdT17YW5pbTpjLHBlcmNlbnQ6ZSx0aW1lc3RhbXA6byxzdGFydDpvKyhjLmRlbHx8MCksc3RhdHVzOjAsaW5pdHN0YXR1czpmfHwwLHN0b3A6ITEsbXM6cSxlYXNpbmc6UCxmcm9tOnIsZGlmZjp0LHRvOnMsZWw6ZCxjYWxsYmFjazppLmNhbGxiYWNrLHByZXY6bSxuZXh0OmwscmVwZWF0Omh8fGMudGltZXMsb3JpZ2luOmQuYXR0cigpLHRvdGFsT3JpZ2luOmd9LGZiLnB1c2godSksZiYmIWomJiFrJiYodS5zdG9wPSEwLHUuc3RhcnQ9bmV3IERhdGUtcSpmLDE9PWZiLmxlbmd0aCkpcmV0dXJuIGhiKCk7ayYmKHUuc3RhcnQ9bmV3IERhdGUtdS5tcypmKSwxPT1mYi5sZW5ndGgmJmdiKGhiKX1hKCJyYXBoYWVsLmFuaW0uc3RhcnQuIitkLmlkLGQsYyl9fWZ1bmN0aW9uIHMoYSl7Zm9yKHZhciBiPTA7YjxmYi5sZW5ndGg7YisrKWZiW2JdLmVsLnBhcGVyPT1hJiZmYi5zcGxpY2UoYi0tLDEpfWIudmVyc2lvbj0iMi4xLjQiLGIuZXZlPWE7dmFyIHQsdSx2PS9bLCBdKy8sdz17Y2lyY2xlOjEscmVjdDoxLHBhdGg6MSxlbGxpcHNlOjEsdGV4dDoxLGltYWdlOjF9LHg9L1x7KFxkKylcfS9nLHk9Imhhc093blByb3BlcnR5Iix6PXtkb2M6ZG9jdW1lbnQsd2luOndpbmRvd30sQT17d2FzOk9iamVjdC5wcm90b3R5cGVbeV0uY2FsbCh6LndpbiwiUmFwaGFlbCIpLGlzOnoud2luLlJhcGhhZWx9LEI9ZnVuY3Rpb24oKXt0aGlzLmNhPXRoaXMuY3VzdG9tQXR0cmlidXRlcz17fX0sQz0iYXBwbHkiLEQ9ImNvbmNhdCIsRT0ib250b3VjaHN0YXJ0ImluIHoud2lufHx6Lndpbi5Eb2N1bWVudFRvdWNoJiZ6LmRvYyBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gsRj0iIixHPSIgIixIPVN0cmluZyxJPSJzcGxpdCIsSj0iY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNlbW92ZSBtb3VzZW91dCBtb3VzZW92ZXIgbW91c2V1cCB0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCJbSV0oRyksSz17bW91c2Vkb3duOiJ0b3VjaHN0YXJ0Iixtb3VzZW1vdmU6InRvdWNobW92ZSIsbW91c2V1cDoidG91Y2hlbmQifSxMPUgucHJvdG90eXBlLnRvTG93ZXJDYXNlLE09TWF0aCxOPU0ubWF4LE89TS5taW4sUD1NLmFicyxRPU0ucG93LFI9TS5QSSxTPSJudW1iZXIiLFQ9InN0cmluZyIsVT0iYXJyYXkiLFY9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxXPShiLl9JU1VSTD0vXnVybFwoWyciXT8oLis/KVsnIl0/XCkkL2ksL15ccyooKCNbYS1mXGRdezZ9KXwoI1thLWZcZF17M30pfHJnYmE/XChccyooW1xkXC5dKyU/XHMqLFxzKltcZFwuXSslP1xzKixccypbXGRcLl0rJT8oPzpccyosXHMqW1xkXC5dKyU/KT8pXHMqXCl8aHNiYT9cKFxzKihbXGRcLl0rKD86ZGVnfFx4YjB8JSk/XHMqLFxzKltcZFwuXSslP1xzKixccypbXGRcLl0rKD86JT9ccyosXHMqW1xkXC5dKyk/KSU/XHMqXCl8aHNsYT9cKFxzKihbXGRcLl0rKD86ZGVnfFx4YjB8JSk/XHMqLFxzKltcZFwuXSslP1xzKixccypbXGRcLl0rKD86JT9ccyosXHMqW1xkXC5dKyk/KSU/XHMqXCkpXHMqJC9pKSxYPXtOYU46MSxJbmZpbml0eToxLCItSW5maW5pdHkiOjF9LFk9L14oPzpjdWJpYy0pP2JlemllclwoKFteLF0rKSwoW14sXSspLChbXixdKyksKFteXCldKylcKS8sWj1NLnJvdW5kLCQ9cGFyc2VGbG9hdCxfPXBhcnNlSW50LGFhPUgucHJvdG90eXBlLnRvVXBwZXJDYXNlLGJhPWIuX2F2YWlsYWJsZUF0dHJzPXsiYXJyb3ctZW5kIjoibm9uZSIsImFycm93LXN0YXJ0Ijoibm9uZSIsYmx1cjowLCJjbGlwLXJlY3QiOiIwIDAgMWU5IDFlOSIsY3Vyc29yOiJkZWZhdWx0IixjeDowLGN5OjAsZmlsbDoiI2ZmZiIsImZpbGwtb3BhY2l0eSI6MSxmb250OicxMHB4ICJBcmlhbCInLCJmb250LWZhbWlseSI6JyJBcmlhbCInLCJmb250LXNpemUiOiIxMCIsImZvbnQtc3R5bGUiOiJub3JtYWwiLCJmb250LXdlaWdodCI6NDAwLGdyYWRpZW50OjAsaGVpZ2h0OjAsaHJlZjoiaHR0cDovL3JhcGhhZWxqcy5jb20vIiwibGV0dGVyLXNwYWNpbmciOjAsb3BhY2l0eToxLHBhdGg6Ik0wLDAiLHI6MCxyeDowLHJ5OjAsc3JjOiIiLHN0cm9rZToiIzAwMCIsInN0cm9rZS1kYXNoYXJyYXkiOiIiLCJzdHJva2UtbGluZWNhcCI6ImJ1dHQiLCJzdHJva2UtbGluZWpvaW4iOiJidXR0Iiwic3Ryb2tlLW1pdGVybGltaXQiOjAsInN0cm9rZS1vcGFjaXR5IjoxLCJzdHJva2Utd2lkdGgiOjEsdGFyZ2V0OiJfYmxhbmsiLCJ0ZXh0LWFuY2hvciI6Im1pZGRsZSIsdGl0bGU6IlJhcGhhZWwiLHRyYW5zZm9ybToiIix3aWR0aDowLHg6MCx5OjB9LGNhPWIuX2F2YWlsYWJsZUFuaW1BdHRycz17Ymx1cjpTLCJjbGlwLXJlY3QiOiJjc3YiLGN4OlMsY3k6UyxmaWxsOiJjb2xvdXIiLCJmaWxsLW9wYWNpdHkiOlMsImZvbnQtc2l6ZSI6UyxoZWlnaHQ6UyxvcGFjaXR5OlMscGF0aDoicGF0aCIscjpTLHJ4OlMscnk6UyxzdHJva2U6ImNvbG91ciIsInN0cm9rZS1vcGFjaXR5IjpTLCJzdHJva2Utd2lkdGgiOlMsdHJhbnNmb3JtOiJ0cmFuc2Zvcm0iLHdpZHRoOlMseDpTLHk6U30sZGE9L1tceDA5XHgwYVx4MGJceDBjXHgwZFx4MjBceGEwXHUxNjgwXHUxODBlXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBhXHUyMDJmXHUyMDVmXHUzMDAwXHUyMDI4XHUyMDI5XSosW1x4MDlceDBhXHgwYlx4MGNceDBkXHgyMFx4YTBcdTE2ODBcdTE4MGVcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDNcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMGFcdTIwMmZcdTIwNWZcdTMwMDBcdTIwMjhcdTIwMjldKi8sZWE9e2hzOjEscmc6MX0sZmE9Lyw/KFthY2hsbXFyc3R2eHpdKSw/L2dpLGdhPS8oW2FjaGxtcnFzdHZ6XSlbXHgwOVx4MGFceDBiXHgwY1x4MGRceDIwXHhhMFx1MTY4MFx1MTgwZVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwYVx1MjAyZlx1MjA1Zlx1MzAwMFx1MjAyOFx1MjAyOSxdKigoLT9cZCpcLj9cZCooPzplW1wtK10/XGQrKT9bXHgwOVx4MGFceDBiXHgwY1x4MGRceDIwXHhhMFx1MTY4MFx1MTgwZVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwYVx1MjAyZlx1MjA1Zlx1MzAwMFx1MjAyOFx1MjAyOV0qLD9bXHgwOVx4MGFceDBiXHgwY1x4MGRceDIwXHhhMFx1MTY4MFx1MTgwZVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwYVx1MjAyZlx1MjA1Zlx1MzAwMFx1MjAyOFx1MjAyOV0qKSspL2dpLGhhPS8oW3JzdG1dKVtceDA5XHgwYVx4MGJceDBjXHgwZFx4MjBceGEwXHUxNjgwXHUxODBlXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBhXHUyMDJmXHUyMDVmXHUzMDAwXHUyMDI4XHUyMDI5LF0qKCgtP1xkKlwuP1xkKig/OmVbXC0rXT9cZCspP1tceDA5XHgwYVx4MGJceDBjXHgwZFx4MjBceGEwXHUxNjgwXHUxODBlXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBhXHUyMDJmXHUyMDVmXHUzMDAwXHUyMDI4XHUyMDI5XSosP1tceDA5XHgwYVx4MGJceDBjXHgwZFx4MjBceGEwXHUxNjgwXHUxODBlXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBhXHUyMDJmXHUyMDVmXHUzMDAwXHUyMDI4XHUyMDI5XSopKykvZ2ksaWE9LygtP1xkKlwuP1xkKig/OmVbXC0rXT9cZCspPylbXHgwOVx4MGFceDBiXHgwY1x4MGRceDIwXHhhMFx1MTY4MFx1MTgwZVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwYVx1MjAyZlx1MjA1Zlx1MzAwMFx1MjAyOFx1MjAyOV0qLD9bXHgwOVx4MGFceDBiXHgwY1x4MGRceDIwXHhhMFx1MTY4MFx1MTgwZVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwYVx1MjAyZlx1MjA1Zlx1MzAwMFx1MjAyOFx1MjAyOV0qL2dpLGphPShiLl9yYWRpYWxfZ3JhZGllbnQ9L15yKD86XCgoW14sXSs/KVtceDA5XHgwYVx4MGJceDBjXHgwZFx4MjBceGEwXHUxNjgwXHUxODBlXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBhXHUyMDJmXHUyMDVmXHUzMDAwXHUyMDI4XHUyMDI5XSosW1x4MDlceDBhXHgwYlx4MGNceDBkXHgyMFx4YTBcdTE2ODBcdTE4MGVcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDNcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMGFcdTIwMmZcdTIwNWZcdTMwMDBcdTIwMjhcdTIwMjldKihbXlwpXSs/KVwpKT8vLHt9KSxrYT1mdW5jdGlvbihhLGIpe3JldHVybiAkKGEpLSQoYil9LGxhPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxtYT1iLl9yZWN0UGF0aD1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBlP1tbIk0iLGErZSxiXSxbImwiLGMtMiplLDBdLFsiYSIsZSxlLDAsMCwxLGUsZV0sWyJsIiwwLGQtMiplXSxbImEiLGUsZSwwLDAsMSwtZSxlXSxbImwiLDIqZS1jLDBdLFsiYSIsZSxlLDAsMCwxLC1lLC1lXSxbImwiLDAsMiplLWRdLFsiYSIsZSxlLDAsMCwxLGUsLWVdLFsieiJdXTpbWyJNIixhLGJdLFsibCIsYywwXSxbImwiLDAsZF0sWyJsIiwtYywwXSxbInoiXV19LG5hPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBudWxsPT1kJiYoZD1jKSxbWyJNIixhLGJdLFsibSIsMCwtZF0sWyJhIixjLGQsMCwxLDEsMCwyKmRdLFsiYSIsYyxkLDAsMSwxLDAsLTIqZF0sWyJ6Il1dfSxvYT1iLl9nZXRQYXRoPXtwYXRoOmZ1bmN0aW9uKGEpe3JldHVybiBhLmF0dHIoInBhdGgiKX0sY2lyY2xlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cnM7cmV0dXJuIG5hKGIuY3gsYi5jeSxiLnIpfSxlbGxpcHNlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cnM7cmV0dXJuIG5hKGIuY3gsYi5jeSxiLnJ4LGIucnkpfSxyZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cnM7cmV0dXJuIG1hKGIueCxiLnksYi53aWR0aCxiLmhlaWdodCxiLnIpfSxpbWFnZTpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJzO3JldHVybiBtYShiLngsYi55LGIud2lkdGgsYi5oZWlnaHQpfSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuX2dldEJCb3goKTtyZXR1cm4gbWEoYi54LGIueSxiLndpZHRoLGIuaGVpZ2h0KX0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuX2dldEJCb3goKTtyZXR1cm4gbWEoYi54LGIueSxiLndpZHRoLGIuaGVpZ2h0KX19LHBhPWIubWFwUGF0aD1mdW5jdGlvbihhLGIpe2lmKCFiKXJldHVybiBhO3ZhciBjLGQsZSxmLGcsaCxpO2ZvcihhPUlhKGEpLGU9MCxnPWEubGVuZ3RoO2c+ZTtlKyspZm9yKGk9YVtlXSxmPTEsaD1pLmxlbmd0aDtoPmY7Zis9MiljPWIueChpW2ZdLGlbZisxXSksZD1iLnkoaVtmXSxpW2YrMV0pLGlbZl09YyxpW2YrMV09ZDtyZXR1cm4gYX07aWYoYi5fZz16LGIudHlwZT16Lndpbi5TVkdBbmdsZXx8ei5kb2MuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNCYXNpY1N0cnVjdHVyZSIsIjEuMSIpPyJTVkciOiJWTUwiLCJWTUwiPT1iLnR5cGUpe3ZhciBxYSxyYT16LmRvYy5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihyYS5pbm5lckhUTUw9Jzx2OnNoYXBlIGFkaj0iMSIvPicscWE9cmEuZmlyc3RDaGlsZCxxYS5zdHlsZS5iZWhhdmlvcj0idXJsKCNkZWZhdWx0I1ZNTCkiLCFxYXx8Im9iamVjdCIhPXR5cGVvZiBxYS5hZGopcmV0dXJuIGIudHlwZT1GO3JhPW51bGx9Yi5zdmc9IShiLnZtbD0iVk1MIj09Yi50eXBlKSxiLl9QYXBlcj1CLGIuZm49dT1CLnByb3RvdHlwZT1iLnByb3RvdHlwZSxiLl9pZD0wLGIuX29pZD0wLGIuaXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj1MLmNhbGwoYiksImZpbml0ZSI9PWI/IVhbeV0oK2EpOiJhcnJheSI9PWI/YSBpbnN0YW5jZW9mIEFycmF5OiJudWxsIj09YiYmbnVsbD09PWF8fGI9PXR5cGVvZiBhJiZudWxsIT09YXx8Im9iamVjdCI9PWImJmE9PT1PYmplY3QoYSl8fCJhcnJheSI9PWImJkFycmF5LmlzQXJyYXkmJkFycmF5LmlzQXJyYXkoYSl8fFYuY2FsbChhKS5zbGljZSg4LC0xKS50b0xvd2VyQ2FzZSgpPT1ifSxiLmFuZ2xlPWZ1bmN0aW9uKGEsYyxkLGUsZixnKXtpZihudWxsPT1mKXt2YXIgaD1hLWQsaT1jLWU7cmV0dXJuIGh8fGk/KDE4MCsxODAqTS5hdGFuMigtaSwtaCkvUiszNjApJTM2MDowfXJldHVybiBiLmFuZ2xlKGEsYyxmLGcpLWIuYW5nbGUoZCxlLGYsZyl9LGIucmFkPWZ1bmN0aW9uKGEpe3JldHVybiBhJTM2MCpSLzE4MH0sYi5kZWc9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoMTgwKmEvUiUzNjAqMWUzKS8xZTN9LGIuc25hcFRvPWZ1bmN0aW9uKGEsYyxkKXtpZihkPWIuaXMoZCwiZmluaXRlIik/ZDoxMCxiLmlzKGEsVSkpe2Zvcih2YXIgZT1hLmxlbmd0aDtlLS07KWlmKFAoYVtlXS1jKTw9ZClyZXR1cm4gYVtlXX1lbHNle2E9K2E7dmFyIGY9YyVhO2lmKGQ+ZilyZXR1cm4gYy1mO2lmKGY+YS1kKXJldHVybiBjLWYrYX1yZXR1cm4gY307Yi5jcmVhdGVVVUlEPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZShhLGIpLnRvVXBwZXJDYXNlKCl9fSgvW3h5XS9nLGZ1bmN0aW9uKGEpe3ZhciBiPTE2Kk0ucmFuZG9tKCl8MCxjPSJ4Ij09YT9iOjMmYnw4O3JldHVybiBjLnRvU3RyaW5nKDE2KX0pO2Iuc2V0V2luZG93PWZ1bmN0aW9uKGMpe2EoInJhcGhhZWwuc2V0V2luZG93IixiLHoud2luLGMpLHoud2luPWMsei5kb2M9ei53aW4uZG9jdW1lbnQsYi5fZW5naW5lLmluaXRXaW4mJmIuX2VuZ2luZS5pbml0V2luKHoud2luKX07dmFyIHNhPWZ1bmN0aW9uKGEpe2lmKGIudm1sKXt2YXIgYyxkPS9eXHMrfFxzKyQvZzt0cnl7dmFyIGY9bmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIik7Zi53cml0ZSgiPGJvZHk+IiksZi5jbG9zZSgpLGM9Zi5ib2R5fWNhdGNoKGcpe2M9Y3JlYXRlUG9wdXAoKS5kb2N1bWVudC5ib2R5fXZhciBoPWMuY3JlYXRlVGV4dFJhbmdlKCk7c2E9ZShmdW5jdGlvbihhKXt0cnl7Yy5zdHlsZS5jb2xvcj1IKGEpLnJlcGxhY2UoZCxGKTt2YXIgYj1oLnF1ZXJ5Q29tbWFuZFZhbHVlKCJGb3JlQ29sb3IiKTtyZXR1cm4gYj0oMjU1JmIpPDwxNnw2NTI4MCZifCgxNjcxMTY4MCZiKT4+PjE2LCIjIisoIjAwMDAwMCIrYi50b1N0cmluZygxNikpLnNsaWNlKC02KX1jYXRjaChlKXtyZXR1cm4ibm9uZSJ9fSl9ZWxzZXt2YXIgaT16LmRvYy5jcmVhdGVFbGVtZW50KCJpIik7aS50aXRsZT0iUmFwaGHDq2wgQ29sb3VyIFBpY2tlciIsaS5zdHlsZS5kaXNwbGF5PSJub25lIix6LmRvYy5ib2R5LmFwcGVuZENoaWxkKGkpLHNhPWUoZnVuY3Rpb24oYSl7cmV0dXJuIGkuc3R5bGUuY29sb3I9YSx6LmRvYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGksRikuZ2V0UHJvcGVydHlWYWx1ZSgiY29sb3IiKX0pfXJldHVybiBzYShhKX0sdGE9ZnVuY3Rpb24oKXtyZXR1cm4iaHNiKCIrW3RoaXMuaCx0aGlzLnMsdGhpcy5iXSsiKSJ9LHVhPWZ1bmN0aW9uKCl7cmV0dXJuImhzbCgiK1t0aGlzLmgsdGhpcy5zLHRoaXMubF0rIikifSx2YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhleH0sd2E9ZnVuY3Rpb24oYSxjLGQpe2lmKG51bGw9PWMmJmIuaXMoYSwib2JqZWN0IikmJiJyImluIGEmJiJnImluIGEmJiJiImluIGEmJihkPWEuYixjPWEuZyxhPWEuciksbnVsbD09YyYmYi5pcyhhLFQpKXt2YXIgZT1iLmdldFJHQihhKTthPWUucixjPWUuZyxkPWUuYn1yZXR1cm4oYT4xfHxjPjF8fGQ+MSkmJihhLz0yNTUsYy89MjU1LGQvPTI1NSksW2EsYyxkXX0seGE9ZnVuY3Rpb24oYSxjLGQsZSl7YSo9MjU1LGMqPTI1NSxkKj0yNTU7dmFyIGY9e3I6YSxnOmMsYjpkLGhleDpiLnJnYihhLGMsZCksdG9TdHJpbmc6dmF9O3JldHVybiBiLmlzKGUsImZpbml0ZSIpJiYoZi5vcGFjaXR5PWUpLGZ9O2IuY29sb3I9ZnVuY3Rpb24oYSl7dmFyIGM7cmV0dXJuIGIuaXMoYSwib2JqZWN0IikmJiJoImluIGEmJiJzImluIGEmJiJiImluIGE/KGM9Yi5oc2IycmdiKGEpLGEucj1jLnIsYS5nPWMuZyxhLmI9Yy5iLGEuaGV4PWMuaGV4KTpiLmlzKGEsIm9iamVjdCIpJiYiaCJpbiBhJiYicyJpbiBhJiYibCJpbiBhPyhjPWIuaHNsMnJnYihhKSxhLnI9Yy5yLGEuZz1jLmcsYS5iPWMuYixhLmhleD1jLmhleCk6KGIuaXMoYSwic3RyaW5nIikmJihhPWIuZ2V0UkdCKGEpKSxiLmlzKGEsIm9iamVjdCIpJiYiciJpbiBhJiYiZyJpbiBhJiYiYiJpbiBhPyhjPWIucmdiMmhzbChhKSxhLmg9Yy5oLGEucz1jLnMsYS5sPWMubCxjPWIucmdiMmhzYihhKSxhLnY9Yy5iKTooYT17aGV4OiJub25lIn0sYS5yPWEuZz1hLmI9YS5oPWEucz1hLnY9YS5sPS0xKSksYS50b1N0cmluZz12YSxhfSxiLmhzYjJyZ2I9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5pcyhhLCJvYmplY3QiKSYmImgiaW4gYSYmInMiaW4gYSYmImIiaW4gYSYmKGM9YS5iLGI9YS5zLGQ9YS5vLGE9YS5oKSxhKj0zNjA7dmFyIGUsZixnLGgsaTtyZXR1cm4gYT1hJTM2MC82MCxpPWMqYixoPWkqKDEtUChhJTItMSkpLGU9Zj1nPWMtaSxhPX5+YSxlKz1baSxoLDAsMCxoLGldW2FdLGYrPVtoLGksaSxoLDAsMF1bYV0sZys9WzAsMCxoLGksaSxoXVthXSx4YShlLGYsZyxkKX0sYi5oc2wycmdiPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuaXMoYSwib2JqZWN0IikmJiJoImluIGEmJiJzImluIGEmJiJsImluIGEmJihjPWEubCxiPWEucyxhPWEuaCksKGE+MXx8Yj4xfHxjPjEpJiYoYS89MzYwLGIvPTEwMCxjLz0xMDApLGEqPTM2MDt2YXIgZSxmLGcsaCxpO3JldHVybiBhPWElMzYwLzYwLGk9MipiKiguNT5jP2M6MS1jKSxoPWkqKDEtUChhJTItMSkpLGU9Zj1nPWMtaS8yLGE9fn5hLGUrPVtpLGgsMCwwLGgsaV1bYV0sZis9W2gsaSxpLGgsMCwwXVthXSxnKz1bMCwwLGgsaSxpLGhdW2FdLHhhKGUsZixnLGQpfSxiLnJnYjJoc2I9ZnVuY3Rpb24oYSxiLGMpe2M9d2EoYSxiLGMpLGE9Y1swXSxiPWNbMV0sYz1jWzJdO3ZhciBkLGUsZixnO3JldHVybiBmPU4oYSxiLGMpLGc9Zi1PKGEsYixjKSxkPTA9PWc/bnVsbDpmPT1hPyhiLWMpL2c6Zj09Yj8oYy1hKS9nKzI6KGEtYikvZys0LGQ9KGQrMzYwKSU2KjYwLzM2MCxlPTA9PWc/MDpnL2Yse2g6ZCxzOmUsYjpmLHRvU3RyaW5nOnRhfX0sYi5yZ2IyaHNsPWZ1bmN0aW9uKGEsYixjKXtjPXdhKGEsYixjKSxhPWNbMF0sYj1jWzFdLGM9Y1syXTt2YXIgZCxlLGYsZyxoLGk7cmV0dXJuIGc9TihhLGIsYyksaD1PKGEsYixjKSxpPWctaCxkPTA9PWk/bnVsbDpnPT1hPyhiLWMpL2k6Zz09Yj8oYy1hKS9pKzI6KGEtYikvaSs0LGQ9KGQrMzYwKSU2KjYwLzM2MCxmPShnK2gpLzIsZT0wPT1pPzA6LjU+Zj9pLygyKmYpOmkvKDItMipmKSx7aDpkLHM6ZSxsOmYsdG9TdHJpbmc6dWF9fSxiLl9wYXRoMnN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmpvaW4oIiwiKS5yZXBsYWNlKGZhLCIkMSIpfTtiLl9wcmVsb2FkPWZ1bmN0aW9uKGEsYil7dmFyIGM9ei5kb2MuY3JlYXRlRWxlbWVudCgiaW1nIik7Yy5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5ZW07dG9wOi05OTk5ZW0iLGMub25sb2FkPWZ1bmN0aW9uKCl7Yi5jYWxsKHRoaXMpLHRoaXMub25sb2FkPW51bGwsei5kb2MuYm9keS5yZW1vdmVDaGlsZCh0aGlzKX0sYy5vbmVycm9yPWZ1bmN0aW9uKCl7ei5kb2MuYm9keS5yZW1vdmVDaGlsZCh0aGlzKX0sei5kb2MuYm9keS5hcHBlbmRDaGlsZChjKSxjLnNyYz1hfTtiLmdldFJHQj1lKGZ1bmN0aW9uKGEpe2lmKCFhfHwoYT1IKGEpKS5pbmRleE9mKCItIikrMSlyZXR1cm57cjotMSxnOi0xLGI6LTEsaGV4OiJub25lIixlcnJvcjoxLHRvU3RyaW5nOmZ9O2lmKCJub25lIj09YSlyZXR1cm57cjotMSxnOi0xLGI6LTEsaGV4OiJub25lIix0b1N0cmluZzpmfTshKGVhW3ldKGEudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCwyKSl8fCIjIj09YS5jaGFyQXQoKSkmJihhPXNhKGEpKTt2YXIgYyxkLGUsZyxoLGksaj1hLm1hdGNoKFcpO3JldHVybiBqPyhqWzJdJiYoZT1fKGpbMl0uc3Vic3RyaW5nKDUpLDE2KSxkPV8oalsyXS5zdWJzdHJpbmcoMyw1KSwxNiksYz1fKGpbMl0uc3Vic3RyaW5nKDEsMyksMTYpKSxqWzNdJiYoZT1fKChoPWpbM10uY2hhckF0KDMpKStoLDE2KSxkPV8oKGg9alszXS5jaGFyQXQoMikpK2gsMTYpLGM9XygoaD1qWzNdLmNoYXJBdCgxKSkraCwxNikpLGpbNF0mJihpPWpbNF1bSV0oZGEpLGM9JChpWzBdKSwiJSI9PWlbMF0uc2xpY2UoLTEpJiYoYyo9Mi41NSksZD0kKGlbMV0pLCIlIj09aVsxXS5zbGljZSgtMSkmJihkKj0yLjU1KSxlPSQoaVsyXSksIiUiPT1pWzJdLnNsaWNlKC0xKSYmKGUqPTIuNTUpLCJyZ2JhIj09alsxXS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsNCkmJihnPSQoaVszXSkpLGlbM10mJiIlIj09aVszXS5zbGljZSgtMSkmJihnLz0xMDApKSxqWzVdPyhpPWpbNV1bSV0oZGEpLGM9JChpWzBdKSwiJSI9PWlbMF0uc2xpY2UoLTEpJiYoYyo9Mi41NSksZD0kKGlbMV0pLCIlIj09aVsxXS5zbGljZSgtMSkmJihkKj0yLjU1KSxlPSQoaVsyXSksIiUiPT1pWzJdLnNsaWNlKC0xKSYmKGUqPTIuNTUpLCgiZGVnIj09aVswXS5zbGljZSgtMyl8fCLCsCI9PWlbMF0uc2xpY2UoLTEpKSYmKGMvPTM2MCksImhzYmEiPT1qWzFdLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCw0KSYmKGc9JChpWzNdKSksaVszXSYmIiUiPT1pWzNdLnNsaWNlKC0xKSYmKGcvPTEwMCksYi5oc2IycmdiKGMsZCxlLGcpKTpqWzZdPyhpPWpbNl1bSV0oZGEpLGM9JChpWzBdKSwiJSI9PWlbMF0uc2xpY2UoLTEpJiYoYyo9Mi41NSksZD0kKGlbMV0pLCIlIj09aVsxXS5zbGljZSgtMSkmJihkKj0yLjU1KSxlPSQoaVsyXSksIiUiPT1pWzJdLnNsaWNlKC0xKSYmKGUqPTIuNTUpLCgiZGVnIj09aVswXS5zbGljZSgtMyl8fCLCsCI9PWlbMF0uc2xpY2UoLTEpKSYmKGMvPTM2MCksImhzbGEiPT1qWzFdLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCw0KSYmKGc9JChpWzNdKSksaVszXSYmIiUiPT1pWzNdLnNsaWNlKC0xKSYmKGcvPTEwMCksYi5oc2wycmdiKGMsZCxlLGcpKTooaj17cjpjLGc6ZCxiOmUsdG9TdHJpbmc6Zn0sai5oZXg9IiMiKygxNjc3NzIxNnxlfGQ8PDh8Yzw8MTYpLnRvU3RyaW5nKDE2KS5zbGljZSgxKSxiLmlzKGcsImZpbml0ZSIpJiYoai5vcGFjaXR5PWcpLGopKTp7cjotMSxnOi0xLGI6LTEsaGV4OiJub25lIixlcnJvcjoxLHRvU3RyaW5nOmZ9fSxiKSxiLmhzYj1lKGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYi5oc2IycmdiKGEsYyxkKS5oZXh9KSxiLmhzbD1lKGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYi5oc2wycmdiKGEsYyxkKS5oZXh9KSxiLnJnYj1lKGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiBhKy41fDB9cmV0dXJuIiMiKygxNjc3NzIxNnxkKGMpfGQoYik8PDh8ZChhKTw8MTYpLnRvU3RyaW5nKDE2KS5zbGljZSgxKX0pLGIuZ2V0Q29sb3I9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDb2xvci5zdGFydD10aGlzLmdldENvbG9yLnN0YXJ0fHx7aDowLHM6MSxiOmF8fC43NX0sYz10aGlzLmhzYjJyZ2IoYi5oLGIucyxiLmIpO3JldHVybiBiLmgrPS4wNzUsYi5oPjEmJihiLmg9MCxiLnMtPS4yLGIuczw9MCYmKHRoaXMuZ2V0Q29sb3Iuc3RhcnQ9e2g6MCxzOjEsYjpiLmJ9KSksYy5oZXh9LGIuZ2V0Q29sb3IucmVzZXQ9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5zdGFydH0sYi5wYXJzZVBhdGhTdHJpbmc9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGM9eWEoYSk7aWYoYy5hcnIpcmV0dXJuIEFhKGMuYXJyKTt2YXIgZD17YTo3LGM6NixoOjEsbDoyLG06MixyOjQscTo0LHM6NCx0OjIsdjoxLHo6MH0sZT1bXTtyZXR1cm4gYi5pcyhhLFUpJiZiLmlzKGFbMF0sVSkmJihlPUFhKGEpKSxlLmxlbmd0aHx8SChhKS5yZXBsYWNlKGdhLGZ1bmN0aW9uKGEsYixjKXt2YXIgZj1bXSxnPWIudG9Mb3dlckNhc2UoKTtpZihjLnJlcGxhY2UoaWEsZnVuY3Rpb24oYSxiKXtiJiZmLnB1c2goK2IpfSksIm0iPT1nJiZmLmxlbmd0aD4yJiYoZS5wdXNoKFtiXVtEXShmLnNwbGljZSgwLDIpKSksZz0ibCIsYj0ibSI9PWI/ImwiOiJMIiksInIiPT1nKWUucHVzaChbYl1bRF0oZikpO2Vsc2UgZm9yKDtmLmxlbmd0aD49ZFtnXSYmKGUucHVzaChbYl1bRF0oZi5zcGxpY2UoMCxkW2ddKSkpLGRbZ10pOyk7fSksZS50b1N0cmluZz1iLl9wYXRoMnN0cmluZyxjLmFycj1BYShlKSxlfSxiLnBhcnNlVHJhbnNmb3JtU3RyaW5nPWUoZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGM9W107cmV0dXJuIGIuaXMoYSxVKSYmYi5pcyhhWzBdLFUpJiYoYz1BYShhKSksYy5sZW5ndGh8fEgoYSkucmVwbGFjZShoYSxmdW5jdGlvbihhLGIsZCl7e3ZhciBlPVtdO0wuY2FsbChiKX1kLnJlcGxhY2UoaWEsZnVuY3Rpb24oYSxiKXtiJiZlLnB1c2goK2IpfSksYy5wdXNoKFtiXVtEXShlKSl9KSxjLnRvU3RyaW5nPWIuX3BhdGgyc3RyaW5nLGN9KTt2YXIgeWE9ZnVuY3Rpb24oYSl7dmFyIGI9eWEucHM9eWEucHN8fHt9O3JldHVybiBiW2FdP2JbYV0uc2xlZXA9MTAwOmJbYV09e3NsZWVwOjEwMH0sc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgYyBpbiBiKWJbeV0oYykmJmMhPWEmJihiW2NdLnNsZWVwLS0sIWJbY10uc2xlZXAmJmRlbGV0ZSBiW2NdKX0pLGJbYV19O2IuZmluZERvdHNBdFNlZ21lbnQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe3ZhciBqPTEtaSxrPVEoaiwzKSxsPVEoaiwyKSxtPWkqaSxuPW0qaSxvPWsqYSszKmwqaSpjKzMqaippKmkqZStuKmcscD1rKmIrMypsKmkqZCszKmoqaSppKmYrbipoLHE9YSsyKmkqKGMtYSkrbSooZS0yKmMrYSkscj1iKzIqaSooZC1iKSttKihmLTIqZCtiKSxzPWMrMippKihlLWMpK20qKGctMiplK2MpLHQ9ZCsyKmkqKGYtZCkrbSooaC0yKmYrZCksdT1qKmEraSpjLHY9aipiK2kqZCx3PWoqZStpKmcseD1qKmYraSpoLHk9OTAtMTgwKk0uYXRhbjIocS1zLHItdCkvUjtyZXR1cm4ocT5zfHx0PnIpJiYoeSs9MTgwKSx7eDpvLHk6cCxtOnt4OnEseTpyfSxuOnt4OnMseTp0fSxzdGFydDp7eDp1LHk6dn0sZW5kOnt4OncseTp4fSxhbHBoYTp5fX0sYi5iZXppZXJCQm94PWZ1bmN0aW9uKGEsYyxkLGUsZixnLGgsaSl7Yi5pcyhhLCJhcnJheSIpfHwoYT1bYSxjLGQsZSxmLGcsaCxpXSk7dmFyIGo9SGEuYXBwbHkobnVsbCxhKTtyZXR1cm57eDpqLm1pbi54LHk6ai5taW4ueSx4MjpqLm1heC54LHkyOmoubWF4Lnksd2lkdGg6ai5tYXgueC1qLm1pbi54LGhlaWdodDpqLm1heC55LWoubWluLnl9fSxiLmlzUG9pbnRJbnNpZGVCQm94PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj49YS54JiZiPD1hLngyJiZjPj1hLnkmJmM8PWEueTJ9LGIuaXNCQm94SW50ZXJzZWN0PWZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yi5pc1BvaW50SW5zaWRlQkJveDtyZXR1cm4gZChjLGEueCxhLnkpfHxkKGMsYS54MixhLnkpfHxkKGMsYS54LGEueTIpfHxkKGMsYS54MixhLnkyKXx8ZChhLGMueCxjLnkpfHxkKGEsYy54MixjLnkpfHxkKGEsYy54LGMueTIpfHxkKGEsYy54MixjLnkyKXx8KGEueDxjLngyJiZhLng+Yy54fHxjLng8YS54MiYmYy54PmEueCkmJihhLnk8Yy55MiYmYS55PmMueXx8Yy55PGEueTImJmMueT5hLnkpfSxiLnBhdGhJbnRlcnNlY3Rpb249ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbShhLGIpfSxiLnBhdGhJbnRlcnNlY3Rpb25OdW1iZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbShhLGIsMSl9LGIuaXNQb2ludEluc2lkZVBhdGg9ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWIucGF0aEJCb3goYSk7cmV0dXJuIGIuaXNQb2ludEluc2lkZUJCb3goZSxjLGQpJiZtKGEsW1siTSIsYyxkXSxbIkgiLGUueDIrMTBdXSwxKSUyPT0xfSxiLl9yZW1vdmVkRmFjdG9yeT1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXthKCJyYXBoYWVsLmxvZyIsbnVsbCwiUmFwaGHDq2w6IHlvdSBhcmUgY2FsbGluZyB0byBtZXRob2Qg4oCcIitiKyLigJ0gb2YgcmVtb3ZlZCBvYmplY3QiLGIpfX07dmFyIHphPWIucGF0aEJCb3g9ZnVuY3Rpb24oYSl7dmFyIGI9eWEoYSk7aWYoYi5iYm94KXJldHVybiBjKGIuYmJveCk7aWYoIWEpcmV0dXJue3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MCx4MjowLHkyOjB9O2E9SWEoYSk7Zm9yKHZhciBkLGU9MCxmPTAsZz1bXSxoPVtdLGk9MCxqPWEubGVuZ3RoO2o+aTtpKyspaWYoZD1hW2ldLCJNIj09ZFswXSllPWRbMV0sZj1kWzJdLGcucHVzaChlKSxoLnB1c2goZik7ZWxzZXt2YXIgaz1IYShlLGYsZFsxXSxkWzJdLGRbM10sZFs0XSxkWzVdLGRbNl0pO2c9Z1tEXShrLm1pbi54LGsubWF4LngpLGg9aFtEXShrLm1pbi55LGsubWF4LnkpLGU9ZFs1XSxmPWRbNl19dmFyIGw9T1tDXSgwLGcpLG09T1tDXSgwLGgpLG49TltDXSgwLGcpLG89TltDXSgwLGgpLHA9bi1sLHE9by1tLHI9e3g6bCx5Om0seDI6bix5MjpvLHdpZHRoOnAsaGVpZ2h0OnEsY3g6bCtwLzIsY3k6bStxLzJ9O3JldHVybiBiLmJib3g9YyhyKSxyfSxBYT1mdW5jdGlvbihhKXt2YXIgZD1jKGEpO3JldHVybiBkLnRvU3RyaW5nPWIuX3BhdGgyc3RyaW5nLGR9LEJhPWIuX3BhdGhUb1JlbGF0aXZlPWZ1bmN0aW9uKGEpe3ZhciBjPXlhKGEpO2lmKGMucmVsKXJldHVybiBBYShjLnJlbCk7Yi5pcyhhLFUpJiZiLmlzKGEmJmFbMF0sVSl8fChhPWIucGFyc2VQYXRoU3RyaW5nKGEpKTt2YXIgZD1bXSxlPTAsZj0wLGc9MCxoPTAsaT0wOyJNIj09YVswXVswXSYmKGU9YVswXVsxXSxmPWFbMF1bMl0sZz1lLGg9ZixpKyssZC5wdXNoKFsiTSIsZSxmXSkpO2Zvcih2YXIgaj1pLGs9YS5sZW5ndGg7az5qO2orKyl7dmFyIGw9ZFtqXT1bXSxtPWFbal07aWYobVswXSE9TC5jYWxsKG1bMF0pKXN3aXRjaChsWzBdPUwuY2FsbChtWzBdKSxsWzBdKXtjYXNlImEiOmxbMV09bVsxXSxsWzJdPW1bMl0sbFszXT1tWzNdLGxbNF09bVs0XSxsWzVdPW1bNV0sbFs2XT0rKG1bNl0tZSkudG9GaXhlZCgzKSxsWzddPSsobVs3XS1mKS50b0ZpeGVkKDMpO2JyZWFrO2Nhc2UidiI6bFsxXT0rKG1bMV0tZikudG9GaXhlZCgzKTticmVhaztjYXNlIm0iOmc9bVsxXSxoPW1bMl07ZGVmYXVsdDpmb3IodmFyIG49MSxvPW0ubGVuZ3RoO28+bjtuKyspbFtuXT0rKG1bbl0tKG4lMj9lOmYpKS50b0ZpeGVkKDMpfWVsc2V7bD1kW2pdPVtdLCJtIj09bVswXSYmKGc9bVsxXStlLGg9bVsyXStmKTtmb3IodmFyIHA9MCxxPW0ubGVuZ3RoO3E+cDtwKyspZFtqXVtwXT1tW3BdfXZhciByPWRbal0ubGVuZ3RoO3N3aXRjaChkW2pdWzBdKXtjYXNlInoiOmU9ZyxmPWg7YnJlYWs7Y2FzZSJoIjplKz0rZFtqXVtyLTFdO2JyZWFrO2Nhc2UidiI6Zis9K2Rbal1bci0xXTticmVhaztkZWZhdWx0OmUrPStkW2pdW3ItMl0sZis9K2Rbal1bci0xXX19cmV0dXJuIGQudG9TdHJpbmc9Yi5fcGF0aDJzdHJpbmcsYy5yZWw9QWEoZCksZH0sQ2E9Yi5fcGF0aFRvQWJzb2x1dGU9ZnVuY3Rpb24oYSl7dmFyIGM9eWEoYSk7aWYoYy5hYnMpcmV0dXJuIEFhKGMuYWJzKTtpZihiLmlzKGEsVSkmJmIuaXMoYSYmYVswXSxVKXx8KGE9Yi5wYXJzZVBhdGhTdHJpbmcoYSkpLCFhfHwhYS5sZW5ndGgpcmV0dXJuW1siTSIsMCwwXV07dmFyIGQ9W10sZT0wLGY9MCxoPTAsaT0wLGo9MDsiTSI9PWFbMF1bMF0mJihlPSthWzBdWzFdLGY9K2FbMF1bMl0saD1lLGk9ZixqKyssZFswXT1bIk0iLGUsZl0pO2Zvcih2YXIgayxsLG09Mz09YS5sZW5ndGgmJiJNIj09YVswXVswXSYmIlIiPT1hWzFdWzBdLnRvVXBwZXJDYXNlKCkmJiJaIj09YVsyXVswXS50b1VwcGVyQ2FzZSgpLG49aixvPWEubGVuZ3RoO28+bjtuKyspe2lmKGQucHVzaChrPVtdKSxsPWFbbl0sbFswXSE9YWEuY2FsbChsWzBdKSlzd2l0Y2goa1swXT1hYS5jYWxsKGxbMF0pLGtbMF0pe2Nhc2UiQSI6a1sxXT1sWzFdLGtbMl09bFsyXSxrWzNdPWxbM10sa1s0XT1sWzRdLGtbNV09bFs1XSxrWzZdPSsobFs2XStlKSxrWzddPSsobFs3XStmKTticmVhaztjYXNlIlYiOmtbMV09K2xbMV0rZjticmVhaztjYXNlIkgiOmtbMV09K2xbMV0rZTticmVhaztjYXNlIlIiOmZvcih2YXIgcD1bZSxmXVtEXShsLnNsaWNlKDEpKSxxPTIscj1wLmxlbmd0aDtyPnE7cSsrKXBbcV09K3BbcV0rZSxwWysrcV09K3BbcV0rZjtkLnBvcCgpLGQ9ZFtEXShnKHAsbSkpO2JyZWFrO2Nhc2UiTSI6aD0rbFsxXStlLGk9K2xbMl0rZjtkZWZhdWx0OmZvcihxPTEscj1sLmxlbmd0aDtyPnE7cSsrKWtbcV09K2xbcV0rKHElMj9lOmYpfWVsc2UgaWYoIlIiPT1sWzBdKXA9W2UsZl1bRF0obC5zbGljZSgxKSksZC5wb3AoKSxkPWRbRF0oZyhwLG0pKSxrPVsiUiJdW0RdKGwuc2xpY2UoLTIpKTtlbHNlIGZvcih2YXIgcz0wLHQ9bC5sZW5ndGg7dD5zO3MrKylrW3NdPWxbc107c3dpdGNoKGtbMF0pe2Nhc2UiWiI6ZT1oLGY9aTticmVhaztjYXNlIkgiOmU9a1sxXTticmVhaztjYXNlIlYiOmY9a1sxXTticmVhaztjYXNlIk0iOmg9a1trLmxlbmd0aC0yXSxpPWtbay5sZW5ndGgtMV07ZGVmYXVsdDplPWtbay5sZW5ndGgtMl0sZj1rW2subGVuZ3RoLTFdfX1yZXR1cm4gZC50b1N0cmluZz1iLl9wYXRoMnN0cmluZyxjLmFicz1BYShkKSxkfSxEYT1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm5bYSxiLGMsZCxjLGRdfSxFYT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9MS8zLGg9Mi8zO3JldHVybltnKmEraCpjLGcqYitoKmQsZyplK2gqYyxnKmYraCpkLGUsZl19LEZhPWZ1bmN0aW9uKGEsYixjLGQsZixnLGgsaSxqLGspe3ZhciBsLG09MTIwKlIvMTgwLG49Ui8xODAqKCtmfHwwKSxvPVtdLHA9ZShmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSpNLmNvcyhjKS1iKk0uc2luKGMpLGU9YSpNLnNpbihjKStiKk0uY29zKGMpO3JldHVybnt4OmQseTplfX0pO2lmKGspeT1rWzBdLHo9a1sxXSx3PWtbMl0seD1rWzNdO2Vsc2V7bD1wKGEsYiwtbiksYT1sLngsYj1sLnksbD1wKGksaiwtbiksaT1sLngsaj1sLnk7dmFyIHE9KE0uY29zKFIvMTgwKmYpLE0uc2luKFIvMTgwKmYpLChhLWkpLzIpLHI9KGItaikvMixzPXEqcS8oYypjKStyKnIvKGQqZCk7cz4xJiYocz1NLnNxcnQocyksYz1zKmMsZD1zKmQpO3ZhciB0PWMqYyx1PWQqZCx2PShnPT1oPy0xOjEpKk0uc3FydChQKCh0KnUtdCpyKnItdSpxKnEpLyh0KnIqcit1KnEqcSkpKSx3PXYqYypyL2QrKGEraSkvMix4PXYqLWQqcS9jKyhiK2opLzIseT1NLmFzaW4oKChiLXgpL2QpLnRvRml4ZWQoOSkpLHo9TS5hc2luKCgoai14KS9kKS50b0ZpeGVkKDkpKTt5PXc+YT9SLXk6eSx6PXc+aT9SLXo6eiwwPnkmJih5PTIqUit5KSwwPnomJih6PTIqUit6KSxoJiZ5PnomJih5LT0yKlIpLCFoJiZ6PnkmJih6LT0yKlIpfXZhciBBPXoteTtpZihQKEEpPm0pe3ZhciBCPXosQz1pLEU9ajt6PXkrbSooaCYmej55PzE6LTEpLGk9dytjKk0uY29zKHopLGo9eCtkKk0uc2luKHopLG89RmEoaSxqLGMsZCxmLDAsaCxDLEUsW3osQix3LHhdKX1BPXoteTt2YXIgRj1NLmNvcyh5KSxHPU0uc2luKHkpLEg9TS5jb3MoeiksSj1NLnNpbih6KSxLPU0udGFuKEEvNCksTD00LzMqYypLLE49NC8zKmQqSyxPPVthLGJdLFE9W2ErTCpHLGItTipGXSxTPVtpK0wqSixqLU4qSF0sVD1baSxqXTtpZihRWzBdPTIqT1swXS1RWzBdLFFbMV09MipPWzFdLVFbMV0saylyZXR1cm5bUSxTLFRdW0RdKG8pO289W1EsUyxUXVtEXShvKS5qb2luKClbSV0oIiwiKTtmb3IodmFyIFU9W10sVj0wLFc9by5sZW5ndGg7Vz5WO1YrKylVW1ZdPVYlMj9wKG9bVi0xXSxvW1ZdLG4pLnk6cChvW1ZdLG9bVisxXSxuKS54O3JldHVybiBVfSxHYT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSl7dmFyIGo9MS1pO3JldHVybnt4OlEoaiwzKSphKzMqUShqLDIpKmkqYyszKmoqaSppKmUrUShpLDMpKmcseTpRKGosMykqYiszKlEoaiwyKSppKmQrMypqKmkqaSpmK1EoaSwzKSpofX0sSGE9ZShmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBpLGo9ZS0yKmMrYS0oZy0yKmUrYyksaz0yKihjLWEpLTIqKGUtYyksbD1hLWMsbT0oLWsrTS5zcXJ0KGsqay00KmoqbCkpLzIvaixuPSgtay1NLnNxcnQoayprLTQqaipsKSkvMi9qLG89W2IsaF0scD1bYSxnXTtyZXR1cm4gUChtKT4iMWUxMiImJihtPS41KSxQKG4pPiIxZTEyIiYmKG49LjUpLG0+MCYmMT5tJiYoaT1HYShhLGIsYyxkLGUsZixnLGgsbSkscC5wdXNoKGkueCksby5wdXNoKGkueSkpLG4+MCYmMT5uJiYoaT1HYShhLGIsYyxkLGUsZixnLGgsbikscC5wdXNoKGkueCksby5wdXNoKGkueSkpLGo9Zi0yKmQrYi0oaC0yKmYrZCksaz0yKihkLWIpLTIqKGYtZCksbD1iLWQsbT0oLWsrTS5zcXJ0KGsqay00KmoqbCkpLzIvaixuPSgtay1NLnNxcnQoayprLTQqaipsKSkvMi9qLFAobSk+IjFlMTIiJiYobT0uNSksUChuKT4iMWUxMiImJihuPS41KSxtPjAmJjE+bSYmKGk9R2EoYSxiLGMsZCxlLGYsZyxoLG0pLHAucHVzaChpLngpLG8ucHVzaChpLnkpKSxuPjAmJjE+biYmKGk9R2EoYSxiLGMsZCxlLGYsZyxoLG4pLHAucHVzaChpLngpLG8ucHVzaChpLnkpKSx7bWluOnt4Ok9bQ10oMCxwKSx5Ok9bQ10oMCxvKX0sbWF4Ont4Ok5bQ10oMCxwKSx5Ok5bQ10oMCxvKX19fSksSWE9Yi5fcGF0aDJjdXJ2ZT1lKGZ1bmN0aW9uKGEsYil7dmFyIGM9IWImJnlhKGEpO2lmKCFiJiZjLmN1cnZlKXJldHVybiBBYShjLmN1cnZlKTtmb3IodmFyIGQ9Q2EoYSksZT1iJiZDYShiKSxmPXt4OjAseTowLGJ4OjAsYnk6MCxYOjAsWTowLHF4Om51bGwscXk6bnVsbH0sZz17eDowLHk6MCxieDowLGJ5OjAsWDowLFk6MCxxeDpudWxsLHF5Om51bGx9LGg9KGZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9e1Q6MSxROjF9O2lmKCFhKXJldHVyblsiQyIsYi54LGIueSxiLngsYi55LGIueCxiLnldO3N3aXRjaCghKGFbMF1pbiBmKSYmKGIucXg9Yi5xeT1udWxsKSxhWzBdKXtjYXNlIk0iOmIuWD1hWzFdLGIuWT1hWzJdO2JyZWFrO2Nhc2UiQSI6YT1bIkMiXVtEXShGYVtDXSgwLFtiLngsYi55XVtEXShhLnNsaWNlKDEpKSkpO2JyZWFrO2Nhc2UiUyI6IkMiPT1jfHwiUyI9PWM/KGQ9MipiLngtYi5ieCxlPTIqYi55LWIuYnkpOihkPWIueCxlPWIueSksYT1bIkMiLGQsZV1bRF0oYS5zbGljZSgxKSk7YnJlYWs7Y2FzZSJUIjoiUSI9PWN8fCJUIj09Yz8oYi5xeD0yKmIueC1iLnF4LGIucXk9MipiLnktYi5xeSk6KGIucXg9Yi54LGIucXk9Yi55KSxhPVsiQyJdW0RdKEVhKGIueCxiLnksYi5xeCxiLnF5LGFbMV0sYVsyXSkpO2JyZWFrO2Nhc2UiUSI6Yi5xeD1hWzFdLGIucXk9YVsyXSxhPVsiQyJdW0RdKEVhKGIueCxiLnksYVsxXSxhWzJdLGFbM10sYVs0XSkpO2JyZWFrO2Nhc2UiTCI6YT1bIkMiXVtEXShEYShiLngsYi55LGFbMV0sYVsyXSkpO2JyZWFrO2Nhc2UiSCI6YT1bIkMiXVtEXShEYShiLngsYi55LGFbMV0sYi55KSk7YnJlYWs7Y2FzZSJWIjphPVsiQyJdW0RdKERhKGIueCxiLnksYi54LGFbMV0pKTticmVhaztjYXNlIloiOmE9WyJDIl1bRF0oRGEoYi54LGIueSxiLlgsYi5ZKSl9cmV0dXJuIGF9KSxpPWZ1bmN0aW9uKGEsYil7aWYoYVtiXS5sZW5ndGg+Nyl7YVtiXS5zaGlmdCgpO2Zvcih2YXIgYz1hW2JdO2MubGVuZ3RoOylrW2JdPSJBIixlJiYobFtiXT0iQSIpLGEuc3BsaWNlKGIrKywwLFsiQyJdW0RdKGMuc3BsaWNlKDAsNikpKTthLnNwbGljZShiLDEpLHA9TihkLmxlbmd0aCxlJiZlLmxlbmd0aHx8MCl9fSxqPWZ1bmN0aW9uKGEsYixjLGYsZyl7YSYmYiYmIk0iPT1hW2ddWzBdJiYiTSIhPWJbZ11bMF0mJihiLnNwbGljZShnLDAsWyJNIixmLngsZi55XSksYy5ieD0wLGMuYnk9MCxjLng9YVtnXVsxXSxjLnk9YVtnXVsyXSxwPU4oZC5sZW5ndGgsZSYmZS5sZW5ndGh8fDApKX0saz1bXSxsPVtdLG09IiIsbj0iIixvPTAscD1OKGQubGVuZ3RoLGUmJmUubGVuZ3RofHwwKTtwPm87bysrKXtkW29dJiYobT1kW29dWzBdKSwiQyIhPW0mJihrW29dPW0sbyYmKG49a1tvLTFdKSksZFtvXT1oKGRbb10sZixuKSwiQSIhPWtbb10mJiJDIj09bSYmKGtbb109IkMiKSxpKGQsbyksZSYmKGVbb10mJihtPWVbb11bMF0pLCJDIiE9bSYmKGxbb109bSxvJiYobj1sW28tMV0pKSxlW29dPWgoZVtvXSxnLG4pLCJBIiE9bFtvXSYmIkMiPT1tJiYobFtvXT0iQyIpLGkoZSxvKSksaihkLGUsZixnLG8pLGooZSxkLGcsZixvKTt2YXIgcT1kW29dLHI9ZSYmZVtvXSxzPXEubGVuZ3RoLHQ9ZSYmci5sZW5ndGg7Zi54PXFbcy0yXSxmLnk9cVtzLTFdLGYuYng9JChxW3MtNF0pfHxmLngsZi5ieT0kKHFbcy0zXSl8fGYueSxnLmJ4PWUmJigkKHJbdC00XSl8fGcueCksZy5ieT1lJiYoJChyW3QtM10pfHxnLnkpLGcueD1lJiZyW3QtMl0sZy55PWUmJnJbdC0xXX1yZXR1cm4gZXx8KGMuY3VydmU9QWEoZCkpLGU/W2QsZV06ZH0sbnVsbCxBYSksSmE9KGIuX3BhcnNlRG90cz1lKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1bXSxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKXt2YXIgZj17fSxnPWFbZF0ubWF0Y2goL14oW146XSopOj8oW1xkXC5dKikvKTtpZihmLmNvbG9yPWIuZ2V0UkdCKGdbMV0pLGYuY29sb3IuZXJyb3IpcmV0dXJuIG51bGw7Zi5vcGFjaXR5PWYuY29sb3Iub3BhY2l0eSxmLmNvbG9yPWYuY29sb3IuaGV4LGdbMl0mJihmLm9mZnNldD1nWzJdKyIlIiksYy5wdXNoKGYpfWZvcihkPTEsZT1jLmxlbmd0aC0xO2U+ZDtkKyspaWYoIWNbZF0ub2Zmc2V0KXtmb3IodmFyIGg9JChjW2QtMV0ub2Zmc2V0fHwwKSxpPTAsaj1kKzE7ZT5qO2orKylpZihjW2pdLm9mZnNldCl7aT1jW2pdLm9mZnNldDticmVha31pfHwoaT0xMDAsaj1lKSxpPSQoaSk7Zm9yKHZhciBrPShpLWgpLyhqLWQrMSk7aj5kO2QrKyloKz1rLGNbZF0ub2Zmc2V0PWgrIiUifXJldHVybiBjfSksYi5fdGVhcj1mdW5jdGlvbihhLGIpe2E9PWIudG9wJiYoYi50b3A9YS5wcmV2KSxhPT1iLmJvdHRvbSYmKGIuYm90dG9tPWEubmV4dCksYS5uZXh0JiYoYS5uZXh0LnByZXY9YS5wcmV2KSxhLnByZXYmJihhLnByZXYubmV4dD1hLm5leHQpfSksS2E9KGIuX3RvZnJvbnQ9ZnVuY3Rpb24oYSxiKXtiLnRvcCE9PWEmJihKYShhLGIpLGEubmV4dD1udWxsLGEucHJldj1iLnRvcCxiLnRvcC5uZXh0PWEsYi50b3A9YSl9LGIuX3RvYmFjaz1mdW5jdGlvbihhLGIpe2IuYm90dG9tIT09YSYmKEphKGEsYiksYS5uZXh0PWIuYm90dG9tLGEucHJldj1udWxsLGIuYm90dG9tLnByZXY9YSxiLmJvdHRvbT1hKX0sYi5faW5zZXJ0YWZ0ZXI9ZnVuY3Rpb24oYSxiLGMpe0phKGEsYyksYj09Yy50b3AmJihjLnRvcD1hKSxiLm5leHQmJihiLm5leHQucHJldj1hKSxhLm5leHQ9Yi5uZXh0LGEucHJldj1iLGIubmV4dD1hfSxiLl9pbnNlcnRiZWZvcmU9ZnVuY3Rpb24oYSxiLGMpe0phKGEsYyksYj09Yy5ib3R0b20mJihjLmJvdHRvbT1hKSxiLnByZXYmJihiLnByZXYubmV4dD1hKSxhLnByZXY9Yi5wcmV2LGIucHJldj1hLGEubmV4dD1ifSxiLnRvTWF0cml4PWZ1bmN0aW9uKGEsYil7dmFyIGM9emEoYSksZD17Xzp7dHJhbnNmb3JtOkZ9LGdldEJCb3g6ZnVuY3Rpb24oKXtyZXR1cm4gY319O3JldHVybiBMYShkLGIpLGQubWF0cml4fSksTGE9KGIudHJhbnNmb3JtUGF0aD1mdW5jdGlvbihhLGIpe3JldHVybiBwYShhLEthKGEsYikpfSxiLl9leHRyYWN0VHJhbnNmb3JtPWZ1bmN0aW9uKGEsYyl7aWYobnVsbD09YylyZXR1cm4gYS5fLnRyYW5zZm9ybTtjPUgoYykucmVwbGFjZSgvXC57M318XHUyMDI2L2csYS5fLnRyYW5zZm9ybXx8Rik7dmFyIGQ9Yi5wYXJzZVRyYW5zZm9ybVN0cmluZyhjKSxlPTAsZj0wLGc9MCxoPTEsaT0xLGo9YS5fLGs9bmV3IG47aWYoai50cmFuc2Zvcm09ZHx8W10sZClmb3IodmFyIGw9MCxtPWQubGVuZ3RoO20+bDtsKyspe3ZhciBvLHAscSxyLHMsdD1kW2xdLHU9dC5sZW5ndGgsdj1IKHRbMF0pLnRvTG93ZXJDYXNlKCksdz10WzBdIT12LHg9dz9rLmludmVydCgpOjA7InQiPT12JiYzPT11P3c/KG89eC54KDAsMCkscD14LnkoMCwwKSxxPXgueCh0WzFdLHRbMl0pLHI9eC55KHRbMV0sdFsyXSksay50cmFuc2xhdGUocS1vLHItcCkpOmsudHJhbnNsYXRlKHRbMV0sdFsyXSk6InIiPT12PzI9PXU/KHM9c3x8YS5nZXRCQm94KDEpLGsucm90YXRlKHRbMV0scy54K3Mud2lkdGgvMixzLnkrcy5oZWlnaHQvMiksZSs9dFsxXSk6ND09dSYmKHc/KHE9eC54KHRbMl0sdFszXSkscj14LnkodFsyXSx0WzNdKSxrLnJvdGF0ZSh0WzFdLHEscikpOmsucm90YXRlKHRbMV0sdFsyXSx0WzNdKSxlKz10WzFdKToicyI9PXY/Mj09dXx8Mz09dT8ocz1zfHxhLmdldEJCb3goMSksay5zY2FsZSh0WzFdLHRbdS0xXSxzLngrcy53aWR0aC8yLHMueStzLmhlaWdodC8yKSxoKj10WzFdLGkqPXRbdS0xXSk6NT09dSYmKHc/KHE9eC54KHRbM10sdFs0XSkscj14LnkodFszXSx0WzRdKSxrLnNjYWxlKHRbMV0sdFsyXSxxLHIpKTprLnNjYWxlKHRbMV0sdFsyXSx0WzNdLHRbNF0pLGgqPXRbMV0saSo9dFsyXSk6Im0iPT12JiY3PT11JiZrLmFkZCh0WzFdLHRbMl0sdFszXSx0WzRdLHRbNV0sdFs2XSksai5kaXJ0eVQ9MSxhLm1hdHJpeD1rfWEubWF0cml4PWssai5zeD1oLGouc3k9aSxqLmRlZz1lLGouZHg9Zj1rLmUsai5keT1nPWsuZiwxPT1oJiYxPT1pJiYhZSYmai5iYm94PyhqLmJib3gueCs9K2Ysai5iYm94LnkrPStnKTpqLmRpcnR5VD0xfSksTWE9ZnVuY3Rpb24oYSl7dmFyIGI9YVswXTtzd2l0Y2goYi50b0xvd2VyQ2FzZSgpKXtjYXNlInQiOnJldHVybltiLDAsMF07Y2FzZSJtIjpyZXR1cm5bYiwxLDAsMCwxLDAsMF07Y2FzZSJyIjpyZXR1cm4gND09YS5sZW5ndGg/W2IsMCxhWzJdLGFbM11dOltiLDBdO2Nhc2UicyI6cmV0dXJuIDU9PWEubGVuZ3RoP1tiLDEsMSxhWzNdLGFbNF1dOjM9PWEubGVuZ3RoP1tiLDEsMV06W2IsMV19fSxOYT1iLl9lcXVhbGlzZVRyYW5zZm9ybT1mdW5jdGlvbihhLGMpewpjPUgoYykucmVwbGFjZSgvXC57M318XHUyMDI2L2csYSksYT1iLnBhcnNlVHJhbnNmb3JtU3RyaW5nKGEpfHxbXSxjPWIucGFyc2VUcmFuc2Zvcm1TdHJpbmcoYyl8fFtdO2Zvcih2YXIgZCxlLGYsZyxoPU4oYS5sZW5ndGgsYy5sZW5ndGgpLGk9W10saj1bXSxrPTA7aD5rO2srKyl7aWYoZj1hW2tdfHxNYShjW2tdKSxnPWNba118fE1hKGYpLGZbMF0hPWdbMF18fCJyIj09ZlswXS50b0xvd2VyQ2FzZSgpJiYoZlsyXSE9Z1syXXx8ZlszXSE9Z1szXSl8fCJzIj09ZlswXS50b0xvd2VyQ2FzZSgpJiYoZlszXSE9Z1szXXx8Zls0XSE9Z1s0XSkpcmV0dXJuO2ZvcihpW2tdPVtdLGpba109W10sZD0wLGU9TihmLmxlbmd0aCxnLmxlbmd0aCk7ZT5kO2QrKylkIGluIGYmJihpW2tdW2RdPWZbZF0pLGQgaW4gZyYmKGpba11bZF09Z1tkXSl9cmV0dXJue2Zyb206aSx0bzpqfX07Yi5fZ2V0Q29udGFpbmVyPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmO3JldHVybiBmPW51bGwhPWV8fGIuaXMoYSwib2JqZWN0Iik/YTp6LmRvYy5nZXRFbGVtZW50QnlJZChhKSxudWxsIT1mP2YudGFnTmFtZT9udWxsPT1jP3tjb250YWluZXI6Zix3aWR0aDpmLnN0eWxlLnBpeGVsV2lkdGh8fGYub2Zmc2V0V2lkdGgsaGVpZ2h0OmYuc3R5bGUucGl4ZWxIZWlnaHR8fGYub2Zmc2V0SGVpZ2h0fTp7Y29udGFpbmVyOmYsd2lkdGg6YyxoZWlnaHQ6ZH06e2NvbnRhaW5lcjoxLHg6YSx5OmMsd2lkdGg6ZCxoZWlnaHQ6ZX06dm9pZCAwfSxiLnBhdGhUb1JlbGF0aXZlPUJhLGIuX2VuZ2luZT17fSxiLnBhdGgyY3VydmU9SWEsYi5tYXRyaXg9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiBuZXcgbihhLGIsYyxkLGUsZil9LGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIGFbMF0qYVswXSthWzFdKmFbMV19ZnVuY3Rpb24gZChhKXt2YXIgYj1NLnNxcnQoYyhhKSk7YVswXSYmKGFbMF0vPWIpLGFbMV0mJihhWzFdLz1iKX1hLmFkZD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGcsaCxpLGosaz1bW10sW10sW11dLGw9W1t0aGlzLmEsdGhpcy5jLHRoaXMuZV0sW3RoaXMuYix0aGlzLmQsdGhpcy5mXSxbMCwwLDFdXSxtPVtbYSxjLGVdLFtiLGQsZl0sWzAsMCwxXV07Zm9yKGEmJmEgaW5zdGFuY2VvZiBuJiYobT1bW2EuYSxhLmMsYS5lXSxbYS5iLGEuZCxhLmZdLFswLDAsMV1dKSxnPTA7Mz5nO2crKylmb3IoaD0wOzM+aDtoKyspe2ZvcihqPTAsaT0wOzM+aTtpKyspais9bFtnXVtpXSptW2ldW2hdO2tbZ11baF09an10aGlzLmE9a1swXVswXSx0aGlzLmI9a1sxXVswXSx0aGlzLmM9a1swXVsxXSx0aGlzLmQ9a1sxXVsxXSx0aGlzLmU9a1swXVsyXSx0aGlzLmY9a1sxXVsyXX0sYS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5hKmEuZC1hLmIqYS5jO3JldHVybiBuZXcgbihhLmQvYiwtYS5iL2IsLWEuYy9iLGEuYS9iLChhLmMqYS5mLWEuZCphLmUpL2IsKGEuYiphLmUtYS5hKmEuZikvYil9LGEuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcy5hLHRoaXMuYix0aGlzLmMsdGhpcy5kLHRoaXMuZSx0aGlzLmYpfSxhLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuYWRkKDEsMCwwLDEsYSxiKX0sYS5zY2FsZT1mdW5jdGlvbihhLGIsYyxkKXtudWxsPT1iJiYoYj1hKSwoY3x8ZCkmJnRoaXMuYWRkKDEsMCwwLDEsYyxkKSx0aGlzLmFkZChhLDAsMCxiLDAsMCksKGN8fGQpJiZ0aGlzLmFkZCgxLDAsMCwxLC1jLC1kKX0sYS5yb3RhdGU9ZnVuY3Rpb24oYSxjLGQpe2E9Yi5yYWQoYSksYz1jfHwwLGQ9ZHx8MDt2YXIgZT0rTS5jb3MoYSkudG9GaXhlZCg5KSxmPStNLnNpbihhKS50b0ZpeGVkKDkpO3RoaXMuYWRkKGUsZiwtZixlLGMsZCksdGhpcy5hZGQoMSwwLDAsMSwtYywtZCl9LGEueD1mdW5jdGlvbihhLGIpe3JldHVybiBhKnRoaXMuYStiKnRoaXMuYyt0aGlzLmV9LGEueT1mdW5jdGlvbihhLGIpe3JldHVybiBhKnRoaXMuYitiKnRoaXMuZCt0aGlzLmZ9LGEuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybit0aGlzW0guZnJvbUNoYXJDb2RlKDk3K2EpXS50b0ZpeGVkKDQpfSxhLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGIuc3ZnPyJtYXRyaXgoIitbdGhpcy5nZXQoMCksdGhpcy5nZXQoMSksdGhpcy5nZXQoMiksdGhpcy5nZXQoMyksdGhpcy5nZXQoNCksdGhpcy5nZXQoNSldLmpvaW4oKSsiKSI6W3RoaXMuZ2V0KDApLHRoaXMuZ2V0KDIpLHRoaXMuZ2V0KDEpLHRoaXMuZ2V0KDMpLDAsMF0uam9pbigpfSxhLnRvRmlsdGVyPWZ1bmN0aW9uKCl7cmV0dXJuInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoTTExPSIrdGhpcy5nZXQoMCkrIiwgTTEyPSIrdGhpcy5nZXQoMikrIiwgTTIxPSIrdGhpcy5nZXQoMSkrIiwgTTIyPSIrdGhpcy5nZXQoMykrIiwgRHg9Iit0aGlzLmdldCg0KSsiLCBEeT0iK3RoaXMuZ2V0KDUpKyIsIHNpemluZ21ldGhvZD0nYXV0byBleHBhbmQnKSJ9LGEub2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuZS50b0ZpeGVkKDQpLHRoaXMuZi50b0ZpeGVkKDQpXX0sYS5zcGxpdD1mdW5jdGlvbigpe3ZhciBhPXt9O2EuZHg9dGhpcy5lLGEuZHk9dGhpcy5mO3ZhciBlPVtbdGhpcy5hLHRoaXMuY10sW3RoaXMuYix0aGlzLmRdXTthLnNjYWxleD1NLnNxcnQoYyhlWzBdKSksZChlWzBdKSxhLnNoZWFyPWVbMF1bMF0qZVsxXVswXStlWzBdWzFdKmVbMV1bMV0sZVsxXT1bZVsxXVswXS1lWzBdWzBdKmEuc2hlYXIsZVsxXVsxXS1lWzBdWzFdKmEuc2hlYXJdLGEuc2NhbGV5PU0uc3FydChjKGVbMV0pKSxkKGVbMV0pLGEuc2hlYXIvPWEuc2NhbGV5O3ZhciBmPS1lWzBdWzFdLGc9ZVsxXVsxXTtyZXR1cm4gMD5nPyhhLnJvdGF0ZT1iLmRlZyhNLmFjb3MoZykpLDA+ZiYmKGEucm90YXRlPTM2MC1hLnJvdGF0ZSkpOmEucm90YXRlPWIuZGVnKE0uYXNpbihmKSksYS5pc1NpbXBsZT0hKCthLnNoZWFyLnRvRml4ZWQoOSl8fGEuc2NhbGV4LnRvRml4ZWQoOSkhPWEuc2NhbGV5LnRvRml4ZWQoOSkmJmEucm90YXRlKSxhLmlzU3VwZXJTaW1wbGU9ISthLnNoZWFyLnRvRml4ZWQoOSkmJmEuc2NhbGV4LnRvRml4ZWQoOSk9PWEuc2NhbGV5LnRvRml4ZWQoOSkmJiFhLnJvdGF0ZSxhLm5vUm90YXRpb249ISthLnNoZWFyLnRvRml4ZWQoOSkmJiFhLnJvdGF0ZSxhfSxhLnRvVHJhbnNmb3JtU3RyaW5nPWZ1bmN0aW9uKGEpe3ZhciBiPWF8fHRoaXNbSV0oKTtyZXR1cm4gYi5pc1NpbXBsZT8oYi5zY2FsZXg9K2Iuc2NhbGV4LnRvRml4ZWQoNCksYi5zY2FsZXk9K2Iuc2NhbGV5LnRvRml4ZWQoNCksYi5yb3RhdGU9K2Iucm90YXRlLnRvRml4ZWQoNCksKGIuZHh8fGIuZHk/InQiK1tiLmR4LGIuZHldOkYpKygxIT1iLnNjYWxleHx8MSE9Yi5zY2FsZXk/InMiK1tiLnNjYWxleCxiLnNjYWxleSwwLDBdOkYpKyhiLnJvdGF0ZT8iciIrW2Iucm90YXRlLDAsMF06RikpOiJtIitbdGhpcy5nZXQoMCksdGhpcy5nZXQoMSksdGhpcy5nZXQoMiksdGhpcy5nZXQoMyksdGhpcy5nZXQoNCksdGhpcy5nZXQoNSldfX0obi5wcm90b3R5cGUpO2Zvcih2YXIgT2E9ZnVuY3Rpb24oKXt0aGlzLnJldHVyblZhbHVlPSExfSxQYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKX0sUWE9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbEJ1YmJsZT0hMH0sUmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpfSxTYT1mdW5jdGlvbihhKXt2YXIgYj16LmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHx6LmRvYy5ib2R5LnNjcm9sbFRvcCxjPXouZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHx6LmRvYy5ib2R5LnNjcm9sbExlZnQ7cmV0dXJue3g6YS5jbGllbnRYK2MseTphLmNsaWVudFkrYn19LFRhPWZ1bmN0aW9uKCl7cmV0dXJuIHouZG9jLmFkZEV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZnVuY3Rpb24oYSl7dmFyIGI9U2EoYSk7cmV0dXJuIGMuY2FsbChkLGEsYi54LGIueSl9O2lmKGEuYWRkRXZlbnRMaXN0ZW5lcihiLGUsITEpLEUmJktbYl0pe3ZhciBmPWZ1bmN0aW9uKGIpe2Zvcih2YXIgZT1TYShiKSxmPWIsZz0wLGg9Yi50YXJnZXRUb3VjaGVzJiZiLnRhcmdldFRvdWNoZXMubGVuZ3RoO2g+ZztnKyspaWYoYi50YXJnZXRUb3VjaGVzW2ddLnRhcmdldD09YSl7Yj1iLnRhcmdldFRvdWNoZXNbZ10sYi5vcmlnaW5hbEV2ZW50PWYsYi5wcmV2ZW50RGVmYXVsdD1QYSxiLnN0b3BQcm9wYWdhdGlvbj1SYTticmVha31yZXR1cm4gYy5jYWxsKGQsYixlLngsZS55KX07YS5hZGRFdmVudExpc3RlbmVyKEtbYl0sZiwhMSl9cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUsITEpLEUmJktbYl0mJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihLW2JdLGYsITEpLCEwfX06ei5kb2MuYXR0YWNoRXZlbnQ/ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZnVuY3Rpb24oYSl7YT1hfHx6Lndpbi5ldmVudDt2YXIgYj16LmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHx6LmRvYy5ib2R5LnNjcm9sbFRvcCxlPXouZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHx6LmRvYy5ib2R5LnNjcm9sbExlZnQsZj1hLmNsaWVudFgrZSxnPWEuY2xpZW50WStiO3JldHVybiBhLnByZXZlbnREZWZhdWx0PWEucHJldmVudERlZmF1bHR8fE9hLGEuc3RvcFByb3BhZ2F0aW9uPWEuc3RvcFByb3BhZ2F0aW9ufHxRYSxjLmNhbGwoZCxhLGYsZyl9O2EuYXR0YWNoRXZlbnQoIm9uIitiLGUpO3ZhciBmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuZGV0YWNoRXZlbnQoIm9uIitiLGUpLCEwfTtyZXR1cm4gZn06dm9pZCAwfSgpLFVhPVtdLFZhPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYyxkPWIuY2xpZW50WCxlPWIuY2xpZW50WSxmPXouZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fHouZG9jLmJvZHkuc2Nyb2xsVG9wLGc9ei5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fHouZG9jLmJvZHkuc2Nyb2xsTGVmdCxoPVVhLmxlbmd0aDtoLS07KXtpZihjPVVhW2hdLEUmJmIudG91Y2hlcyl7Zm9yKHZhciBpLGo9Yi50b3VjaGVzLmxlbmd0aDtqLS07KWlmKGk9Yi50b3VjaGVzW2pdLGkuaWRlbnRpZmllcj09Yy5lbC5fZHJhZy5pZCl7ZD1pLmNsaWVudFgsZT1pLmNsaWVudFksKGIub3JpZ2luYWxFdmVudD9iLm9yaWdpbmFsRXZlbnQ6YikucHJldmVudERlZmF1bHQoKTticmVha319ZWxzZSBiLnByZXZlbnREZWZhdWx0KCk7dmFyIGssbD1jLmVsLm5vZGUsbT1sLm5leHRTaWJsaW5nLG49bC5wYXJlbnROb2RlLG89bC5zdHlsZS5kaXNwbGF5O3oud2luLm9wZXJhJiZuLnJlbW92ZUNoaWxkKGwpLGwuc3R5bGUuZGlzcGxheT0ibm9uZSIsaz1jLmVsLnBhcGVyLmdldEVsZW1lbnRCeVBvaW50KGQsZSksbC5zdHlsZS5kaXNwbGF5PW8sei53aW4ub3BlcmEmJihtP24uaW5zZXJ0QmVmb3JlKGwsbSk6bi5hcHBlbmRDaGlsZChsKSksayYmYSgicmFwaGFlbC5kcmFnLm92ZXIuIitjLmVsLmlkLGMuZWwsayksZCs9ZyxlKz1mLGEoInJhcGhhZWwuZHJhZy5tb3ZlLiIrYy5lbC5pZCxjLm1vdmVfc2NvcGV8fGMuZWwsZC1jLmVsLl9kcmFnLngsZS1jLmVsLl9kcmFnLnksZCxlLGIpfX0sV2E9ZnVuY3Rpb24oYyl7Yi51bm1vdXNlbW92ZShWYSkudW5tb3VzZXVwKFdhKTtmb3IodmFyIGQsZT1VYS5sZW5ndGg7ZS0tOylkPVVhW2VdLGQuZWwuX2RyYWc9e30sYSgicmFwaGFlbC5kcmFnLmVuZC4iK2QuZWwuaWQsZC5lbmRfc2NvcGV8fGQuc3RhcnRfc2NvcGV8fGQubW92ZV9zY29wZXx8ZC5lbCxjKTtVYT1bXX0sWGE9Yi5lbD17fSxZYT1KLmxlbmd0aDtZYS0tOykhZnVuY3Rpb24oYSl7YlthXT1YYVthXT1mdW5jdGlvbihjLGQpe3JldHVybiBiLmlzKGMsImZ1bmN0aW9uIikmJih0aGlzLmV2ZW50cz10aGlzLmV2ZW50c3x8W10sdGhpcy5ldmVudHMucHVzaCh7bmFtZTphLGY6Yyx1bmJpbmQ6VGEodGhpcy5zaGFwZXx8dGhpcy5ub2RlfHx6LmRvYyxhLGMsZHx8dGhpcyl9KSksdGhpc30sYlsidW4iK2FdPVhhWyJ1biIrYV09ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPXRoaXMuZXZlbnRzfHxbXSxlPWQubGVuZ3RoO2UtLTspZFtlXS5uYW1lIT1hfHwhYi5pcyhjLCJ1bmRlZmluZWQiKSYmZFtlXS5mIT1jfHwoZFtlXS51bmJpbmQoKSxkLnNwbGljZShlLDEpLCFkLmxlbmd0aCYmZGVsZXRlIHRoaXMuZXZlbnRzKTtyZXR1cm4gdGhpc319KEpbWWFdKTtYYS5kYXRhPWZ1bmN0aW9uKGMsZCl7dmFyIGU9amFbdGhpcy5pZF09amFbdGhpcy5pZF18fHt9O2lmKDA9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGU7aWYoMT09YXJndW1lbnRzLmxlbmd0aCl7aWYoYi5pcyhjLCJvYmplY3QiKSl7Zm9yKHZhciBmIGluIGMpY1t5XShmKSYmdGhpcy5kYXRhKGYsY1tmXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGEoInJhcGhhZWwuZGF0YS5nZXQuIit0aGlzLmlkLHRoaXMsZVtjXSxjKSxlW2NdfXJldHVybiBlW2NdPWQsYSgicmFwaGFlbC5kYXRhLnNldC4iK3RoaXMuaWQsdGhpcyxkLGMpLHRoaXN9LFhhLnJlbW92ZURhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/amFbdGhpcy5pZF09e306amFbdGhpcy5pZF0mJmRlbGV0ZSBqYVt0aGlzLmlkXVthXSx0aGlzfSxYYS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIGMoamFbdGhpcy5pZF18fHt9KX0sWGEuaG92ZXI9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMubW91c2VvdmVyKGEsYykubW91c2VvdXQoYixkfHxjKX0sWGEudW5ob3Zlcj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnVubW91c2VvdmVyKGEpLnVubW91c2VvdXQoYil9O3ZhciBaYT1bXTtYYS5kcmFnPWZ1bmN0aW9uKGMsZCxlLGYsZyxoKXtmdW5jdGlvbiBpKGkpeyhpLm9yaWdpbmFsRXZlbnR8fGkpLnByZXZlbnREZWZhdWx0KCk7dmFyIGo9aS5jbGllbnRYLGs9aS5jbGllbnRZLGw9ei5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ei5kb2MuYm9keS5zY3JvbGxUb3AsbT16LmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ei5kb2MuYm9keS5zY3JvbGxMZWZ0O2lmKHRoaXMuX2RyYWcuaWQ9aS5pZGVudGlmaWVyLEUmJmkudG91Y2hlcylmb3IodmFyIG4sbz1pLnRvdWNoZXMubGVuZ3RoO28tLTspaWYobj1pLnRvdWNoZXNbb10sdGhpcy5fZHJhZy5pZD1uLmlkZW50aWZpZXIsbi5pZGVudGlmaWVyPT10aGlzLl9kcmFnLmlkKXtqPW4uY2xpZW50WCxrPW4uY2xpZW50WTticmVha310aGlzLl9kcmFnLng9aittLHRoaXMuX2RyYWcueT1rK2wsIVVhLmxlbmd0aCYmYi5tb3VzZW1vdmUoVmEpLm1vdXNldXAoV2EpLFVhLnB1c2goe2VsOnRoaXMsbW92ZV9zY29wZTpmLHN0YXJ0X3Njb3BlOmcsZW5kX3Njb3BlOmh9KSxkJiZhLm9uKCJyYXBoYWVsLmRyYWcuc3RhcnQuIit0aGlzLmlkLGQpLGMmJmEub24oInJhcGhhZWwuZHJhZy5tb3ZlLiIrdGhpcy5pZCxjKSxlJiZhLm9uKCJyYXBoYWVsLmRyYWcuZW5kLiIrdGhpcy5pZCxlKSxhKCJyYXBoYWVsLmRyYWcuc3RhcnQuIit0aGlzLmlkLGd8fGZ8fHRoaXMsaS5jbGllbnRYK20saS5jbGllbnRZK2wsaSl9cmV0dXJuIHRoaXMuX2RyYWc9e30sWmEucHVzaCh7ZWw6dGhpcyxzdGFydDppfSksdGhpcy5tb3VzZWRvd24oaSksdGhpc30sWGEub25EcmFnT3Zlcj1mdW5jdGlvbihiKXtiP2Eub24oInJhcGhhZWwuZHJhZy5vdmVyLiIrdGhpcy5pZCxiKTphLnVuYmluZCgicmFwaGFlbC5kcmFnLm92ZXIuIit0aGlzLmlkKX0sWGEudW5kcmFnPWZ1bmN0aW9uKCl7Zm9yKHZhciBjPVphLmxlbmd0aDtjLS07KVphW2NdLmVsPT10aGlzJiYodGhpcy51bm1vdXNlZG93bihaYVtjXS5zdGFydCksWmEuc3BsaWNlKGMsMSksYS51bmJpbmQoInJhcGhhZWwuZHJhZy4qLiIrdGhpcy5pZCkpOyFaYS5sZW5ndGgmJmIudW5tb3VzZW1vdmUoVmEpLnVubW91c2V1cChXYSksVWE9W119LHUuY2lyY2xlPWZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1iLl9lbmdpbmUuY2lyY2xlKHRoaXMsYXx8MCxjfHwwLGR8fDApO3JldHVybiB0aGlzLl9fc2V0X18mJnRoaXMuX19zZXRfXy5wdXNoKGUpLGV9LHUucmVjdD1mdW5jdGlvbihhLGMsZCxlLGYpe3ZhciBnPWIuX2VuZ2luZS5yZWN0KHRoaXMsYXx8MCxjfHwwLGR8fDAsZXx8MCxmfHwwKTtyZXR1cm4gdGhpcy5fX3NldF9fJiZ0aGlzLl9fc2V0X18ucHVzaChnKSxnfSx1LmVsbGlwc2U9ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGY9Yi5fZW5naW5lLmVsbGlwc2UodGhpcyxhfHwwLGN8fDAsZHx8MCxlfHwwKTtyZXR1cm4gdGhpcy5fX3NldF9fJiZ0aGlzLl9fc2V0X18ucHVzaChmKSxmfSx1LnBhdGg9ZnVuY3Rpb24oYSl7YSYmIWIuaXMoYSxUKSYmIWIuaXMoYVswXSxVKSYmKGErPUYpO3ZhciBjPWIuX2VuZ2luZS5wYXRoKGIuZm9ybWF0W0NdKGIsYXJndW1lbnRzKSx0aGlzKTtyZXR1cm4gdGhpcy5fX3NldF9fJiZ0aGlzLl9fc2V0X18ucHVzaChjKSxjfSx1LmltYWdlPWZ1bmN0aW9uKGEsYyxkLGUsZil7dmFyIGc9Yi5fZW5naW5lLmltYWdlKHRoaXMsYXx8ImFib3V0OmJsYW5rIixjfHwwLGR8fDAsZXx8MCxmfHwwKTtyZXR1cm4gdGhpcy5fX3NldF9fJiZ0aGlzLl9fc2V0X18ucHVzaChnKSxnfSx1LnRleHQ9ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWIuX2VuZ2luZS50ZXh0KHRoaXMsYXx8MCxjfHwwLEgoZCkpO3JldHVybiB0aGlzLl9fc2V0X18mJnRoaXMuX19zZXRfXy5wdXNoKGUpLGV9LHUuc2V0PWZ1bmN0aW9uKGEpeyFiLmlzKGEsImFycmF5IikmJihhPUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsMCxhcmd1bWVudHMubGVuZ3RoKSk7dmFyIGM9bmV3IGpiKGEpO3JldHVybiB0aGlzLl9fc2V0X18mJnRoaXMuX19zZXRfXy5wdXNoKGMpLGMucGFwZXI9dGhpcyxjLnR5cGU9InNldCIsY30sdS5zZXRTdGFydD1mdW5jdGlvbihhKXt0aGlzLl9fc2V0X189YXx8dGhpcy5zZXQoKX0sdS5zZXRGaW5pc2g9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fX3NldF9fO3JldHVybiBkZWxldGUgdGhpcy5fX3NldF9fLGJ9LHUuZ2V0U2l6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FudmFzLnBhcmVudE5vZGU7cmV0dXJue3dpZHRoOmEub2Zmc2V0V2lkdGgsaGVpZ2h0OmEub2Zmc2V0SGVpZ2h0fX0sdS5zZXRTaXplPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGIuX2VuZ2luZS5zZXRTaXplLmNhbGwodGhpcyxhLGMpfSx1LnNldFZpZXdCb3g9ZnVuY3Rpb24oYSxjLGQsZSxmKXtyZXR1cm4gYi5fZW5naW5lLnNldFZpZXdCb3guY2FsbCh0aGlzLGEsYyxkLGUsZil9LHUudG9wPXUuYm90dG9tPW51bGwsdS5yYXBoYWVsPWI7dmFyICRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz1hLm93bmVyRG9jdW1lbnQsZD1jLmJvZHksZT1jLmRvY3VtZW50RWxlbWVudCxmPWUuY2xpZW50VG9wfHxkLmNsaWVudFRvcHx8MCxnPWUuY2xpZW50TGVmdHx8ZC5jbGllbnRMZWZ0fHwwLGg9Yi50b3ArKHoud2luLnBhZ2VZT2Zmc2V0fHxlLnNjcm9sbFRvcHx8ZC5zY3JvbGxUb3ApLWYsaT1iLmxlZnQrKHoud2luLnBhZ2VYT2Zmc2V0fHxlLnNjcm9sbExlZnR8fGQuc2Nyb2xsTGVmdCktZztyZXR1cm57eTpoLHg6aX19O3UuZ2V0RWxlbWVudEJ5UG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jYW52YXMsZT16LmRvYy5lbGVtZW50RnJvbVBvaW50KGEsYik7aWYoei53aW4ub3BlcmEmJiJzdmciPT1lLnRhZ05hbWUpe3ZhciBmPSRhKGQpLGc9ZC5jcmVhdGVTVkdSZWN0KCk7Zy54PWEtZi54LGcueT1iLWYueSxnLndpZHRoPWcuaGVpZ2h0PTE7dmFyIGg9ZC5nZXRJbnRlcnNlY3Rpb25MaXN0KGcsbnVsbCk7aC5sZW5ndGgmJihlPWhbaC5sZW5ndGgtMV0pfWlmKCFlKXJldHVybiBudWxsO2Zvcig7ZS5wYXJlbnROb2RlJiZlIT1kLnBhcmVudE5vZGUmJiFlLnJhcGhhZWw7KWU9ZS5wYXJlbnROb2RlO3JldHVybiBlPT1jLmNhbnZhcy5wYXJlbnROb2RlJiYoZT1kKSxlPWUmJmUucmFwaGFlbD9jLmdldEJ5SWQoZS5yYXBoYWVsaWQpOm51bGx9LHUuZ2V0RWxlbWVudHNCeUJCb3g9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5zZXQoKTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGQpe2IuaXNCQm94SW50ZXJzZWN0KGQuZ2V0QkJveCgpLGEpJiZjLnB1c2goZCl9KSxjfSx1LmdldEJ5SWQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuYm90dG9tO2I7KXtpZihiLmlkPT1hKXJldHVybiBiO2I9Yi5uZXh0fXJldHVybiBudWxsfSx1LmZvckVhY2g9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5ib3R0b207Yzspe2lmKGEuY2FsbChiLGMpPT09ITEpcmV0dXJuIHRoaXM7Yz1jLm5leHR9cmV0dXJuIHRoaXN9LHUuZ2V0RWxlbWVudHNCeVBvaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zZXQoKTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGQpe2QuaXNQb2ludEluc2lkZShhLGIpJiZjLnB1c2goZCl9KSxjfSxYYS5pc1BvaW50SW5zaWRlPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5yZWFsUGF0aD1vYVt0aGlzLnR5cGVdKHRoaXMpO3JldHVybiB0aGlzLmF0dHIoInRyYW5zZm9ybSIpJiZ0aGlzLmF0dHIoInRyYW5zZm9ybSIpLmxlbmd0aCYmKGQ9Yi50cmFuc2Zvcm1QYXRoKGQsdGhpcy5hdHRyKCJ0cmFuc2Zvcm0iKSkpLGIuaXNQb2ludEluc2lkZVBhdGgoZCxhLGMpfSxYYS5nZXRCQm94PWZ1bmN0aW9uKGEpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm57fTt2YXIgYj10aGlzLl87cmV0dXJuIGE/KChiLmRpcnR5fHwhYi5iYm94d3QpJiYodGhpcy5yZWFsUGF0aD1vYVt0aGlzLnR5cGVdKHRoaXMpLGIuYmJveHd0PXphKHRoaXMucmVhbFBhdGgpLGIuYmJveHd0LnRvU3RyaW5nPW8sYi5kaXJ0eT0wKSxiLmJib3h3dCk6KChiLmRpcnR5fHxiLmRpcnR5VHx8IWIuYmJveCkmJigoYi5kaXJ0eXx8IXRoaXMucmVhbFBhdGgpJiYoYi5iYm94d3Q9MCx0aGlzLnJlYWxQYXRoPW9hW3RoaXMudHlwZV0odGhpcykpLGIuYmJveD16YShwYSh0aGlzLnJlYWxQYXRoLHRoaXMubWF0cml4KSksYi5iYm94LnRvU3RyaW5nPW8sYi5kaXJ0eT1iLmRpcnR5VD0wKSxiLmJib3gpfSxYYS5jbG9uZT1mdW5jdGlvbigpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gbnVsbDt2YXIgYT10aGlzLnBhcGVyW3RoaXMudHlwZV0oKS5hdHRyKHRoaXMuYXR0cigpKTtyZXR1cm4gdGhpcy5fX3NldF9fJiZ0aGlzLl9fc2V0X18ucHVzaChhKSxhfSxYYS5nbG93PWZ1bmN0aW9uKGEpe2lmKCJ0ZXh0Ij09dGhpcy50eXBlKXJldHVybiBudWxsO2E9YXx8e307dmFyIGI9e3dpZHRoOihhLndpZHRofHwxMCkrKCt0aGlzLmF0dHIoInN0cm9rZS13aWR0aCIpfHwxKSxmaWxsOmEuZmlsbHx8ITEsb3BhY2l0eTpudWxsPT1hLm9wYWNpdHk/LjU6YS5vcGFjaXR5LG9mZnNldHg6YS5vZmZzZXR4fHwwLG9mZnNldHk6YS5vZmZzZXR5fHwwLGNvbG9yOmEuY29sb3J8fCIjMDAwIn0sYz1iLndpZHRoLzIsZD10aGlzLnBhcGVyLGU9ZC5zZXQoKSxmPXRoaXMucmVhbFBhdGh8fG9hW3RoaXMudHlwZV0odGhpcyk7Zj10aGlzLm1hdHJpeD9wYShmLHRoaXMubWF0cml4KTpmO2Zvcih2YXIgZz0xO2MrMT5nO2crKyllLnB1c2goZC5wYXRoKGYpLmF0dHIoe3N0cm9rZTpiLmNvbG9yLGZpbGw6Yi5maWxsP2IuY29sb3I6Im5vbmUiLCJzdHJva2UtbGluZWpvaW4iOiJyb3VuZCIsInN0cm9rZS1saW5lY2FwIjoicm91bmQiLCJzdHJva2Utd2lkdGgiOisoYi53aWR0aC9jKmcpLnRvRml4ZWQoMyksb3BhY2l0eTorKGIub3BhY2l0eS9jKS50b0ZpeGVkKDMpfSkpO3JldHVybiBlLmluc2VydEJlZm9yZSh0aGlzKS50cmFuc2xhdGUoYi5vZmZzZXR4LGIub2Zmc2V0eSl9O3ZhciBfYT1mdW5jdGlvbihhLGMsZCxlLGYsZyxoLGssbCl7cmV0dXJuIG51bGw9PWw/aShhLGMsZCxlLGYsZyxoLGspOmIuZmluZERvdHNBdFNlZ21lbnQoYSxjLGQsZSxmLGcsaCxrLGooYSxjLGQsZSxmLGcsaCxrLGwpKX0sYWI9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gZnVuY3Rpb24oZCxlLGYpe2Q9SWEoZCk7Zm9yKHZhciBnLGgsaSxqLGssbD0iIixtPXt9LG49MCxvPTAscD1kLmxlbmd0aDtwPm87bysrKXtpZihpPWRbb10sIk0iPT1pWzBdKWc9K2lbMV0saD0raVsyXTtlbHNle2lmKGo9X2EoZyxoLGlbMV0saVsyXSxpWzNdLGlbNF0saVs1XSxpWzZdKSxuK2o+ZSl7aWYoYyYmIW0uc3RhcnQpe2lmKGs9X2EoZyxoLGlbMV0saVsyXSxpWzNdLGlbNF0saVs1XSxpWzZdLGUtbiksbCs9WyJDIitrLnN0YXJ0Lngsay5zdGFydC55LGsubS54LGsubS55LGsueCxrLnldLGYpcmV0dXJuIGw7bS5zdGFydD1sLGw9WyJNIitrLngsay55KyJDIitrLm4ueCxrLm4ueSxrLmVuZC54LGsuZW5kLnksaVs1XSxpWzZdXS5qb2luKCksbis9aixnPStpWzVdLGg9K2lbNl07Y29udGludWV9aWYoIWEmJiFjKXJldHVybiBrPV9hKGcsaCxpWzFdLGlbMl0saVszXSxpWzRdLGlbNV0saVs2XSxlLW4pLHt4OmsueCx5OmsueSxhbHBoYTprLmFscGhhfX1uKz1qLGc9K2lbNV0saD0raVs2XX1sKz1pLnNoaWZ0KCkraX1yZXR1cm4gbS5lbmQ9bCxrPWE/bjpjP206Yi5maW5kRG90c0F0U2VnbWVudChnLGgsaVswXSxpWzFdLGlbMl0saVszXSxpWzRdLGlbNV0sMSksay5hbHBoYSYmKGs9e3g6ay54LHk6ay55LGFscGhhOmsuYWxwaGF9KSxrfX0sYmI9YWIoMSksY2I9YWIoKSxkYj1hYigwLDEpO2IuZ2V0VG90YWxMZW5ndGg9YmIsYi5nZXRQb2ludEF0TGVuZ3RoPWNiLGIuZ2V0U3VicGF0aD1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy5nZXRUb3RhbExlbmd0aChhKS1jPDFlLTYpcmV0dXJuIGRiKGEsYikuZW5kO3ZhciBkPWRiKGEsYywxKTtyZXR1cm4gYj9kYihkLGIpLmVuZDpkfSxYYS5nZXRUb3RhbExlbmd0aD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0UGF0aCgpO2lmKGEpcmV0dXJuIHRoaXMubm9kZS5nZXRUb3RhbExlbmd0aD90aGlzLm5vZGUuZ2V0VG90YWxMZW5ndGgoKTpiYihhKX0sWGEuZ2V0UG9pbnRBdExlbmd0aD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFBhdGgoKTtpZihiKXJldHVybiBjYihiLGEpfSxYYS5nZXRQYXRoPWZ1bmN0aW9uKCl7dmFyIGEsYz1iLl9nZXRQYXRoW3RoaXMudHlwZV07aWYoInRleHQiIT10aGlzLnR5cGUmJiJzZXQiIT10aGlzLnR5cGUpcmV0dXJuIGMmJihhPWModGhpcykpLGF9LFhhLmdldFN1YnBhdGg9ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmdldFBhdGgoKTtpZihkKXJldHVybiBiLmdldFN1YnBhdGgoZCxhLGMpfTt2YXIgZWI9Yi5lYXNpbmdfZm9ybXVsYXM9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sIjwiOmZ1bmN0aW9uKGEpe3JldHVybiBRKGEsMS43KX0sIj4iOmZ1bmN0aW9uKGEpe3JldHVybiBRKGEsLjQ4KX0sIjw+IjpmdW5jdGlvbihhKXt2YXIgYj0uNDgtYS8xLjA0LGM9TS5zcXJ0KC4xNzM0K2IqYiksZD1jLWIsZT1RKFAoZCksMS8zKSooMD5kPy0xOjEpLGY9LWMtYixnPVEoUChmKSwxLzMpKigwPmY/LTE6MSksaD1lK2crLjU7cmV0dXJuIDMqKDEtaCkqaCpoK2gqaCpofSxiYWNrSW46ZnVuY3Rpb24oYSl7dmFyIGI9MS43MDE1ODtyZXR1cm4gYSphKigoYisxKSphLWIpfSxiYWNrT3V0OmZ1bmN0aW9uKGEpe2EtPTE7dmFyIGI9MS43MDE1ODtyZXR1cm4gYSphKigoYisxKSphK2IpKzF9LGVsYXN0aWM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PSEhYT9hOlEoMiwtMTAqYSkqTS5zaW4oMiooYS0uMDc1KSpSLy4zKSsxfSxib3VuY2U6ZnVuY3Rpb24oYSl7dmFyIGIsYz03LjU2MjUsZD0yLjc1O3JldHVybiAxL2Q+YT9iPWMqYSphOjIvZD5hPyhhLT0xLjUvZCxiPWMqYSphKy43NSk6Mi41L2Q+YT8oYS09Mi4yNS9kLGI9YyphKmErLjkzNzUpOihhLT0yLjYyNS9kLGI9YyphKmErLjk4NDM3NSksYn19O2ViLmVhc2VJbj1lYlsiZWFzZS1pbiJdPWViWyI8Il0sZWIuZWFzZU91dD1lYlsiZWFzZS1vdXQiXT1lYlsiPiJdLGViLmVhc2VJbk91dD1lYlsiZWFzZS1pbi1vdXQiXT1lYlsiPD4iXSxlYlsiYmFjay1pbiJdPWViLmJhY2tJbixlYlsiYmFjay1vdXQiXT1lYi5iYWNrT3V0O3ZhciBmYj1bXSxnYj13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGEsMTYpfSxoYj1mdW5jdGlvbigpe2Zvcih2YXIgYz0rbmV3IERhdGUsZD0wO2Q8ZmIubGVuZ3RoO2QrKyl7dmFyIGU9ZmJbZF07aWYoIWUuZWwucmVtb3ZlZCYmIWUucGF1c2VkKXt2YXIgZixnLGg9Yy1lLnN0YXJ0LGk9ZS5tcyxqPWUuZWFzaW5nLGs9ZS5mcm9tLGw9ZS5kaWZmLG09ZS50byxuPShlLnQsZS5lbCksbz17fSxwPXt9O2lmKGUuaW5pdHN0YXR1cz8oaD0oZS5pbml0c3RhdHVzKmUuYW5pbS50b3AtZS5wcmV2KS8oZS5wZXJjZW50LWUucHJldikqaSxlLnN0YXR1cz1lLmluaXRzdGF0dXMsZGVsZXRlIGUuaW5pdHN0YXR1cyxlLnN0b3AmJmZiLnNwbGljZShkLS0sMSkpOmUuc3RhdHVzPShlLnByZXYrKGUucGVyY2VudC1lLnByZXYpKihoL2kpKS9lLmFuaW0udG9wLCEoMD5oKSlpZihpPmgpe3ZhciBxPWooaC9pKTtmb3IodmFyIHMgaW4gaylpZihrW3ldKHMpKXtzd2l0Y2goY2Fbc10pe2Nhc2UgUzpmPStrW3NdK3EqaSpsW3NdO2JyZWFrO2Nhc2UiY29sb3VyIjpmPSJyZ2IoIitbaWIoWihrW3NdLnIrcSppKmxbc10ucikpLGliKFooa1tzXS5nK3EqaSpsW3NdLmcpKSxpYihaKGtbc10uYitxKmkqbFtzXS5iKSldLmpvaW4oIiwiKSsiKSI7YnJlYWs7Y2FzZSJwYXRoIjpmPVtdO2Zvcih2YXIgdD0wLHU9a1tzXS5sZW5ndGg7dT50O3QrKyl7Zlt0XT1ba1tzXVt0XVswXV07Zm9yKHZhciB2PTEsdz1rW3NdW3RdLmxlbmd0aDt3PnY7disrKWZbdF1bdl09K2tbc11bdF1bdl0rcSppKmxbc11bdF1bdl07Zlt0XT1mW3RdLmpvaW4oRyl9Zj1mLmpvaW4oRyk7YnJlYWs7Y2FzZSJ0cmFuc2Zvcm0iOmlmKGxbc10ucmVhbClmb3IoZj1bXSx0PTAsdT1rW3NdLmxlbmd0aDt1PnQ7dCsrKWZvcihmW3RdPVtrW3NdW3RdWzBdXSx2PTEsdz1rW3NdW3RdLmxlbmd0aDt3PnY7disrKWZbdF1bdl09a1tzXVt0XVt2XStxKmkqbFtzXVt0XVt2XTtlbHNle3ZhciB4PWZ1bmN0aW9uKGEpe3JldHVybitrW3NdW2FdK3EqaSpsW3NdW2FdfTtmPVtbIm0iLHgoMCkseCgxKSx4KDIpLHgoMykseCg0KSx4KDUpXV19YnJlYWs7Y2FzZSJjc3YiOmlmKCJjbGlwLXJlY3QiPT1zKWZvcihmPVtdLHQ9NDt0LS07KWZbdF09K2tbc11bdF0rcSppKmxbc11bdF07YnJlYWs7ZGVmYXVsdDp2YXIgej1bXVtEXShrW3NdKTtmb3IoZj1bXSx0PW4ucGFwZXIuY3VzdG9tQXR0cmlidXRlc1tzXS5sZW5ndGg7dC0tOylmW3RdPSt6W3RdK3EqaSpsW3NdW3RdfW9bc109Zn1uLmF0dHIobyksZnVuY3Rpb24oYixjLGQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthKCJyYXBoYWVsLmFuaW0uZnJhbWUuIitiLGMsZCl9KX0obi5pZCxuLGUuYW5pbSl9ZWxzZXtpZihmdW5jdGlvbihjLGQsZSl7c2V0VGltZW91dChmdW5jdGlvbigpe2EoInJhcGhhZWwuYW5pbS5mcmFtZS4iK2QuaWQsZCxlKSxhKCJyYXBoYWVsLmFuaW0uZmluaXNoLiIrZC5pZCxkLGUpLGIuaXMoYywiZnVuY3Rpb24iKSYmYy5jYWxsKGQpfSl9KGUuY2FsbGJhY2ssbixlLmFuaW0pLG4uYXR0cihtKSxmYi5zcGxpY2UoZC0tLDEpLGUucmVwZWF0PjEmJiFlLm5leHQpe2ZvcihnIGluIG0pbVt5XShnKSYmKHBbZ109ZS50b3RhbE9yaWdpbltnXSk7ZS5lbC5hdHRyKHApLHIoZS5hbmltLGUuZWwsZS5hbmltLnBlcmNlbnRzWzBdLG51bGwsZS50b3RhbE9yaWdpbixlLnJlcGVhdC0xKX1lLm5leHQmJiFlLnN0b3AmJnIoZS5hbmltLGUuZWwsZS5uZXh0LG51bGwsZS50b3RhbE9yaWdpbixlLnJlcGVhdCl9fX1mYi5sZW5ndGgmJmdiKGhiKX0saWI9ZnVuY3Rpb24oYSl7cmV0dXJuIGE+MjU1PzI1NTowPmE/MDphfTtYYS5hbmltYXRlV2l0aD1mdW5jdGlvbihhLGMsZCxlLGYsZyl7dmFyIGg9dGhpcztpZihoLnJlbW92ZWQpcmV0dXJuIGcmJmcuY2FsbChoKSxoO3ZhciBpPWQgaW5zdGFuY2VvZiBxP2Q6Yi5hbmltYXRpb24oZCxlLGYsZyk7cihpLGgsaS5wZXJjZW50c1swXSxudWxsLGguYXR0cigpKTtmb3IodmFyIGo9MCxrPWZiLmxlbmd0aDtrPmo7aisrKWlmKGZiW2pdLmFuaW09PWMmJmZiW2pdLmVsPT1hKXtmYltrLTFdLnN0YXJ0PWZiW2pdLnN0YXJ0O2JyZWFrfXJldHVybiBofSxYYS5vbkFuaW1hdGlvbj1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLm9uKCJyYXBoYWVsLmFuaW0uZnJhbWUuIit0aGlzLmlkLGIpOmEudW5iaW5kKCJyYXBoYWVsLmFuaW0uZnJhbWUuIit0aGlzLmlkKSx0aGlzfSxxLnByb3RvdHlwZS5kZWxheT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgcSh0aGlzLmFuaW0sdGhpcy5tcyk7cmV0dXJuIGIudGltZXM9dGhpcy50aW1lcyxiLmRlbD0rYXx8MCxifSxxLnByb3RvdHlwZS5yZXBlYXQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IHEodGhpcy5hbmltLHRoaXMubXMpO3JldHVybiBiLmRlbD10aGlzLmRlbCxiLnRpbWVzPU0uZmxvb3IoTihhLDApKXx8MSxifSxiLmFuaW1hdGlvbj1mdW5jdGlvbihhLGMsZCxlKXtpZihhIGluc3RhbmNlb2YgcSlyZXR1cm4gYTsoYi5pcyhkLCJmdW5jdGlvbiIpfHwhZCkmJihlPWV8fGR8fG51bGwsZD1udWxsKSxhPU9iamVjdChhKSxjPStjfHwwO3ZhciBmLGcsaD17fTtmb3IoZyBpbiBhKWFbeV0oZykmJiQoZykhPWcmJiQoZykrIiUiIT1nJiYoZj0hMCxoW2ddPWFbZ10pO2lmKGYpcmV0dXJuIGQmJihoLmVhc2luZz1kKSxlJiYoaC5jYWxsYmFjaz1lKSxuZXcgcSh7MTAwOmh9LGMpO2lmKGUpe3ZhciBpPTA7Zm9yKHZhciBqIGluIGEpe3ZhciBrPV8oaik7YVt5XShqKSYmaz5pJiYoaT1rKX1pKz0iJSIsIWFbaV0uY2FsbGJhY2smJihhW2ldLmNhbGxiYWNrPWUpfXJldHVybiBuZXcgcShhLGMpfSxYYS5hbmltYXRlPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmPXRoaXM7aWYoZi5yZW1vdmVkKXJldHVybiBlJiZlLmNhbGwoZiksZjt2YXIgZz1hIGluc3RhbmNlb2YgcT9hOmIuYW5pbWF0aW9uKGEsYyxkLGUpO3JldHVybiByKGcsZixnLnBlcmNlbnRzWzBdLG51bGwsZi5hdHRyKCkpLGZ9LFhhLnNldFRpbWU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmbnVsbCE9YiYmdGhpcy5zdGF0dXMoYSxPKGIsYS5tcykvYS5tcyksdGhpc30sWGEuc3RhdHVzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPVtdLGY9MDtpZihudWxsIT1iKXJldHVybiByKGEsdGhpcywtMSxPKGIsMSkpLHRoaXM7Zm9yKGM9ZmIubGVuZ3RoO2M+ZjtmKyspaWYoZD1mYltmXSxkLmVsLmlkPT10aGlzLmlkJiYoIWF8fGQuYW5pbT09YSkpe2lmKGEpcmV0dXJuIGQuc3RhdHVzO2UucHVzaCh7YW5pbTpkLmFuaW0sc3RhdHVzOmQuc3RhdHVzfSl9cmV0dXJuIGE/MDplfSxYYS5wYXVzZT1mdW5jdGlvbihiKXtmb3IodmFyIGM9MDtjPGZiLmxlbmd0aDtjKyspZmJbY10uZWwuaWQhPXRoaXMuaWR8fGImJmZiW2NdLmFuaW0hPWJ8fGEoInJhcGhhZWwuYW5pbS5wYXVzZS4iK3RoaXMuaWQsdGhpcyxmYltjXS5hbmltKSE9PSExJiYoZmJbY10ucGF1c2VkPSEwKTtyZXR1cm4gdGhpc30sWGEucmVzdW1lPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYz0wO2M8ZmIubGVuZ3RoO2MrKylpZihmYltjXS5lbC5pZD09dGhpcy5pZCYmKCFifHxmYltjXS5hbmltPT1iKSl7dmFyIGQ9ZmJbY107YSgicmFwaGFlbC5hbmltLnJlc3VtZS4iK3RoaXMuaWQsdGhpcyxkLmFuaW0pIT09ITEmJihkZWxldGUgZC5wYXVzZWQsdGhpcy5zdGF0dXMoZC5hbmltLGQuc3RhdHVzKSl9cmV0dXJuIHRoaXN9LFhhLnN0b3A9ZnVuY3Rpb24oYil7Zm9yKHZhciBjPTA7YzxmYi5sZW5ndGg7YysrKWZiW2NdLmVsLmlkIT10aGlzLmlkfHxiJiZmYltjXS5hbmltIT1ifHxhKCJyYXBoYWVsLmFuaW0uc3RvcC4iK3RoaXMuaWQsdGhpcyxmYltjXS5hbmltKSE9PSExJiZmYi5zcGxpY2UoYy0tLDEpO3JldHVybiB0aGlzfSxhLm9uKCJyYXBoYWVsLnJlbW92ZSIscyksYS5vbigicmFwaGFlbC5jbGVhciIscyksWGEudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iUmFwaGHDq2zigJlzIG9iamVjdCJ9O3ZhciBqYj1mdW5jdGlvbihhKXtpZih0aGlzLml0ZW1zPVtdLHRoaXMubGVuZ3RoPTAsdGhpcy50eXBlPSJzZXQiLGEpZm9yKHZhciBiPTAsYz1hLmxlbmd0aDtjPmI7YisrKSFhW2JdfHxhW2JdLmNvbnN0cnVjdG9yIT1YYS5jb25zdHJ1Y3RvciYmYVtiXS5jb25zdHJ1Y3RvciE9amJ8fCh0aGlzW3RoaXMuaXRlbXMubGVuZ3RoXT10aGlzLml0ZW1zW3RoaXMuaXRlbXMubGVuZ3RoXT1hW2JdLHRoaXMubGVuZ3RoKyspfSxrYj1qYi5wcm90b3R5cGU7a2IucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgYSxiLGM9MCxkPWFyZ3VtZW50cy5sZW5ndGg7ZD5jO2MrKylhPWFyZ3VtZW50c1tjXSwhYXx8YS5jb25zdHJ1Y3RvciE9WGEuY29uc3RydWN0b3ImJmEuY29uc3RydWN0b3IhPWpifHwoYj10aGlzLml0ZW1zLmxlbmd0aCx0aGlzW2JdPXRoaXMuaXRlbXNbYl09YSx0aGlzLmxlbmd0aCsrKTtyZXR1cm4gdGhpc30sa2IucG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoJiZkZWxldGUgdGhpc1t0aGlzLmxlbmd0aC0tXSx0aGlzLml0ZW1zLnBvcCgpfSxrYi5mb3JFYWNoPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD10aGlzLml0ZW1zLmxlbmd0aDtkPmM7YysrKWlmKGEuY2FsbChiLHRoaXMuaXRlbXNbY10sYyk9PT0hMSlyZXR1cm4gdGhpcztyZXR1cm4gdGhpc307Zm9yKHZhciBsYiBpbiBYYSlYYVt5XShsYikmJihrYltsYl09ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9YXJndW1lbnRzO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oYyl7Y1thXVtDXShjLGIpfSl9fShsYikpO3JldHVybiBrYi5hdHRyPWZ1bmN0aW9uKGEsYyl7aWYoYSYmYi5pcyhhLFUpJiZiLmlzKGFbMF0sIm9iamVjdCIpKWZvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyl0aGlzLml0ZW1zW2RdLmF0dHIoYVtkXSk7ZWxzZSBmb3IodmFyIGY9MCxnPXRoaXMuaXRlbXMubGVuZ3RoO2c+ZjtmKyspdGhpcy5pdGVtc1tmXS5hdHRyKGEsYyk7cmV0dXJuIHRoaXN9LGtiLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmxlbmd0aDspdGhpcy5wb3AoKX0sa2Iuc3BsaWNlPWZ1bmN0aW9uKGEsYixjKXthPTA+YT9OKHRoaXMubGVuZ3RoK2EsMCk6YSxiPU4oMCxPKHRoaXMubGVuZ3RoLWEsYikpO3ZhciBkLGU9W10sZj1bXSxnPVtdO2ZvcihkPTI7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKylnLnB1c2goYXJndW1lbnRzW2RdKTtmb3IoZD0wO2I+ZDtkKyspZi5wdXNoKHRoaXNbYStkXSk7Zm9yKDtkPHRoaXMubGVuZ3RoLWE7ZCsrKWUucHVzaCh0aGlzW2ErZF0pO3ZhciBoPWcubGVuZ3RoO2ZvcihkPTA7ZDxoK2UubGVuZ3RoO2QrKyl0aGlzLml0ZW1zW2ErZF09dGhpc1thK2RdPWg+ZD9nW2RdOmVbZC1oXTtmb3IoZD10aGlzLml0ZW1zLmxlbmd0aD10aGlzLmxlbmd0aC09Yi1oO3RoaXNbZF07KWRlbGV0ZSB0aGlzW2QrK107cmV0dXJuIG5ldyBqYihmKX0sa2IuZXhjbHVkZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMubGVuZ3RoO2M+YjtiKyspaWYodGhpc1tiXT09YSlyZXR1cm4gdGhpcy5zcGxpY2UoYiwxKSwhMH0sa2IuYW5pbWF0ZT1mdW5jdGlvbihhLGMsZCxlKXsoYi5pcyhkLCJmdW5jdGlvbiIpfHwhZCkmJihlPWR8fG51bGwpO3ZhciBmLGcsaD10aGlzLml0ZW1zLmxlbmd0aCxpPWgsaj10aGlzO2lmKCFoKXJldHVybiB0aGlzO2UmJihnPWZ1bmN0aW9uKCl7IS0taCYmZS5jYWxsKGopfSksZD1iLmlzKGQsVCk/ZDpnO3ZhciBrPWIuYW5pbWF0aW9uKGEsYyxkLGcpO2ZvcihmPXRoaXMuaXRlbXNbLS1pXS5hbmltYXRlKGspO2ktLTspdGhpcy5pdGVtc1tpXSYmIXRoaXMuaXRlbXNbaV0ucmVtb3ZlZCYmdGhpcy5pdGVtc1tpXS5hbmltYXRlV2l0aChmLGssayksdGhpcy5pdGVtc1tpXSYmIXRoaXMuaXRlbXNbaV0ucmVtb3ZlZHx8aC0tO3JldHVybiB0aGlzfSxrYi5pbnNlcnRBZnRlcj1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5pdGVtcy5sZW5ndGg7Yi0tOyl0aGlzLml0ZW1zW2JdLmluc2VydEFmdGVyKGEpO3JldHVybiB0aGlzfSxrYi5nZXRCQm94PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9W10sYz1bXSxkPVtdLGU9dGhpcy5pdGVtcy5sZW5ndGg7ZS0tOylpZighdGhpcy5pdGVtc1tlXS5yZW1vdmVkKXt2YXIgZj10aGlzLml0ZW1zW2VdLmdldEJCb3goKTthLnB1c2goZi54KSxiLnB1c2goZi55KSxjLnB1c2goZi54K2Yud2lkdGgpLGQucHVzaChmLnkrZi5oZWlnaHQpfXJldHVybiBhPU9bQ10oMCxhKSxiPU9bQ10oMCxiKSxjPU5bQ10oMCxjKSxkPU5bQ10oMCxkKSx7eDphLHk6Yix4MjpjLHkyOmQsd2lkdGg6Yy1hLGhlaWdodDpkLWJ9fSxrYi5jbG9uZT1mdW5jdGlvbihhKXthPXRoaXMucGFwZXIuc2V0KCk7Zm9yKHZhciBiPTAsYz10aGlzLml0ZW1zLmxlbmd0aDtjPmI7YisrKWEucHVzaCh0aGlzLml0ZW1zW2JdLmNsb25lKCkpO3JldHVybiBhfSxrYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJSYXBoYcOrbOKAmHMgc2V0In0sa2IuZ2xvdz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnBhcGVyLnNldCgpO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oYyxkKXt2YXIgZT1jLmdsb3coYSk7bnVsbCE9ZSYmZS5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7Yi5wdXNoKGEpfSl9KSxifSxrYi5pc1BvaW50SW5zaWRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9ITE7cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihkKXtyZXR1cm4gZC5pc1BvaW50SW5zaWRlKGEsYik/KGM9ITAsITEpOnZvaWQgMH0pLGN9LGIucmVnaXN0ZXJGb250PWZ1bmN0aW9uKGEpe2lmKCFhLmZhY2UpcmV0dXJuIGE7dGhpcy5mb250cz10aGlzLmZvbnRzfHx7fTt2YXIgYj17dzphLncsZmFjZTp7fSxnbHlwaHM6e319LGM9YS5mYWNlWyJmb250LWZhbWlseSJdO2Zvcih2YXIgZCBpbiBhLmZhY2UpYS5mYWNlW3ldKGQpJiYoYi5mYWNlW2RdPWEuZmFjZVtkXSk7aWYodGhpcy5mb250c1tjXT90aGlzLmZvbnRzW2NdLnB1c2goYik6dGhpcy5mb250c1tjXT1bYl0sIWEuc3ZnKXtiLmZhY2VbInVuaXRzLXBlci1lbSJdPV8oYS5mYWNlWyJ1bml0cy1wZXItZW0iXSwxMCk7Zm9yKHZhciBlIGluIGEuZ2x5cGhzKWlmKGEuZ2x5cGhzW3ldKGUpKXt2YXIgZj1hLmdseXBoc1tlXTtpZihiLmdseXBoc1tlXT17dzpmLncsazp7fSxkOmYuZCYmIk0iK2YuZC5yZXBsYWNlKC9bbWxjeHRydl0vZyxmdW5jdGlvbihhKXtyZXR1cm57bDoiTCIsYzoiQyIseDoieiIsdDoibSIscjoibCIsdjoiYyJ9W2FdfHwiTSJ9KSsieiJ9LGYuaylmb3IodmFyIGcgaW4gZi5rKWZbeV0oZykmJihiLmdseXBoc1tlXS5rW2ddPWYua1tnXSl9fXJldHVybiBhfSx1LmdldEZvbnQ9ZnVuY3Rpb24oYSxjLGQsZSl7aWYoZT1lfHwibm9ybWFsIixkPWR8fCJub3JtYWwiLGM9K2N8fHtub3JtYWw6NDAwLGJvbGQ6NzAwLGxpZ2h0ZXI6MzAwLGJvbGRlcjo4MDB9W2NdfHw0MDAsYi5mb250cyl7dmFyIGY9Yi5mb250c1thXTtpZighZil7dmFyIGc9bmV3IFJlZ0V4cCgiKF58XFxzKSIrYS5yZXBsYWNlKC9bXlx3XGRccyshfi46Xy1dL2csRikrIihcXHN8JCkiLCJpIik7Zm9yKHZhciBoIGluIGIuZm9udHMpaWYoYi5mb250c1t5XShoKSYmZy50ZXN0KGgpKXtmPWIuZm9udHNbaF07YnJlYWt9fXZhciBpO2lmKGYpZm9yKHZhciBqPTAsaz1mLmxlbmd0aDtrPmomJihpPWZbal0saS5mYWNlWyJmb250LXdlaWdodCJdIT1jfHxpLmZhY2VbImZvbnQtc3R5bGUiXSE9ZCYmaS5mYWNlWyJmb250LXN0eWxlIl18fGkuZmFjZVsiZm9udC1zdHJldGNoIl0hPWUpO2orKyk7cmV0dXJuIGl9fSx1LnByaW50PWZ1bmN0aW9uKGEsYyxkLGUsZixnLGgsaSl7Zz1nfHwibWlkZGxlIixoPU4oTyhofHwwLDEpLC0xKSxpPU4oTyhpfHwxLDMpLDEpO3ZhciBqLGs9SChkKVtJXShGKSxsPTAsbT0wLG49RjtpZihiLmlzKGUsInN0cmluZyIpJiYoZT10aGlzLmdldEZvbnQoZSkpLGUpe2o9KGZ8fDE2KS9lLmZhY2VbInVuaXRzLXBlci1lbSJdO2Zvcih2YXIgbz1lLmZhY2UuYmJveFtJXSh2KSxwPStvWzBdLHE9b1szXS1vWzFdLHI9MCxzPStvWzFdKygiYmFzZWxpbmUiPT1nP3ErICtlLmZhY2UuZGVzY2VudDpxLzIpLHQ9MCx1PWsubGVuZ3RoO3U+dDt0Kyspe2lmKCJcbiI9PWtbdF0pbD0wLHg9MCxtPTAscis9cSppO2Vsc2V7dmFyIHc9bSYmZS5nbHlwaHNba1t0LTFdXXx8e30seD1lLmdseXBoc1trW3RdXTtsKz1tPyh3Lnd8fGUudykrKHcuayYmdy5rW2tbdF1dfHwwKStlLncqaDowLG09MX14JiZ4LmQmJihuKz1iLnRyYW5zZm9ybVBhdGgoeC5kLFsidCIsbCpqLHIqaiwicyIsaixqLHAscywidCIsKGEtcCkvaiwoYy1zKS9qXSkpfX1yZXR1cm4gdGhpcy5wYXRoKG4pLmF0dHIoe2ZpbGw6IiMwMDAiLHN0cm9rZToibm9uZSJ9KX0sdS5hZGQ9ZnVuY3Rpb24oYSl7aWYoYi5pcyhhLCJhcnJheSIpKWZvcih2YXIgYyxkPXRoaXMuc2V0KCksZT0wLGY9YS5sZW5ndGg7Zj5lO2UrKyljPWFbZV18fHt9LHdbeV0oYy50eXBlKSYmZC5wdXNoKHRoaXNbYy50eXBlXSgpLmF0dHIoYykpO3JldHVybiBkfSxiLmZvcm1hdD1mdW5jdGlvbihhLGMpe3ZhciBkPWIuaXMoYyxVKT9bMF1bRF0oYyk6YXJndW1lbnRzO3JldHVybiBhJiZiLmlzKGEsVCkmJmQubGVuZ3RoLTEmJihhPWEucmVwbGFjZSh4LGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWRbKytiXT9GOmRbYl19KSksYXx8Rn0sYi5mdWxsZmlsbD1mdW5jdGlvbigpe3ZhciBhPS9ceyhbXlx9XSspXH0vZyxiPS8oPzooPzpefFwuKSguKz8pKD89XFt8XC58JHxcKCl8XFsoJ3wiKSguKz8pXDJcXSkoXChcKSk/L2csYz1mdW5jdGlvbihhLGMsZCl7dmFyIGU9ZDtyZXR1cm4gYy5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGMsZCxmKXtiPWJ8fGQsZSYmKGIgaW4gZSYmKGU9ZVtiXSksImZ1bmN0aW9uIj09dHlwZW9mIGUmJmYmJihlPWUoKSkpfSksZT0obnVsbD09ZXx8ZT09ZD9hOmUpKyIifTtyZXR1cm4gZnVuY3Rpb24oYixkKXtyZXR1cm4gU3RyaW5nKGIpLnJlcGxhY2UoYSxmdW5jdGlvbihhLGIpe3JldHVybiBjKGEsYixkKX0pfX0oKSxiLm5pbmphPWZ1bmN0aW9uKCl7cmV0dXJuIEEud2FzP3oud2luLlJhcGhhZWw9QS5pczpkZWxldGUgUmFwaGFlbCxifSxiLnN0PWtiLGEub24oInJhcGhhZWwuRE9NbG9hZCIsZnVuY3Rpb24oKXt0PSEwfSksZnVuY3Rpb24oYSxjLGQpe2Z1bmN0aW9uIGUoKXsvaW4vLnRlc3QoYS5yZWFkeVN0YXRlKT9zZXRUaW1lb3V0KGUsOSk6Yi5ldmUoInJhcGhhZWwuRE9NbG9hZCIpfW51bGw9PWEucmVhZHlTdGF0ZSYmYS5hZGRFdmVudExpc3RlbmVyJiYoYS5hZGRFdmVudExpc3RlbmVyKGMsZD1mdW5jdGlvbigpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLGQsITEpLGEucmVhZHlTdGF0ZT0iY29tcGxldGUifSwhMSksYS5yZWFkeVN0YXRlPSJsb2FkaW5nIiksZSgpfShkb2N1bWVudCwiRE9NQ29udGVudExvYWRlZCIpLGJ9KSxmdW5jdGlvbihhLGIpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJyYXBoYWVsLnN2ZyIsWyJyYXBoYWVsLmNvcmUiXSxmdW5jdGlvbihhKXtyZXR1cm4gYihhKX0pOmIoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzP3JlcXVpcmUoIi4vcmFwaGFlbC5jb3JlIik6YS5SYXBoYWVsKX0odGhpcyxmdW5jdGlvbihhKXtpZighYXx8YS5zdmcpe3ZhciBiPSJoYXNPd25Qcm9wZXJ0eSIsYz1TdHJpbmcsZD1wYXJzZUZsb2F0LGU9cGFyc2VJbnQsZj1NYXRoLGc9Zi5tYXgsaD1mLmFicyxpPWYucG93LGo9L1ssIF0rLyxrPWEuZXZlLGw9IiIsbT0iICIsbj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsbz17YmxvY2s6Ik01LDAgMCwyLjUgNSw1eiIsY2xhc3NpYzoiTTUsMCAwLDIuNSA1LDUgMy41LDMgMy41LDJ6IixkaWFtb25kOiJNMi41LDAgNSwyLjUgMi41LDUgMCwyLjV6IixvcGVuOiJNNiwxIDEsMy41IDYsNiIsb3ZhbDoiTTIuNSwwQTIuNSwyLjUsMCwwLDEsMi41LDUgMi41LDIuNSwwLDAsMSwyLjUsMHoifSxwPXt9O2EudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iWW91ciBicm93c2VyIHN1cHBvcnRzIFNWRy5cbllvdSBhcmUgcnVubmluZyBSYXBoYcOrbCAiK3RoaXMudmVyc2lvbn07dmFyIHE9ZnVuY3Rpb24oZCxlKXtpZihlKXsic3RyaW5nIj09dHlwZW9mIGQmJihkPXEoZCkpO2Zvcih2YXIgZiBpbiBlKWVbYl0oZikmJigieGxpbms6Ij09Zi5zdWJzdHJpbmcoMCw2KT9kLnNldEF0dHJpYnV0ZU5TKG4sZi5zdWJzdHJpbmcoNiksYyhlW2ZdKSk6ZC5zZXRBdHRyaWJ1dGUoZixjKGVbZl0pKSl9ZWxzZSBkPWEuX2cuZG9jLmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLGQpLGQuc3R5bGUmJihkLnN0eWxlLndlYmtpdFRhcEhpZ2hsaWdodENvbG9yPSJyZ2JhKDAsMCwwLDApIik7cmV0dXJuIGR9LHI9ZnVuY3Rpb24oYixlKXt2YXIgaj0ibGluZWFyIixrPWIuaWQrZSxtPS41LG49LjUsbz1iLm5vZGUscD1iLnBhcGVyLHI9by5zdHlsZSxzPWEuX2cuZG9jLmdldEVsZW1lbnRCeUlkKGspO2lmKCFzKXtpZihlPWMoZSkucmVwbGFjZShhLl9yYWRpYWxfZ3JhZGllbnQsZnVuY3Rpb24oYSxiLGMpe2lmKGo9InJhZGlhbCIsYiYmYyl7bT1kKGIpLG49ZChjKTt2YXIgZT0yKihuPi41KS0xO2kobS0uNSwyKStpKG4tLjUsMik+LjI1JiYobj1mLnNxcnQoLjI1LWkobS0uNSwyKSkqZSsuNSkmJi41IT1uJiYobj1uLnRvRml4ZWQoNSktMWUtNSplKX1yZXR1cm4gbH0pLGU9ZS5zcGxpdCgvXHMqXC1ccyovKSwibGluZWFyIj09ail7dmFyIHQ9ZS5zaGlmdCgpO2lmKHQ9LWQodCksaXNOYU4odCkpcmV0dXJuIG51bGw7dmFyIHU9WzAsMCxmLmNvcyhhLnJhZCh0KSksZi5zaW4oYS5yYWQodCkpXSx2PTEvKGcoaCh1WzJdKSxoKHVbM10pKXx8MSk7dVsyXSo9dix1WzNdKj12LHVbMl08MCYmKHVbMF09LXVbMl0sdVsyXT0wKSx1WzNdPDAmJih1WzFdPS11WzNdLHVbM109MCl9dmFyIHc9YS5fcGFyc2VEb3RzKGUpO2lmKCF3KXJldHVybiBudWxsO2lmKGs9ay5yZXBsYWNlKC9bXChcKVxzLFx4YjAjXS9nLCJfIiksYi5ncmFkaWVudCYmayE9Yi5ncmFkaWVudC5pZCYmKHAuZGVmcy5yZW1vdmVDaGlsZChiLmdyYWRpZW50KSxkZWxldGUgYi5ncmFkaWVudCksIWIuZ3JhZGllbnQpe3M9cShqKyJHcmFkaWVudCIse2lkOmt9KSxiLmdyYWRpZW50PXMscShzLCJyYWRpYWwiPT1qP3tmeDptLGZ5Om59Ont4MTp1WzBdLHkxOnVbMV0seDI6dVsyXSx5Mjp1WzNdLGdyYWRpZW50VHJhbnNmb3JtOmIubWF0cml4LmludmVydCgpfSkscC5kZWZzLmFwcGVuZENoaWxkKHMpO2Zvcih2YXIgeD0wLHk9dy5sZW5ndGg7eT54O3grKylzLmFwcGVuZENoaWxkKHEoInN0b3AiLHtvZmZzZXQ6d1t4XS5vZmZzZXQ/d1t4XS5vZmZzZXQ6eD8iMTAwJSI6IjAlIiwic3RvcC1jb2xvciI6d1t4XS5jb2xvcnx8IiNmZmYiLCJzdG9wLW9wYWNpdHkiOmlzRmluaXRlKHdbeF0ub3BhY2l0eSk/d1t4XS5vcGFjaXR5OjF9KSl9fXJldHVybiBxKG8se2ZpbGw6InVybCgnIitkb2N1bWVudC5sb2NhdGlvbi5vcmlnaW4rZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUrIiMiK2srIicpIixvcGFjaXR5OjEsImZpbGwtb3BhY2l0eSI6MX0pLHIuZmlsbD1sLHIub3BhY2l0eT0xLHIuZmlsbE9wYWNpdHk9MSwxfSxzPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QkJveCgxKTtxKGEucGF0dGVybix7cGF0dGVyblRyYW5zZm9ybTphLm1hdHJpeC5pbnZlcnQoKSsiIHRyYW5zbGF0ZSgiK2IueCsiLCIrYi55KyIpIn0pfSx0PWZ1bmN0aW9uKGQsZSxmKXtpZigicGF0aCI9PWQudHlwZSl7Zm9yKHZhciBnLGgsaSxqLGssbT1jKGUpLnRvTG93ZXJDYXNlKCkuc3BsaXQoIi0iKSxuPWQucGFwZXIscj1mPyJlbmQiOiJzdGFydCIscz1kLm5vZGUsdD1kLmF0dHJzLHU9dFsic3Ryb2tlLXdpZHRoIl0sdj1tLmxlbmd0aCx3PSJjbGFzc2ljIix4PTMseT0zLHo9NTt2LS07KXN3aXRjaChtW3ZdKXtjYXNlImJsb2NrIjpjYXNlImNsYXNzaWMiOmNhc2Uib3ZhbCI6Y2FzZSJkaWFtb25kIjpjYXNlIm9wZW4iOmNhc2Uibm9uZSI6dz1tW3ZdO2JyZWFrO2Nhc2Uid2lkZSI6eT01O2JyZWFrO2Nhc2UibmFycm93Ijp5PTI7YnJlYWs7Y2FzZSJsb25nIjp4PTU7YnJlYWs7Y2FzZSJzaG9ydCI6eD0yfWlmKCJvcGVuIj09dz8oeCs9Mix5Kz0yLHorPTIsaT0xLGo9Zj80OjEsaz17ZmlsbDoibm9uZSIsc3Ryb2tlOnQuc3Ryb2tlfSk6KGo9aT14LzIsaz17ZmlsbDp0LnN0cm9rZSxzdHJva2U6Im5vbmUifSksZC5fLmFycm93cz9mPyhkLl8uYXJyb3dzLmVuZFBhdGgmJnBbZC5fLmFycm93cy5lbmRQYXRoXS0tLGQuXy5hcnJvd3MuZW5kTWFya2VyJiZwW2QuXy5hcnJvd3MuZW5kTWFya2VyXS0tKTooZC5fLmFycm93cy5zdGFydFBhdGgmJnBbZC5fLmFycm93cy5zdGFydFBhdGhdLS0sZC5fLmFycm93cy5zdGFydE1hcmtlciYmcFtkLl8uYXJyb3dzLnN0YXJ0TWFya2VyXS0tKTpkLl8uYXJyb3dzPXt9LCJub25lIiE9dyl7dmFyIEE9InJhcGhhZWwtbWFya2VyLSIrdyxCPSJyYXBoYWVsLW1hcmtlci0iK3Irdyt4K3krIi1vYmoiK2QuaWQ7YS5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQoQSk/cFtBXSsrOihuLmRlZnMuYXBwZW5kQ2hpbGQocShxKCJwYXRoIikseyJzdHJva2UtbGluZWNhcCI6InJvdW5kIixkOm9bd10saWQ6QX0pKSxwW0FdPTEpO3ZhciBDLEQ9YS5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQoQik7RD8ocFtCXSsrLEM9RC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidXNlIilbMF0pOihEPXEocSgibWFya2VyIikse2lkOkIsbWFya2VySGVpZ2h0OnksbWFya2VyV2lkdGg6eCxvcmllbnQ6ImF1dG8iLHJlZlg6aixyZWZZOnkvMn0pLEM9cShxKCJ1c2UiKSx7InhsaW5rOmhyZWYiOiIjIitBLHRyYW5zZm9ybTooZj8icm90YXRlKDE4MCAiK3gvMisiICIreS8yKyIpICI6bCkrInNjYWxlKCIreC96KyIsIit5L3orIikiLCJzdHJva2Utd2lkdGgiOigxLygoeC96K3kveikvMikpLnRvRml4ZWQoNCl9KSxELmFwcGVuZENoaWxkKEMpLG4uZGVmcy5hcHBlbmRDaGlsZChEKSxwW0JdPTEpLHEoQyxrKTt2YXIgRT1pKigiZGlhbW9uZCIhPXcmJiJvdmFsIiE9dyk7Zj8oZz1kLl8uYXJyb3dzLnN0YXJ0ZHgqdXx8MCxoPWEuZ2V0VG90YWxMZW5ndGgodC5wYXRoKS1FKnUpOihnPUUqdSxoPWEuZ2V0VG90YWxMZW5ndGgodC5wYXRoKS0oZC5fLmFycm93cy5lbmRkeCp1fHwwKSksaz17fSxrWyJtYXJrZXItIityXT0idXJsKCMiK0IrIikiLChofHxnKSYmKGsuZD1hLmdldFN1YnBhdGgodC5wYXRoLGcsaCkpLHEocyxrKSxkLl8uYXJyb3dzW3IrIlBhdGgiXT1BLGQuXy5hcnJvd3NbcisiTWFya2VyIl09QixkLl8uYXJyb3dzW3IrImR4Il09RSxkLl8uYXJyb3dzW3IrIlR5cGUiXT13LGQuXy5hcnJvd3NbcisiU3RyaW5nIl09ZX1lbHNlIGY/KGc9ZC5fLmFycm93cy5zdGFydGR4KnV8fDAsaD1hLmdldFRvdGFsTGVuZ3RoKHQucGF0aCktZyk6KGc9MCxoPWEuZ2V0VG90YWxMZW5ndGgodC5wYXRoKS0oZC5fLmFycm93cy5lbmRkeCp1fHwwKSksZC5fLmFycm93c1tyKyJQYXRoIl0mJnEocyx7ZDphLmdldFN1YnBhdGgodC5wYXRoLGcsaCl9KSxkZWxldGUgZC5fLmFycm93c1tyKyJQYXRoIl0sZGVsZXRlIGQuXy5hcnJvd3NbcisiTWFya2VyIl0sZGVsZXRlIGQuXy5hcnJvd3NbcisiZHgiXSxkZWxldGUgZC5fLmFycm93c1tyKyJUeXBlIl0sZGVsZXRlIGQuXy5hcnJvd3NbcisiU3RyaW5nIl07Zm9yKGsgaW4gcClpZihwW2JdKGspJiYhcFtrXSl7dmFyIEY9YS5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQoayk7RiYmRi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEYpfX19LHU9eyItIjpbMywxXSwiLiI6WzEsMV0sIi0uIjpbMywxLDEsMV0sIi0uLiI6WzMsMSwxLDEsMSwxXSwiLiAiOlsxLDNdLCItICI6WzQsM10sIi0tIjpbOCwzXSwiLSAuIjpbNCwzLDEsM10sIi0tLiI6WzgsMywxLDNdLCItLS4uIjpbOCwzLDEsMywxLDNdfSx2PWZ1bmN0aW9uKGEsYixkKXtpZihiPXVbYyhiKS50b0xvd2VyQ2FzZSgpXSl7Zm9yKHZhciBlPWEuYXR0cnNbInN0cm9rZS13aWR0aCJdfHwiMSIsZj17cm91bmQ6ZSxzcXVhcmU6ZSxidXR0OjB9W2EuYXR0cnNbInN0cm9rZS1saW5lY2FwIl18fGRbInN0cm9rZS1saW5lY2FwIl1dfHwwLGc9W10saD1iLmxlbmd0aDtoLS07KWdbaF09YltoXSplKyhoJTI/MTotMSkqZjtxKGEubm9kZSx7InN0cm9rZS1kYXNoYXJyYXkiOmcuam9pbigiLCIpfSl9ZWxzZSBxKGEubm9kZSx7InN0cm9rZS1kYXNoYXJyYXkiOiJub25lIn0pfSx3PWZ1bmN0aW9uKGQsZil7dmFyIGk9ZC5ub2RlLGs9ZC5hdHRycyxtPWkuc3R5bGUudmlzaWJpbGl0eTtpLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7Zm9yKHZhciBvIGluIGYpaWYoZltiXShvKSl7aWYoIWEuX2F2YWlsYWJsZUF0dHJzW2JdKG8pKWNvbnRpbnVlO3ZhciBwPWZbb107c3dpdGNoKGtbb109cCxvKXtjYXNlImJsdXIiOmQuYmx1cihwKTticmVhaztjYXNlInRpdGxlIjp2YXIgdT1pLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0aXRsZSIpO2lmKHUubGVuZ3RoJiYodT11WzBdKSl1LmZpcnN0Q2hpbGQubm9kZVZhbHVlPXA7ZWxzZXt1PXEoInRpdGxlIik7dmFyIHc9YS5fZy5kb2MuY3JlYXRlVGV4dE5vZGUocCk7dS5hcHBlbmRDaGlsZCh3KSxpLmFwcGVuZENoaWxkKHUpfWJyZWFrO2Nhc2UiaHJlZiI6Y2FzZSJ0YXJnZXQiOnZhciB4PWkucGFyZW50Tm9kZTtpZigiYSIhPXgudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgej1xKCJhIik7eC5pbnNlcnRCZWZvcmUoeixpKSx6LmFwcGVuZENoaWxkKGkpLHg9en0idGFyZ2V0Ij09bz94LnNldEF0dHJpYnV0ZU5TKG4sInNob3ciLCJibGFuayI9PXA/Im5ldyI6cCk6eC5zZXRBdHRyaWJ1dGVOUyhuLG8scCk7YnJlYWs7Y2FzZSJjdXJzb3IiOmkuc3R5bGUuY3Vyc29yPXA7YnJlYWs7Y2FzZSJ0cmFuc2Zvcm0iOmQudHJhbnNmb3JtKHApO2JyZWFrO2Nhc2UiYXJyb3ctc3RhcnQiOnQoZCxwKTticmVhaztjYXNlImFycm93LWVuZCI6dChkLHAsMSk7YnJlYWs7Y2FzZSJjbGlwLXJlY3QiOnZhciBBPWMocCkuc3BsaXQoaik7aWYoND09QS5sZW5ndGgpe2QuY2xpcCYmZC5jbGlwLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkLmNsaXAucGFyZW50Tm9kZSk7dmFyIEI9cSgiY2xpcFBhdGgiKSxDPXEoInJlY3QiKTtCLmlkPWEuY3JlYXRlVVVJRCgpLHEoQyx7eDpBWzBdLHk6QVsxXSx3aWR0aDpBWzJdLGhlaWdodDpBWzNdfSksQi5hcHBlbmRDaGlsZChDKSxkLnBhcGVyLmRlZnMuYXBwZW5kQ2hpbGQoQikscShpLHsiY2xpcC1wYXRoIjoidXJsKCMiK0IuaWQrIikifSksZC5jbGlwPUN9aWYoIXApe3ZhciBEPWkuZ2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiKTtpZihEKXt2YXIgRT1hLl9nLmRvYy5nZXRFbGVtZW50QnlJZChELnJlcGxhY2UoLyhedXJsXCgjfFwpJCkvZyxsKSk7RSYmRS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEUpLHEoaSx7ImNsaXAtcGF0aCI6bH0pLGRlbGV0ZSBkLmNsaXB9fWJyZWFrO2Nhc2UicGF0aCI6InBhdGgiPT1kLnR5cGUmJihxKGkse2Q6cD9rLnBhdGg9YS5fcGF0aFRvQWJzb2x1dGUocCk6Ik0wLDAifSksZC5fLmRpcnR5PTEsZC5fLmFycm93cyYmKCJzdGFydFN0cmluZyJpbiBkLl8uYXJyb3dzJiZ0KGQsZC5fLmFycm93cy5zdGFydFN0cmluZyksImVuZFN0cmluZyJpbiBkLl8uYXJyb3dzJiZ0KGQsZC5fLmFycm93cy5lbmRTdHJpbmcsMSkpKTticmVhaztjYXNlIndpZHRoIjppZihpLnNldEF0dHJpYnV0ZShvLHApLGQuXy5kaXJ0eT0xLCFrLmZ4KWJyZWFrO289IngiLHA9ay54O2Nhc2UieCI6ay5meCYmKHA9LWsueC0oay53aWR0aHx8MCkpO2Nhc2UicngiOmlmKCJyeCI9PW8mJiJyZWN0Ij09ZC50eXBlKWJyZWFrO2Nhc2UiY3giOmkuc2V0QXR0cmlidXRlKG8scCksZC5wYXR0ZXJuJiZzKGQpLGQuXy5kaXJ0eT0xO2JyZWFrO2Nhc2UiaGVpZ2h0IjppZihpLnNldEF0dHJpYnV0ZShvLHApLGQuXy5kaXJ0eT0xLCFrLmZ5KWJyZWFrO289InkiLHA9ay55O2Nhc2UieSI6ay5meSYmKHA9LWsueS0oay5oZWlnaHR8fDApKTtjYXNlInJ5IjppZigicnkiPT1vJiYicmVjdCI9PWQudHlwZSlicmVhaztjYXNlImN5IjppLnNldEF0dHJpYnV0ZShvLHApLGQucGF0dGVybiYmcyhkKSxkLl8uZGlydHk9MTticmVhaztjYXNlInIiOiJyZWN0Ij09ZC50eXBlP3EoaSx7cng6cCxyeTpwfSk6aS5zZXRBdHRyaWJ1dGUobyxwKSxkLl8uZGlydHk9MTticmVhaztjYXNlInNyYyI6ImltYWdlIj09ZC50eXBlJiZpLnNldEF0dHJpYnV0ZU5TKG4sImhyZWYiLHApO2JyZWFrO2Nhc2Uic3Ryb2tlLXdpZHRoIjooMSE9ZC5fLnN4fHwxIT1kLl8uc3kpJiYocC89ZyhoKGQuXy5zeCksaChkLl8uc3kpKXx8MSksaS5zZXRBdHRyaWJ1dGUobyxwKSxrWyJzdHJva2UtZGFzaGFycmF5Il0mJnYoZCxrWyJzdHJva2UtZGFzaGFycmF5Il0sZiksZC5fLmFycm93cyYmKCJzdGFydFN0cmluZyJpbiBkLl8uYXJyb3dzJiZ0KGQsZC5fLmFycm93cy5zdGFydFN0cmluZyksImVuZFN0cmluZyJpbiBkLl8uYXJyb3dzJiZ0KGQsZC5fLmFycm93cy5lbmRTdHJpbmcsMSkpO2JyZWFrO2Nhc2Uic3Ryb2tlLWRhc2hhcnJheSI6dihkLHAsZik7YnJlYWs7Y2FzZSJmaWxsIjp2YXIgRj1jKHApLm1hdGNoKGEuX0lTVVJMKTtpZihGKXtCPXEoInBhdHRlcm4iKTt2YXIgRz1xKCJpbWFnZSIpO0IuaWQ9YS5jcmVhdGVVVUlEKCkscShCLHt4OjAseTowLHBhdHRlcm5Vbml0czoidXNlclNwYWNlT25Vc2UiLGhlaWdodDoxLHdpZHRoOjF9KSxxKEcse3g6MCx5OjAsInhsaW5rOmhyZWYiOkZbMV19KSxCLmFwcGVuZENoaWxkKEcpLGZ1bmN0aW9uKGIpe2EuX3ByZWxvYWQoRlsxXSxmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0V2lkdGgsYz10aGlzLm9mZnNldEhlaWdodDtxKGIse3dpZHRoOmEsaGVpZ2h0OmN9KSxxKEcse3dpZHRoOmEsaGVpZ2h0OmN9KX0pfShCKSxkLnBhcGVyLmRlZnMuYXBwZW5kQ2hpbGQoQikscShpLHtmaWxsOiJ1cmwoIyIrQi5pZCsiKSJ9KSxkLnBhdHRlcm49QixkLnBhdHRlcm4mJnMoZCk7YnJlYWt9dmFyIEg9YS5nZXRSR0IocCk7aWYoSC5lcnJvcil7aWYoKCJjaXJjbGUiPT1kLnR5cGV8fCJlbGxpcHNlIj09ZC50eXBlfHwiciIhPWMocCkuY2hhckF0KCkpJiZyKGQscCkpe2lmKCJvcGFjaXR5ImluIGt8fCJmaWxsLW9wYWNpdHkiaW4gayl7dmFyIEk9YS5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQoaS5nZXRBdHRyaWJ1dGUoImZpbGwiKS5yZXBsYWNlKC9edXJsXCgjfFwpJC9nLGwpKTtpZihJKXt2YXIgSj1JLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdG9wIik7cShKW0oubGVuZ3RoLTFdLHsic3RvcC1vcGFjaXR5IjooIm9wYWNpdHkiaW4gaz9rLm9wYWNpdHk6MSkqKCJmaWxsLW9wYWNpdHkiaW4gaz9rWyJmaWxsLW9wYWNpdHkiXToxKX0pfX1rLmdyYWRpZW50PXAsay5maWxsPSJub25lIjticmVha319ZWxzZSBkZWxldGUgZi5ncmFkaWVudCxkZWxldGUgay5ncmFkaWVudCwhYS5pcyhrLm9wYWNpdHksInVuZGVmaW5lZCIpJiZhLmlzKGYub3BhY2l0eSwidW5kZWZpbmVkIikmJnEoaSx7b3BhY2l0eTprLm9wYWNpdHl9KSwhYS5pcyhrWyJmaWxsLW9wYWNpdHkiXSwidW5kZWZpbmVkIikmJmEuaXMoZlsiZmlsbC1vcGFjaXR5Il0sInVuZGVmaW5lZCIpJiZxKGkseyJmaWxsLW9wYWNpdHkiOmtbImZpbGwtb3BhY2l0eSJdfSk7SFtiXSgib3BhY2l0eSIpJiZxKGkseyJmaWxsLW9wYWNpdHkiOkgub3BhY2l0eT4xP0gub3BhY2l0eS8xMDA6SC5vcGFjaXR5fSk7Y2FzZSJzdHJva2UiOkg9YS5nZXRSR0IocCksaS5zZXRBdHRyaWJ1dGUobyxILmhleCksInN0cm9rZSI9PW8mJkhbYl0oIm9wYWNpdHkiKSYmcShpLHsic3Ryb2tlLW9wYWNpdHkiOkgub3BhY2l0eT4xP0gub3BhY2l0eS8xMDA6SC5vcGFjaXR5fSksInN0cm9rZSI9PW8mJmQuXy5hcnJvd3MmJigic3RhcnRTdHJpbmciaW4gZC5fLmFycm93cyYmdChkLGQuXy5hcnJvd3Muc3RhcnRTdHJpbmcpLCJlbmRTdHJpbmciaW4gZC5fLmFycm93cyYmdChkLGQuXy5hcnJvd3MuZW5kU3RyaW5nLDEpKTticmVhaztjYXNlImdyYWRpZW50IjooImNpcmNsZSI9PWQudHlwZXx8ImVsbGlwc2UiPT1kLnR5cGV8fCJyIiE9YyhwKS5jaGFyQXQoKSkmJnIoZCxwKTsKCmJyZWFrO2Nhc2Uib3BhY2l0eSI6ay5ncmFkaWVudCYmIWtbYl0oInN0cm9rZS1vcGFjaXR5IikmJnEoaSx7InN0cm9rZS1vcGFjaXR5IjpwPjE/cC8xMDA6cH0pO2Nhc2UiZmlsbC1vcGFjaXR5IjppZihrLmdyYWRpZW50KXtJPWEuX2cuZG9jLmdldEVsZW1lbnRCeUlkKGkuZ2V0QXR0cmlidXRlKCJmaWxsIikucmVwbGFjZSgvXnVybFwoI3xcKSQvZyxsKSksSSYmKEo9SS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3RvcCIpLHEoSltKLmxlbmd0aC0xXSx7InN0b3Atb3BhY2l0eSI6cH0pKTticmVha31kZWZhdWx0OiJmb250LXNpemUiPT1vJiYocD1lKHAsMTApKyJweCIpO3ZhciBLPW8ucmVwbGFjZSgvKFwtLikvZyxmdW5jdGlvbihhKXtyZXR1cm4gYS5zdWJzdHJpbmcoMSkudG9VcHBlckNhc2UoKX0pO2kuc3R5bGVbS109cCxkLl8uZGlydHk9MSxpLnNldEF0dHJpYnV0ZShvLHApfX15KGQsZiksaS5zdHlsZS52aXNpYmlsaXR5PW19LHg9MS4yLHk9ZnVuY3Rpb24oZCxmKXtpZigidGV4dCI9PWQudHlwZSYmKGZbYl0oInRleHQiKXx8ZltiXSgiZm9udCIpfHxmW2JdKCJmb250LXNpemUiKXx8ZltiXSgieCIpfHxmW2JdKCJ5IikpKXt2YXIgZz1kLmF0dHJzLGg9ZC5ub2RlLGk9aC5maXJzdENoaWxkP2UoYS5fZy5kb2MuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShoLmZpcnN0Q2hpbGQsbCkuZ2V0UHJvcGVydHlWYWx1ZSgiZm9udC1zaXplIiksMTApOjEwO2lmKGZbYl0oInRleHQiKSl7Zm9yKGcudGV4dD1mLnRleHQ7aC5maXJzdENoaWxkOyloLnJlbW92ZUNoaWxkKGguZmlyc3RDaGlsZCk7Zm9yKHZhciBqLGs9YyhmLnRleHQpLnNwbGl0KCJcbiIpLG09W10sbj0wLG89ay5sZW5ndGg7bz5uO24rKylqPXEoInRzcGFuIiksbiYmcShqLHtkeTppKngseDpnLnh9KSxqLmFwcGVuZENoaWxkKGEuX2cuZG9jLmNyZWF0ZVRleHROb2RlKGtbbl0pKSxoLmFwcGVuZENoaWxkKGopLG1bbl09an1lbHNlIGZvcihtPWguZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRzcGFuIiksbj0wLG89bS5sZW5ndGg7bz5uO24rKyluP3EobVtuXSx7ZHk6aSp4LHg6Zy54fSk6cShtWzBdLHtkeTowfSk7cShoLHt4OmcueCx5OmcueX0pLGQuXy5kaXJ0eT0xO3ZhciBwPWQuX2dldEJCb3goKSxyPWcueS0ocC55K3AuaGVpZ2h0LzIpO3ImJmEuaXMociwiZmluaXRlIikmJnEobVswXSx7ZHk6cn0pfX0sej1mdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiYiYSI9PT1hLnBhcmVudE5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpP2EucGFyZW50Tm9kZTphfSxBPWZ1bmN0aW9uKGIsYyl7dGhpc1swXT10aGlzLm5vZGU9YixiLnJhcGhhZWw9ITAsdGhpcy5pZD1hLl9vaWQrKyxiLnJhcGhhZWxpZD10aGlzLmlkLHRoaXMubWF0cml4PWEubWF0cml4KCksdGhpcy5yZWFsUGF0aD1udWxsLHRoaXMucGFwZXI9Yyx0aGlzLmF0dHJzPXRoaXMuYXR0cnN8fHt9LHRoaXMuXz17dHJhbnNmb3JtOltdLHN4OjEsc3k6MSxkZWc6MCxkeDowLGR5OjAsZGlydHk6MX0sIWMuYm90dG9tJiYoYy5ib3R0b209dGhpcyksdGhpcy5wcmV2PWMudG9wLGMudG9wJiYoYy50b3AubmV4dD10aGlzKSxjLnRvcD10aGlzLHRoaXMubmV4dD1udWxsfSxCPWEuZWw7QS5wcm90b3R5cGU9QixCLmNvbnN0cnVjdG9yPUEsYS5fZW5naW5lLnBhdGg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1xKCJwYXRoIik7Yi5jYW52YXMmJmIuY2FudmFzLmFwcGVuZENoaWxkKGMpO3ZhciBkPW5ldyBBKGMsYik7cmV0dXJuIGQudHlwZT0icGF0aCIsdyhkLHtmaWxsOiJub25lIixzdHJva2U6IiMwMDAiLHBhdGg6YX0pLGR9LEIucm90YXRlPWZ1bmN0aW9uKGEsYixlKXtpZih0aGlzLnJlbW92ZWQpcmV0dXJuIHRoaXM7aWYoYT1jKGEpLnNwbGl0KGopLGEubGVuZ3RoLTEmJihiPWQoYVsxXSksZT1kKGFbMl0pKSxhPWQoYVswXSksbnVsbD09ZSYmKGI9ZSksbnVsbD09Ynx8bnVsbD09ZSl7dmFyIGY9dGhpcy5nZXRCQm94KDEpO2I9Zi54K2Yud2lkdGgvMixlPWYueStmLmhlaWdodC8yfXJldHVybiB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbWyJyIixhLGIsZV1dKSksdGhpc30sQi5zY2FsZT1mdW5jdGlvbihhLGIsZSxmKXtpZih0aGlzLnJlbW92ZWQpcmV0dXJuIHRoaXM7aWYoYT1jKGEpLnNwbGl0KGopLGEubGVuZ3RoLTEmJihiPWQoYVsxXSksZT1kKGFbMl0pLGY9ZChhWzNdKSksYT1kKGFbMF0pLG51bGw9PWImJihiPWEpLG51bGw9PWYmJihlPWYpLG51bGw9PWV8fG51bGw9PWYpdmFyIGc9dGhpcy5nZXRCQm94KDEpO3JldHVybiBlPW51bGw9PWU/Zy54K2cud2lkdGgvMjplLGY9bnVsbD09Zj9nLnkrZy5oZWlnaHQvMjpmLHRoaXMudHJhbnNmb3JtKHRoaXMuXy50cmFuc2Zvcm0uY29uY2F0KFtbInMiLGEsYixlLGZdXSkpLHRoaXN9LEIudHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucmVtb3ZlZD90aGlzOihhPWMoYSkuc3BsaXQoaiksYS5sZW5ndGgtMSYmKGI9ZChhWzFdKSksYT1kKGFbMF0pfHwwLGI9K2J8fDAsdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1sidCIsYSxiXV0pKSx0aGlzKX0sQi50cmFuc2Zvcm09ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5fO2lmKG51bGw9PWMpcmV0dXJuIGQudHJhbnNmb3JtO2lmKGEuX2V4dHJhY3RUcmFuc2Zvcm0odGhpcyxjKSx0aGlzLmNsaXAmJnEodGhpcy5jbGlwLHt0cmFuc2Zvcm06dGhpcy5tYXRyaXguaW52ZXJ0KCl9KSx0aGlzLnBhdHRlcm4mJnModGhpcyksdGhpcy5ub2RlJiZxKHRoaXMubm9kZSx7dHJhbnNmb3JtOnRoaXMubWF0cml4fSksMSE9ZC5zeHx8MSE9ZC5zeSl7dmFyIGU9dGhpcy5hdHRyc1tiXSgic3Ryb2tlLXdpZHRoIik/dGhpcy5hdHRyc1sic3Ryb2tlLXdpZHRoIl06MTt0aGlzLmF0dHIoeyJzdHJva2Utd2lkdGgiOmV9KX1yZXR1cm4gdGhpc30sQi5oaWRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlZHx8KHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5PSJub25lIiksdGhpc30sQi5zaG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlZHx8KHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5PSIiKSx0aGlzfSxCLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBiPXoodGhpcy5ub2RlKTtpZighdGhpcy5yZW1vdmVkJiZiLnBhcmVudE5vZGUpe3ZhciBjPXRoaXMucGFwZXI7Yy5fX3NldF9fJiZjLl9fc2V0X18uZXhjbHVkZSh0aGlzKSxrLnVuYmluZCgicmFwaGFlbC4qLiouIit0aGlzLmlkKSx0aGlzLmdyYWRpZW50JiZjLmRlZnMucmVtb3ZlQ2hpbGQodGhpcy5ncmFkaWVudCksYS5fdGVhcih0aGlzLGMpLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSx0aGlzLnJlbW92ZURhdGEoKTtmb3IodmFyIGQgaW4gdGhpcyl0aGlzW2RdPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzW2RdP2EuX3JlbW92ZWRGYWN0b3J5KGQpOm51bGw7dGhpcy5yZW1vdmVkPSEwfX0sQi5fZ2V0QkJveD1mdW5jdGlvbigpe2lmKCJub25lIj09dGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkpe3RoaXMuc2hvdygpO3ZhciBhPSEwfXZhciBiLGM9ITE7dGhpcy5wYXBlci5jYW52YXMucGFyZW50RWxlbWVudD9iPXRoaXMucGFwZXIuY2FudmFzLnBhcmVudEVsZW1lbnQuc3R5bGU6dGhpcy5wYXBlci5jYW52YXMucGFyZW50Tm9kZSYmKGI9dGhpcy5wYXBlci5jYW52YXMucGFyZW50Tm9kZS5zdHlsZSksYiYmIm5vbmUiPT1iLmRpc3BsYXkmJihjPSEwLGIuZGlzcGxheT0iIik7dmFyIGQ9e307dHJ5e2Q9dGhpcy5ub2RlLmdldEJCb3goKX1jYXRjaChlKXtkPXt4OnRoaXMubm9kZS5jbGllbnRMZWZ0LHk6dGhpcy5ub2RlLmNsaWVudFRvcCx3aWR0aDp0aGlzLm5vZGUuY2xpZW50V2lkdGgsaGVpZ2h0OnRoaXMubm9kZS5jbGllbnRIZWlnaHR9fWZpbmFsbHl7ZD1kfHx7fSxjJiYoYi5kaXNwbGF5PSJub25lIil9cmV0dXJuIGEmJnRoaXMuaGlkZSgpLGR9LEIuYXR0cj1mdW5jdGlvbihjLGQpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gdGhpcztpZihudWxsPT1jKXt2YXIgZT17fTtmb3IodmFyIGYgaW4gdGhpcy5hdHRycyl0aGlzLmF0dHJzW2JdKGYpJiYoZVtmXT10aGlzLmF0dHJzW2ZdKTtyZXR1cm4gZS5ncmFkaWVudCYmIm5vbmUiPT1lLmZpbGwmJihlLmZpbGw9ZS5ncmFkaWVudCkmJmRlbGV0ZSBlLmdyYWRpZW50LGUudHJhbnNmb3JtPXRoaXMuXy50cmFuc2Zvcm0sZX1pZihudWxsPT1kJiZhLmlzKGMsInN0cmluZyIpKXtpZigiZmlsbCI9PWMmJiJub25lIj09dGhpcy5hdHRycy5maWxsJiZ0aGlzLmF0dHJzLmdyYWRpZW50KXJldHVybiB0aGlzLmF0dHJzLmdyYWRpZW50O2lmKCJ0cmFuc2Zvcm0iPT1jKXJldHVybiB0aGlzLl8udHJhbnNmb3JtO2Zvcih2YXIgZz1jLnNwbGl0KGopLGg9e30saT0wLGw9Zy5sZW5ndGg7bD5pO2krKyljPWdbaV0sYyBpbiB0aGlzLmF0dHJzP2hbY109dGhpcy5hdHRyc1tjXTphLmlzKHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1tjXSwiZnVuY3Rpb24iKT9oW2NdPXRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1tjXS5kZWY6aFtjXT1hLl9hdmFpbGFibGVBdHRyc1tjXTtyZXR1cm4gbC0xP2g6aFtnWzBdXX1pZihudWxsPT1kJiZhLmlzKGMsImFycmF5Iikpe2ZvcihoPXt9LGk9MCxsPWMubGVuZ3RoO2w+aTtpKyspaFtjW2ldXT10aGlzLmF0dHIoY1tpXSk7cmV0dXJuIGh9aWYobnVsbCE9ZCl7dmFyIG09e307bVtjXT1kfWVsc2UgbnVsbCE9YyYmYS5pcyhjLCJvYmplY3QiKSYmKG09Yyk7Zm9yKHZhciBuIGluIG0paygicmFwaGFlbC5hdHRyLiIrbisiLiIrdGhpcy5pZCx0aGlzLG1bbl0pO2ZvcihuIGluIHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlcylpZih0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbYl0obikmJm1bYl0obikmJmEuaXModGhpcy5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW25dLCJmdW5jdGlvbiIpKXt2YXIgbz10aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbbl0uYXBwbHkodGhpcyxbXS5jb25jYXQobVtuXSkpO3RoaXMuYXR0cnNbbl09bVtuXTtmb3IodmFyIHAgaW4gbylvW2JdKHApJiYobVtwXT1vW3BdKX1yZXR1cm4gdyh0aGlzLG0pLHRoaXN9LEIudG9Gcm9udD1mdW5jdGlvbigpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gdGhpczt2YXIgYj16KHRoaXMubm9kZSk7Yi5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGIpO3ZhciBjPXRoaXMucGFwZXI7cmV0dXJuIGMudG9wIT10aGlzJiZhLl90b2Zyb250KHRoaXMsYyksdGhpc30sQi50b0JhY2s9ZnVuY3Rpb24oKXtpZih0aGlzLnJlbW92ZWQpcmV0dXJuIHRoaXM7dmFyIGI9eih0aGlzLm5vZGUpLGM9Yi5wYXJlbnROb2RlO2MuaW5zZXJ0QmVmb3JlKGIsYy5maXJzdENoaWxkKSxhLl90b2JhY2sodGhpcyx0aGlzLnBhcGVyKTt0aGlzLnBhcGVyO3JldHVybiB0aGlzfSxCLmluc2VydEFmdGVyPWZ1bmN0aW9uKGIpe2lmKHRoaXMucmVtb3ZlZHx8IWIpcmV0dXJuIHRoaXM7dmFyIGM9eih0aGlzLm5vZGUpLGQ9eihiLm5vZGV8fGJbYi5sZW5ndGgtMV0ubm9kZSk7cmV0dXJuIGQubmV4dFNpYmxpbmc/ZC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjLGQubmV4dFNpYmxpbmcpOmQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjKSxhLl9pbnNlcnRhZnRlcih0aGlzLGIsdGhpcy5wYXBlciksdGhpc30sQi5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24oYil7aWYodGhpcy5yZW1vdmVkfHwhYilyZXR1cm4gdGhpczt2YXIgYz16KHRoaXMubm9kZSksZD16KGIubm9kZXx8YlswXS5ub2RlKTtyZXR1cm4gZC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjLGQpLGEuX2luc2VydGJlZm9yZSh0aGlzLGIsdGhpcy5wYXBlciksdGhpc30sQi5ibHVyPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7aWYoMCE9PStiKXt2YXIgZD1xKCJmaWx0ZXIiKSxlPXEoImZlR2F1c3NpYW5CbHVyIik7Yy5hdHRycy5ibHVyPWIsZC5pZD1hLmNyZWF0ZVVVSUQoKSxxKGUse3N0ZERldmlhdGlvbjorYnx8MS41fSksZC5hcHBlbmRDaGlsZChlKSxjLnBhcGVyLmRlZnMuYXBwZW5kQ2hpbGQoZCksYy5fYmx1cj1kLHEoYy5ub2RlLHtmaWx0ZXI6InVybCgjIitkLmlkKyIpIn0pfWVsc2UgYy5fYmx1ciYmKGMuX2JsdXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjLl9ibHVyKSxkZWxldGUgYy5fYmx1cixkZWxldGUgYy5hdHRycy5ibHVyKSxjLm5vZGUucmVtb3ZlQXR0cmlidXRlKCJmaWx0ZXIiKTtyZXR1cm4gY30sYS5fZW5naW5lLmNpcmNsZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1xKCJjaXJjbGUiKTthLmNhbnZhcyYmYS5jYW52YXMuYXBwZW5kQ2hpbGQoZSk7dmFyIGY9bmV3IEEoZSxhKTtyZXR1cm4gZi5hdHRycz17Y3g6YixjeTpjLHI6ZCxmaWxsOiJub25lIixzdHJva2U6IiMwMDAifSxmLnR5cGU9ImNpcmNsZSIscShlLGYuYXR0cnMpLGZ9LGEuX2VuZ2luZS5yZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1xKCJyZWN0Iik7YS5jYW52YXMmJmEuY2FudmFzLmFwcGVuZENoaWxkKGcpO3ZhciBoPW5ldyBBKGcsYSk7cmV0dXJuIGguYXR0cnM9e3g6Yix5OmMsd2lkdGg6ZCxoZWlnaHQ6ZSxyeDpmfHwwLHJ5OmZ8fDAsZmlsbDoibm9uZSIsc3Ryb2tlOiIjMDAwIn0saC50eXBlPSJyZWN0IixxKGcsaC5hdHRycyksaH0sYS5fZW5naW5lLmVsbGlwc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1xKCJlbGxpcHNlIik7YS5jYW52YXMmJmEuY2FudmFzLmFwcGVuZENoaWxkKGYpO3ZhciBnPW5ldyBBKGYsYSk7cmV0dXJuIGcuYXR0cnM9e2N4OmIsY3k6YyxyeDpkLHJ5OmUsZmlsbDoibm9uZSIsc3Ryb2tlOiIjMDAwIn0sZy50eXBlPSJlbGxpcHNlIixxKGYsZy5hdHRycyksZ30sYS5fZW5naW5lLmltYWdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1xKCJpbWFnZSIpO3EoZyx7eDpjLHk6ZCx3aWR0aDplLGhlaWdodDpmLHByZXNlcnZlQXNwZWN0UmF0aW86Im5vbmUifSksZy5zZXRBdHRyaWJ1dGVOUyhuLCJocmVmIixiKSxhLmNhbnZhcyYmYS5jYW52YXMuYXBwZW5kQ2hpbGQoZyk7dmFyIGg9bmV3IEEoZyxhKTtyZXR1cm4gaC5hdHRycz17eDpjLHk6ZCx3aWR0aDplLGhlaWdodDpmLHNyYzpifSxoLnR5cGU9ImltYWdlIixofSxhLl9lbmdpbmUudGV4dD1mdW5jdGlvbihiLGMsZCxlKXt2YXIgZj1xKCJ0ZXh0Iik7Yi5jYW52YXMmJmIuY2FudmFzLmFwcGVuZENoaWxkKGYpO3ZhciBnPW5ldyBBKGYsYik7cmV0dXJuIGcuYXR0cnM9e3g6Yyx5OmQsInRleHQtYW5jaG9yIjoibWlkZGxlIix0ZXh0OmUsImZvbnQtZmFtaWx5IjphLl9hdmFpbGFibGVBdHRyc1siZm9udC1mYW1pbHkiXSwiZm9udC1zaXplIjphLl9hdmFpbGFibGVBdHRyc1siZm9udC1zaXplIl0sc3Ryb2tlOiJub25lIixmaWxsOiIjMDAwIn0sZy50eXBlPSJ0ZXh0Iix3KGcsZy5hdHRycyksZ30sYS5fZW5naW5lLnNldFNpemU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy53aWR0aD1hfHx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0PWJ8fHRoaXMuaGVpZ2h0LHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgid2lkdGgiLHRoaXMud2lkdGgpLHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0aGlzLmhlaWdodCksdGhpcy5fdmlld0JveCYmdGhpcy5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsdGhpcy5fdmlld0JveCksdGhpc30sYS5fZW5naW5lLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBiPWEuX2dldENvbnRhaW5lci5hcHBseSgwLGFyZ3VtZW50cyksYz1iJiZiLmNvbnRhaW5lcixkPWIueCxlPWIueSxmPWIud2lkdGgsZz1iLmhlaWdodDtpZighYyl0aHJvdyBuZXcgRXJyb3IoIlNWRyBjb250YWluZXIgbm90IGZvdW5kLiIpO3ZhciBoLGk9cSgic3ZnIiksaj0ib3ZlcmZsb3c6aGlkZGVuOyI7cmV0dXJuIGQ9ZHx8MCxlPWV8fDAsZj1mfHw1MTIsZz1nfHwzNDIscShpLHtoZWlnaHQ6Zyx2ZXJzaW9uOjEuMSx3aWR0aDpmLHhtbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInhtbG5zOnhsaW5rIjoiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayJ9KSwxPT1jPyhpLnN0eWxlLmNzc1RleHQ9aisicG9zaXRpb246YWJzb2x1dGU7bGVmdDoiK2QrInB4O3RvcDoiK2UrInB4IixhLl9nLmRvYy5ib2R5LmFwcGVuZENoaWxkKGkpLGg9MSk6KGkuc3R5bGUuY3NzVGV4dD1qKyJwb3NpdGlvbjpyZWxhdGl2ZSIsYy5maXJzdENoaWxkP2MuaW5zZXJ0QmVmb3JlKGksYy5maXJzdENoaWxkKTpjLmFwcGVuZENoaWxkKGkpKSxjPW5ldyBhLl9QYXBlcixjLndpZHRoPWYsYy5oZWlnaHQ9ZyxjLmNhbnZhcz1pLGMuY2xlYXIoKSxjLl9sZWZ0PWMuX3RvcD0wLGgmJihjLnJlbmRlcmZpeD1mdW5jdGlvbigpe30pLGMucmVuZGVyZml4KCksY30sYS5fZW5naW5lLnNldFZpZXdCb3g9ZnVuY3Rpb24oYSxiLGMsZCxlKXtrKCJyYXBoYWVsLnNldFZpZXdCb3giLHRoaXMsdGhpcy5fdmlld0JveCxbYSxiLGMsZCxlXSk7dmFyIGYsaCxpPXRoaXMuZ2V0U2l6ZSgpLGo9ZyhjL2kud2lkdGgsZC9pLmhlaWdodCksbD10aGlzLnRvcCxuPWU/InhNaWRZTWlkIG1lZXQiOiJ4TWluWU1pbiI7Zm9yKG51bGw9PWE/KHRoaXMuX3ZiU2l6ZSYmKGo9MSksZGVsZXRlIHRoaXMuX3ZiU2l6ZSxmPSIwIDAgIit0aGlzLndpZHRoK20rdGhpcy5oZWlnaHQpOih0aGlzLl92YlNpemU9aixmPWErbStiK20rYyttK2QpLHEodGhpcy5jYW52YXMse3ZpZXdCb3g6ZixwcmVzZXJ2ZUFzcGVjdFJhdGlvOm59KTtqJiZsOyloPSJzdHJva2Utd2lkdGgiaW4gbC5hdHRycz9sLmF0dHJzWyJzdHJva2Utd2lkdGgiXToxLGwuYXR0cih7InN0cm9rZS13aWR0aCI6aH0pLGwuXy5kaXJ0eT0xLGwuXy5kaXJ0eVQ9MSxsPWwucHJldjtyZXR1cm4gdGhpcy5fdmlld0JveD1bYSxiLGMsZCwhIWVdLHRoaXN9LGEucHJvdG90eXBlLnJlbmRlcmZpeD1mdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5jYW52YXMsYz1iLnN0eWxlO3RyeXthPWIuZ2V0U2NyZWVuQ1RNKCl8fGIuY3JlYXRlU1ZHTWF0cml4KCl9Y2F0Y2goZCl7YT1iLmNyZWF0ZVNWR01hdHJpeCgpfXZhciBlPS1hLmUlMSxmPS1hLmYlMTsoZXx8ZikmJihlJiYodGhpcy5fbGVmdD0odGhpcy5fbGVmdCtlKSUxLGMubGVmdD10aGlzLl9sZWZ0KyJweCIpLGYmJih0aGlzLl90b3A9KHRoaXMuX3RvcCtmKSUxLGMudG9wPXRoaXMuX3RvcCsicHgiKSl9LGEucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7YS5ldmUoInJhcGhhZWwuY2xlYXIiLHRoaXMpO2Zvcih2YXIgYj10aGlzLmNhbnZhcztiLmZpcnN0Q2hpbGQ7KWIucmVtb3ZlQ2hpbGQoYi5maXJzdENoaWxkKTt0aGlzLmJvdHRvbT10aGlzLnRvcD1udWxsLCh0aGlzLmRlc2M9cSgiZGVzYyIpKS5hcHBlbmRDaGlsZChhLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZSgiQ3JlYXRlZCB3aXRoIFJhcGhhw6tsICIrYS52ZXJzaW9uKSksYi5hcHBlbmRDaGlsZCh0aGlzLmRlc2MpLGIuYXBwZW5kQ2hpbGQodGhpcy5kZWZzPXEoImRlZnMiKSl9LGEucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2soInJhcGhhZWwucmVtb3ZlIix0aGlzKSx0aGlzLmNhbnZhcy5wYXJlbnROb2RlJiZ0aGlzLmNhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY2FudmFzKTtmb3IodmFyIGIgaW4gdGhpcyl0aGlzW2JdPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzW2JdP2EuX3JlbW92ZWRGYWN0b3J5KGIpOm51bGx9O3ZhciBDPWEuc3Q7Zm9yKHZhciBEIGluIEIpQltiXShEKSYmIUNbYl0oRCkmJihDW0RdPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWFyZ3VtZW50cztyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2NbYV0uYXBwbHkoYyxiKX0pfX0oRCkpfX0pLGZ1bmN0aW9uKGEsYil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoInJhcGhhZWwudm1sIixbInJhcGhhZWwuY29yZSJdLGZ1bmN0aW9uKGEpe3JldHVybiBiKGEpfSk6Yigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/cmVxdWlyZSgiLi9yYXBoYWVsLmNvcmUiKTphLlJhcGhhZWwpfSh0aGlzLGZ1bmN0aW9uKGEpe2lmKCFhfHxhLnZtbCl7dmFyIGI9Imhhc093blByb3BlcnR5IixjPVN0cmluZyxkPXBhcnNlRmxvYXQsZT1NYXRoLGY9ZS5yb3VuZCxnPWUubWF4LGg9ZS5taW4saT1lLmFicyxqPSJmaWxsIixrPS9bLCBdKy8sbD1hLmV2ZSxtPSIgcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0IixuPSIgIixvPSIiLHA9e006Im0iLEw6ImwiLEM6ImMiLFo6IngiLG06InQiLGw6InIiLGM6InYiLHo6IngifSxxPS8oW2NsbXpdKSw/KFteY2xtel0qKS9naSxyPS8gcHJvZ2lkOlxTK0JsdXJcKFteXCldK1wpL2cscz0vLT9bXixccy1dKy9nLHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxcHg7aGVpZ2h0OjFweDtiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKSIsdT0yMTYwMCx2PXtwYXRoOjEscmVjdDoxLGltYWdlOjF9LHc9e2NpcmNsZToxLGVsbGlwc2U6MX0seD1mdW5jdGlvbihiKXt2YXIgZD0vW2FocXN0dl0vZ2ksZT1hLl9wYXRoVG9BYnNvbHV0ZTtpZihjKGIpLm1hdGNoKGQpJiYoZT1hLl9wYXRoMmN1cnZlKSxkPS9bY2xtel0vZyxlPT1hLl9wYXRoVG9BYnNvbHV0ZSYmIWMoYikubWF0Y2goZCkpe3ZhciBnPWMoYikucmVwbGFjZShxLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPSJtIj09Yi50b0xvd2VyQ2FzZSgpLGc9cFtiXTtyZXR1cm4gYy5yZXBsYWNlKHMsZnVuY3Rpb24oYSl7ZSYmMj09ZC5sZW5ndGgmJihnKz1kK3BbIm0iPT1iPyJsIjoiTCJdLGQ9W10pLGQucHVzaChmKGEqdSkpfSksZytkfSk7cmV0dXJuIGd9dmFyIGgsaSxqPWUoYik7Zz1bXTtmb3IodmFyIGs9MCxsPWoubGVuZ3RoO2w+aztrKyspe2g9altrXSxpPWpba11bMF0udG9Mb3dlckNhc2UoKSwieiI9PWkmJihpPSJ4Iik7Zm9yKHZhciBtPTEscj1oLmxlbmd0aDtyPm07bSsrKWkrPWYoaFttXSp1KSsobSE9ci0xPyIsIjpvKTtnLnB1c2goaSl9cmV0dXJuIGcuam9pbihuKX0seT1mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5tYXRyaXgoKTtyZXR1cm4gZS5yb3RhdGUoLWIsLjUsLjUpLHtkeDplLngoYyxkKSxkeTplLnkoYyxkKX19LHo9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPWEuXyxoPWEubWF0cml4LGs9Zy5maWxscG9zLGw9YS5ub2RlLG09bC5zdHlsZSxvPTEscD0iIixxPXUvYixyPXUvYztpZihtLnZpc2liaWxpdHk9ImhpZGRlbiIsYiYmYyl7aWYobC5jb29yZHNpemU9aShxKStuK2kociksbS5yb3RhdGlvbj1mKigwPmIqYz8tMToxKSxmKXt2YXIgcz15KGYsZCxlKTtkPXMuZHgsZT1zLmR5fWlmKDA+YiYmKHArPSJ4IiksMD5jJiYocCs9IiB5IikmJihvPS0xKSxtLmZsaXA9cCxsLmNvb3Jkb3JpZ2luPWQqLXErbitlKi1yLGt8fGcuZmlsbHNpemUpe3ZhciB0PWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoaik7dD10JiZ0WzBdLGwucmVtb3ZlQ2hpbGQodCksayYmKHM9eShmLGgueChrWzBdLGtbMV0pLGgueShrWzBdLGtbMV0pKSx0LnBvc2l0aW9uPXMuZHgqbytuK3MuZHkqbyksZy5maWxsc2l6ZSYmKHQuc2l6ZT1nLmZpbGxzaXplWzBdKmkoYikrbitnLmZpbGxzaXplWzFdKmkoYykpLGwuYXBwZW5kQ2hpbGQodCl9bS52aXNpYmlsaXR5PSJ2aXNpYmxlIn19O2EudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iWW91ciBicm93c2VyIGRvZXNu4oCZdCBzdXBwb3J0IFNWRy4gRmFsbGluZyBkb3duIHRvIFZNTC5cbllvdSBhcmUgcnVubmluZyBSYXBoYcOrbCAiK3RoaXMudmVyc2lvbn07dmFyIEE9ZnVuY3Rpb24oYSxiLGQpe2Zvcih2YXIgZT1jKGIpLnRvTG93ZXJDYXNlKCkuc3BsaXQoIi0iKSxmPWQ/ImVuZCI6InN0YXJ0IixnPWUubGVuZ3RoLGg9ImNsYXNzaWMiLGk9Im1lZGl1bSIsaj0ibWVkaXVtIjtnLS07KXN3aXRjaChlW2ddKXtjYXNlImJsb2NrIjpjYXNlImNsYXNzaWMiOmNhc2Uib3ZhbCI6Y2FzZSJkaWFtb25kIjpjYXNlIm9wZW4iOmNhc2Uibm9uZSI6aD1lW2ddO2JyZWFrO2Nhc2Uid2lkZSI6Y2FzZSJuYXJyb3ciOmo9ZVtnXTticmVhaztjYXNlImxvbmciOmNhc2Uic2hvcnQiOmk9ZVtnXX12YXIgaz1hLm5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN0cm9rZSIpWzBdO2tbZisiYXJyb3ciXT1oLGtbZisiYXJyb3dsZW5ndGgiXT1pLGtbZisiYXJyb3d3aWR0aCJdPWp9LEI9ZnVuY3Rpb24oZSxpKXtlLmF0dHJzPWUuYXR0cnN8fHt9O3ZhciBsPWUubm9kZSxtPWUuYXR0cnMscD1sLnN0eWxlLHE9dltlLnR5cGVdJiYoaS54IT1tLnh8fGkueSE9bS55fHxpLndpZHRoIT1tLndpZHRofHxpLmhlaWdodCE9bS5oZWlnaHR8fGkuY3ghPW0uY3h8fGkuY3khPW0uY3l8fGkucnghPW0ucnh8fGkucnkhPW0ucnl8fGkuciE9bS5yKSxyPXdbZS50eXBlXSYmKG0uY3ghPWkuY3h8fG0uY3khPWkuY3l8fG0uciE9aS5yfHxtLnJ4IT1pLnJ4fHxtLnJ5IT1pLnJ5KSxzPWU7Zm9yKHZhciB0IGluIGkpaVtiXSh0KSYmKG1bdF09aVt0XSk7aWYocSYmKG0ucGF0aD1hLl9nZXRQYXRoW2UudHlwZV0oZSksZS5fLmRpcnR5PTEpLGkuaHJlZiYmKGwuaHJlZj1pLmhyZWYpLGkudGl0bGUmJihsLnRpdGxlPWkudGl0bGUpLGkudGFyZ2V0JiYobC50YXJnZXQ9aS50YXJnZXQpLGkuY3Vyc29yJiYocC5jdXJzb3I9aS5jdXJzb3IpLCJibHVyImluIGkmJmUuYmx1cihpLmJsdXIpLChpLnBhdGgmJiJwYXRoIj09ZS50eXBlfHxxKSYmKGwucGF0aD14KH5jKG0ucGF0aCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJyIik/YS5fcGF0aFRvQWJzb2x1dGUobS5wYXRoKTptLnBhdGgpLGUuXy5kaXJ0eT0xLCJpbWFnZSI9PWUudHlwZSYmKGUuXy5maWxscG9zPVttLngsbS55XSxlLl8uZmlsbHNpemU9W20ud2lkdGgsbS5oZWlnaHRdLHooZSwxLDEsMCwwLDApKSksInRyYW5zZm9ybSJpbiBpJiZlLnRyYW5zZm9ybShpLnRyYW5zZm9ybSkscil7dmFyIHk9K20uY3gsQj0rbS5jeSxEPSttLnJ4fHwrbS5yfHwwLEU9K20ucnl8fCttLnJ8fDA7bC5wYXRoPWEuZm9ybWF0KCJhcnswfSx7MX0sezJ9LHszfSx7NH0sezF9LHs0fSx7MX14IixmKCh5LUQpKnUpLGYoKEItRSkqdSksZigoeStEKSp1KSxmKChCK0UpKnUpLGYoeSp1KSksZS5fLmRpcnR5PTF9aWYoImNsaXAtcmVjdCJpbiBpKXt2YXIgRz1jKGlbImNsaXAtcmVjdCJdKS5zcGxpdChrKTtpZig0PT1HLmxlbmd0aCl7R1syXT0rR1syXSsgK0dbMF0sR1szXT0rR1szXSsgK0dbMV07dmFyIEg9bC5jbGlwUmVjdHx8YS5fZy5kb2MuY3JlYXRlRWxlbWVudCgiZGl2IiksST1ILnN0eWxlO0kuY2xpcD1hLmZvcm1hdCgicmVjdCh7MX1weCB7Mn1weCB7M31weCB7MH1weCkiLEcpLGwuY2xpcFJlY3R8fChJLnBvc2l0aW9uPSJhYnNvbHV0ZSIsSS50b3A9MCxJLmxlZnQ9MCxJLndpZHRoPWUucGFwZXIud2lkdGgrInB4IixJLmhlaWdodD1lLnBhcGVyLmhlaWdodCsicHgiLGwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoSCxsKSxILmFwcGVuZENoaWxkKGwpLGwuY2xpcFJlY3Q9SCl9aVsiY2xpcC1yZWN0Il18fGwuY2xpcFJlY3QmJihsLmNsaXBSZWN0LnN0eWxlLmNsaXA9ImF1dG8iKX1pZihlLnRleHRwYXRoKXt2YXIgSj1lLnRleHRwYXRoLnN0eWxlO2kuZm9udCYmKEouZm9udD1pLmZvbnQpLGlbImZvbnQtZmFtaWx5Il0mJihKLmZvbnRGYW1pbHk9JyInK2lbImZvbnQtZmFtaWx5Il0uc3BsaXQoIiwiKVswXS5yZXBsYWNlKC9eWyciXSt8WyciXSskL2csbykrJyInKSxpWyJmb250LXNpemUiXSYmKEouZm9udFNpemU9aVsiZm9udC1zaXplIl0pLGlbImZvbnQtd2VpZ2h0Il0mJihKLmZvbnRXZWlnaHQ9aVsiZm9udC13ZWlnaHQiXSksaVsiZm9udC1zdHlsZSJdJiYoSi5mb250U3R5bGU9aVsiZm9udC1zdHlsZSJdKX1pZigiYXJyb3ctc3RhcnQiaW4gaSYmQShzLGlbImFycm93LXN0YXJ0Il0pLCJhcnJvdy1lbmQiaW4gaSYmQShzLGlbImFycm93LWVuZCJdLDEpLG51bGwhPWkub3BhY2l0eXx8bnVsbCE9aVsic3Ryb2tlLXdpZHRoIl18fG51bGwhPWkuZmlsbHx8bnVsbCE9aS5zcmN8fG51bGwhPWkuc3Ryb2tlfHxudWxsIT1pWyJzdHJva2Utd2lkdGgiXXx8bnVsbCE9aVsic3Ryb2tlLW9wYWNpdHkiXXx8bnVsbCE9aVsiZmlsbC1vcGFjaXR5Il18fG51bGwhPWlbInN0cm9rZS1kYXNoYXJyYXkiXXx8bnVsbCE9aVsic3Ryb2tlLW1pdGVybGltaXQiXXx8bnVsbCE9aVsic3Ryb2tlLWxpbmVqb2luIl18fG51bGwhPWlbInN0cm9rZS1saW5lY2FwIl0pe3ZhciBLPWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoaiksTD0hMTtpZihLPUsmJktbMF0sIUsmJihMPUs9RihqKSksImltYWdlIj09ZS50eXBlJiZpLnNyYyYmKEsuc3JjPWkuc3JjKSxpLmZpbGwmJihLLm9uPSEwKSwobnVsbD09Sy5vbnx8Im5vbmUiPT1pLmZpbGx8fG51bGw9PT1pLmZpbGwpJiYoSy5vbj0hMSksSy5vbiYmaS5maWxsKXt2YXIgTT1jKGkuZmlsbCkubWF0Y2goYS5fSVNVUkwpO2lmKE0pe0sucGFyZW50Tm9kZT09bCYmbC5yZW1vdmVDaGlsZChLKSxLLnJvdGF0ZT0hMCxLLnNyYz1NWzFdLEsudHlwZT0idGlsZSI7dmFyIE49ZS5nZXRCQm94KDEpO0sucG9zaXRpb249Ti54K24rTi55LGUuXy5maWxscG9zPVtOLngsTi55XSxhLl9wcmVsb2FkKE1bMV0sZnVuY3Rpb24oKXtlLl8uZmlsbHNpemU9W3RoaXMub2Zmc2V0V2lkdGgsdGhpcy5vZmZzZXRIZWlnaHRdfSl9ZWxzZSBLLmNvbG9yPWEuZ2V0UkdCKGkuZmlsbCkuaGV4LEsuc3JjPW8sSy50eXBlPSJzb2xpZCIsYS5nZXRSR0IoaS5maWxsKS5lcnJvciYmKHMudHlwZSBpbntjaXJjbGU6MSxlbGxpcHNlOjF9fHwiciIhPWMoaS5maWxsKS5jaGFyQXQoKSkmJkMocyxpLmZpbGwsSykmJihtLmZpbGw9Im5vbmUiLG0uZ3JhZGllbnQ9aS5maWxsLEsucm90YXRlPSExKX1pZigiZmlsbC1vcGFjaXR5ImluIGl8fCJvcGFjaXR5ImluIGkpe3ZhciBPPSgoK21bImZpbGwtb3BhY2l0eSJdKzF8fDIpLTEpKigoK20ub3BhY2l0eSsxfHwyKS0xKSooKCthLmdldFJHQihpLmZpbGwpLm8rMXx8MiktMSk7Tz1oKGcoTywwKSwxKSxLLm9wYWNpdHk9TyxLLnNyYyYmKEsuY29sb3I9Im5vbmUiKX1sLmFwcGVuZENoaWxkKEspO3ZhciBQPWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN0cm9rZSIpJiZsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdHJva2UiKVswXSxRPSExOyFQJiYoUT1QPUYoInN0cm9rZSIpKSwoaS5zdHJva2UmJiJub25lIiE9aS5zdHJva2V8fGlbInN0cm9rZS13aWR0aCJdfHxudWxsIT1pWyJzdHJva2Utb3BhY2l0eSJdfHxpWyJzdHJva2UtZGFzaGFycmF5Il18fGlbInN0cm9rZS1taXRlcmxpbWl0Il18fGlbInN0cm9rZS1saW5lam9pbiJdfHxpWyJzdHJva2UtbGluZWNhcCJdKSYmKFAub249ITApLCgibm9uZSI9PWkuc3Ryb2tlfHxudWxsPT09aS5zdHJva2V8fG51bGw9PVAub258fDA9PWkuc3Ryb2tlfHwwPT1pWyJzdHJva2Utd2lkdGgiXSkmJihQLm9uPSExKTt2YXIgUj1hLmdldFJHQihpLnN0cm9rZSk7UC5vbiYmaS5zdHJva2UmJihQLmNvbG9yPVIuaGV4KSxPPSgoK21bInN0cm9rZS1vcGFjaXR5Il0rMXx8MiktMSkqKCgrbS5vcGFjaXR5KzF8fDIpLTEpKigoK1IubysxfHwyKS0xKTt2YXIgUz0uNzUqKGQoaVsic3Ryb2tlLXdpZHRoIl0pfHwxKTtpZihPPWgoZyhPLDApLDEpLG51bGw9PWlbInN0cm9rZS13aWR0aCJdJiYoUz1tWyJzdHJva2Utd2lkdGgiXSksaVsic3Ryb2tlLXdpZHRoIl0mJihQLndlaWdodD1TKSxTJiYxPlMmJihPKj1TKSYmKFAud2VpZ2h0PTEpLFAub3BhY2l0eT1PLGlbInN0cm9rZS1saW5lam9pbiJdJiYoUC5qb2luc3R5bGU9aVsic3Ryb2tlLWxpbmVqb2luIl18fCJtaXRlciIpLFAubWl0ZXJsaW1pdD1pWyJzdHJva2UtbWl0ZXJsaW1pdCJdfHw4LGlbInN0cm9rZS1saW5lY2FwIl0mJihQLmVuZGNhcD0iYnV0dCI9PWlbInN0cm9rZS1saW5lY2FwIl0/ImZsYXQiOiJzcXVhcmUiPT1pWyJzdHJva2UtbGluZWNhcCJdPyJzcXVhcmUiOiJyb3VuZCIpLCJzdHJva2UtZGFzaGFycmF5ImluIGkpe3ZhciBUPXsiLSI6InNob3J0ZGFzaCIsIi4iOiJzaG9ydGRvdCIsIi0uIjoic2hvcnRkYXNoZG90IiwiLS4uIjoic2hvcnRkYXNoZG90ZG90IiwiLiAiOiJkb3QiLCItICI6ImRhc2giLCItLSI6ImxvbmdkYXNoIiwiLSAuIjoiZGFzaGRvdCIsIi0tLiI6ImxvbmdkYXNoZG90IiwiLS0uLiI6ImxvbmdkYXNoZG90ZG90In07UC5kYXNoc3R5bGU9VFtiXShpWyJzdHJva2UtZGFzaGFycmF5Il0pP1RbaVsic3Ryb2tlLWRhc2hhcnJheSJdXTpvfVEmJmwuYXBwZW5kQ2hpbGQoUCl9aWYoInRleHQiPT1zLnR5cGUpe3MucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXk9bzt2YXIgVT1zLnBhcGVyLnNwYW4sVj0xMDAsVz1tLmZvbnQmJm0uZm9udC5tYXRjaCgvXGQrKD86XC5cZCopPyg/PXB4KS8pO3A9VS5zdHlsZSxtLmZvbnQmJihwLmZvbnQ9bS5mb250KSxtWyJmb250LWZhbWlseSJdJiYocC5mb250RmFtaWx5PW1bImZvbnQtZmFtaWx5Il0pLG1bImZvbnQtd2VpZ2h0Il0mJihwLmZvbnRXZWlnaHQ9bVsiZm9udC13ZWlnaHQiXSksbVsiZm9udC1zdHlsZSJdJiYocC5mb250U3R5bGU9bVsiZm9udC1zdHlsZSJdKSxXPWQobVsiZm9udC1zaXplIl18fFcmJldbMF0pfHwxMCxwLmZvbnRTaXplPVcqVisicHgiLHMudGV4dHBhdGguc3RyaW5nJiYoVS5pbm5lckhUTUw9YyhzLnRleHRwYXRoLnN0cmluZykucmVwbGFjZSgvPC9nLCImIzYwOyIpLnJlcGxhY2UoLyYvZywiJiMzODsiKS5yZXBsYWNlKC9cbi9nLCI8YnI+IikpO3ZhciBYPVUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cy5XPW0udz0oWC5yaWdodC1YLmxlZnQpL1Yscy5IPW0uaD0oWC5ib3R0b20tWC50b3ApL1Yscy5YPW0ueCxzLlk9bS55K3MuSC8yLCgieCJpbiBpfHwieSJpbiBpKSYmKHMucGF0aC52PWEuZm9ybWF0KCJtezB9LHsxfWx7Mn0sezF9IixmKG0ueCp1KSxmKG0ueSp1KSxmKG0ueCp1KSsxKSk7Zm9yKHZhciBZPVsieCIsInkiLCJ0ZXh0IiwiZm9udCIsImZvbnQtZmFtaWx5IiwiZm9udC13ZWlnaHQiLCJmb250LXN0eWxlIiwiZm9udC1zaXplIl0sWj0wLCQ9WS5sZW5ndGg7JD5aO1orKylpZihZW1pdaW4gaSl7cy5fLmRpcnR5PTE7YnJlYWt9c3dpdGNoKG1bInRleHQtYW5jaG9yIl0pe2Nhc2Uic3RhcnQiOnMudGV4dHBhdGguc3R5bGVbInYtdGV4dC1hbGlnbiJdPSJsZWZ0IixzLmJieD1zLlcvMjticmVhaztjYXNlImVuZCI6cy50ZXh0cGF0aC5zdHlsZVsidi10ZXh0LWFsaWduIl09InJpZ2h0IixzLmJieD0tcy5XLzI7YnJlYWs7ZGVmYXVsdDpzLnRleHRwYXRoLnN0eWxlWyJ2LXRleHQtYWxpZ24iXT0iY2VudGVyIixzLmJieD0wfXMudGV4dHBhdGguc3R5bGVbInYtdGV4dC1rZXJuIl09ITB9fSxDPWZ1bmN0aW9uKGIsZixnKXtiLmF0dHJzPWIuYXR0cnN8fHt9O3ZhciBoPShiLmF0dHJzLE1hdGgucG93KSxpPSJsaW5lYXIiLGo9Ii41IC41IjtpZihiLmF0dHJzLmdyYWRpZW50PWYsZj1jKGYpLnJlcGxhY2UoYS5fcmFkaWFsX2dyYWRpZW50LGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gaT0icmFkaWFsIixiJiZjJiYoYj1kKGIpLGM9ZChjKSxoKGItLjUsMikraChjLS41LDIpPi4yNSYmKGM9ZS5zcXJ0KC4yNS1oKGItLjUsMikpKigyKihjPi41KS0xKSsuNSksaj1iK24rYyksb30pLGY9Zi5zcGxpdCgvXHMqXC1ccyovKSwibGluZWFyIj09aSl7dmFyIGs9Zi5zaGlmdCgpO2lmKGs9LWQoayksaXNOYU4oaykpcmV0dXJuIG51bGx9dmFyIGw9YS5fcGFyc2VEb3RzKGYpO2lmKCFsKXJldHVybiBudWxsO2lmKGI9Yi5zaGFwZXx8Yi5ub2RlLGwubGVuZ3RoKXtiLnJlbW92ZUNoaWxkKGcpLGcub249ITAsZy5tZXRob2Q9Im5vbmUiLGcuY29sb3I9bFswXS5jb2xvcixnLmNvbG9yMj1sW2wubGVuZ3RoLTFdLmNvbG9yO2Zvcih2YXIgbT1bXSxwPTAscT1sLmxlbmd0aDtxPnA7cCsrKWxbcF0ub2Zmc2V0JiZtLnB1c2gobFtwXS5vZmZzZXQrbitsW3BdLmNvbG9yKTtnLmNvbG9ycz1tLmxlbmd0aD9tLmpvaW4oKToiMCUgIitnLmNvbG9yLCJyYWRpYWwiPT1pPyhnLnR5cGU9ImdyYWRpZW50VGl0bGUiLGcuZm9jdXM9IjEwMCUiLGcuZm9jdXNzaXplPSIwIDAiLGcuZm9jdXNwb3NpdGlvbj1qLGcuYW5nbGU9MCk6KGcudHlwZT0iZ3JhZGllbnQiLGcuYW5nbGU9KDI3MC1rKSUzNjApLGIuYXBwZW5kQ2hpbGQoZyl9cmV0dXJuIDF9LEQ9ZnVuY3Rpb24oYixjKXt0aGlzWzBdPXRoaXMubm9kZT1iLGIucmFwaGFlbD0hMCx0aGlzLmlkPWEuX29pZCsrLGIucmFwaGFlbGlkPXRoaXMuaWQsdGhpcy5YPTAsdGhpcy5ZPTAsdGhpcy5hdHRycz17fSx0aGlzLnBhcGVyPWMsdGhpcy5tYXRyaXg9YS5tYXRyaXgoKSx0aGlzLl89e3RyYW5zZm9ybTpbXSxzeDoxLHN5OjEsZHg6MCxkeTowLGRlZzowLGRpcnR5OjEsZGlydHlUOjF9LCFjLmJvdHRvbSYmKGMuYm90dG9tPXRoaXMpLHRoaXMucHJldj1jLnRvcCxjLnRvcCYmKGMudG9wLm5leHQ9dGhpcyksYy50b3A9dGhpcyx0aGlzLm5leHQ9bnVsbH0sRT1hLmVsO0QucHJvdG90eXBlPUUsRS5jb25zdHJ1Y3Rvcj1ELEUudHJhbnNmb3JtPWZ1bmN0aW9uKGIpe2lmKG51bGw9PWIpcmV0dXJuIHRoaXMuXy50cmFuc2Zvcm07dmFyIGQsZT10aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQsZj1lPyJzIitbZS5zY2FsZSxlLnNjYWxlXSsiLTEtMXQiK1tlLmR4LGUuZHldOm87ZSYmKGQ9Yj1jKGIpLnJlcGxhY2UoL1wuezN9fFx1MjAyNi9nLHRoaXMuXy50cmFuc2Zvcm18fG8pKSxhLl9leHRyYWN0VHJhbnNmb3JtKHRoaXMsZitiKTt2YXIgZyxoPXRoaXMubWF0cml4LmNsb25lKCksaT10aGlzLnNrZXcsaj10aGlzLm5vZGUsaz1+Yyh0aGlzLmF0dHJzLmZpbGwpLmluZGV4T2YoIi0iKSxsPSFjKHRoaXMuYXR0cnMuZmlsbCkuaW5kZXhPZigidXJsKCIpO2lmKGgudHJhbnNsYXRlKDEsMSksbHx8a3x8ImltYWdlIj09dGhpcy50eXBlKWlmKGkubWF0cml4PSIxIDAgMCAxIixpLm9mZnNldD0iMCAwIixnPWguc3BsaXQoKSxrJiZnLm5vUm90YXRpb258fCFnLmlzU2ltcGxlKXtqLnN0eWxlLmZpbHRlcj1oLnRvRmlsdGVyKCk7dmFyIG09dGhpcy5nZXRCQm94KCkscD10aGlzLmdldEJCb3goMSkscT1tLngtcC54LHI9bS55LXAueTtqLmNvb3Jkb3JpZ2luPXEqLXUrbityKi11LHoodGhpcywxLDEscSxyLDApfWVsc2Ugai5zdHlsZS5maWx0ZXI9byx6KHRoaXMsZy5zY2FsZXgsZy5zY2FsZXksZy5keCxnLmR5LGcucm90YXRlKTtlbHNlIGouc3R5bGUuZmlsdGVyPW8saS5tYXRyaXg9YyhoKSxpLm9mZnNldD1oLm9mZnNldCgpO3JldHVybiBudWxsIT09ZCYmKHRoaXMuXy50cmFuc2Zvcm09ZCxhLl9leHRyYWN0VHJhbnNmb3JtKHRoaXMsZCkpLHRoaXN9LEUucm90YXRlPWZ1bmN0aW9uKGEsYixlKXtpZih0aGlzLnJlbW92ZWQpcmV0dXJuIHRoaXM7aWYobnVsbCE9YSl7aWYoYT1jKGEpLnNwbGl0KGspLGEubGVuZ3RoLTEmJihiPWQoYVsxXSksZT1kKGFbMl0pKSxhPWQoYVswXSksbnVsbD09ZSYmKGI9ZSksbnVsbD09Ynx8bnVsbD09ZSl7dmFyIGY9dGhpcy5nZXRCQm94KDEpO2I9Zi54K2Yud2lkdGgvMixlPWYueStmLmhlaWdodC8yfXJldHVybiB0aGlzLl8uZGlydHlUPTEsdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1siciIsYSxiLGVdXSkpLHRoaXN9fSxFLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnJlbW92ZWQ/dGhpczooYT1jKGEpLnNwbGl0KGspLGEubGVuZ3RoLTEmJihiPWQoYVsxXSkpLGE9ZChhWzBdKXx8MCxiPStifHwwLHRoaXMuXy5iYm94JiYodGhpcy5fLmJib3gueCs9YSx0aGlzLl8uYmJveC55Kz1iKSx0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbWyJ0IixhLGJdXSkpLHRoaXMpfSxFLnNjYWxlPWZ1bmN0aW9uKGEsYixlLGYpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gdGhpcztpZihhPWMoYSkuc3BsaXQoayksYS5sZW5ndGgtMSYmKGI9ZChhWzFdKSxlPWQoYVsyXSksZj1kKGFbM10pLGlzTmFOKGUpJiYoZT1udWxsKSxpc05hTihmKSYmKGY9bnVsbCkpLGE9ZChhWzBdKSxudWxsPT1iJiYoYj1hKSxudWxsPT1mJiYoZT1mKSxudWxsPT1lfHxudWxsPT1mKXZhciBnPXRoaXMuZ2V0QkJveCgxKTtyZXR1cm4gZT1udWxsPT1lP2cueCtnLndpZHRoLzI6ZSxmPW51bGw9PWY/Zy55K2cuaGVpZ2h0LzI6Zix0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbWyJzIixhLGIsZSxmXV0pKSx0aGlzLl8uZGlydHlUPTEsdGhpc30sRS5oaWRlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucmVtb3ZlZCYmKHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5PSJub25lIiksdGhpc30sRS5zaG93PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucmVtb3ZlZCYmKHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5PW8pLHRoaXN9LEUuYXV4R2V0QkJveD1hLmVsLmdldEJCb3gsRS5nZXRCQm94PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hdXhHZXRCQm94KCk7aWYodGhpcy5wYXBlciYmdGhpcy5wYXBlci5fdmlld0JveFNoaWZ0KXt2YXIgYj17fSxjPTEvdGhpcy5wYXBlci5fdmlld0JveFNoaWZ0LnNjYWxlO3JldHVybiBiLng9YS54LXRoaXMucGFwZXIuX3ZpZXdCb3hTaGlmdC5keCxiLngqPWMsYi55PWEueS10aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQuZHksYi55Kj1jLGIud2lkdGg9YS53aWR0aCpjLGIuaGVpZ2h0PWEuaGVpZ2h0KmMsYi54Mj1iLngrYi53aWR0aCxiLnkyPWIueStiLmhlaWdodCxifXJldHVybiBhfSxFLl9nZXRCQm94PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlZD97fTp7eDp0aGlzLlgrKHRoaXMuYmJ4fHwwKS10aGlzLlcvMix5OnRoaXMuWS10aGlzLkgsd2lkdGg6dGhpcy5XLGhlaWdodDp0aGlzLkh9fSxFLnJlbW92ZT1mdW5jdGlvbigpe2lmKCF0aGlzLnJlbW92ZWQmJnRoaXMubm9kZS5wYXJlbnROb2RlKXt0aGlzLnBhcGVyLl9fc2V0X18mJnRoaXMucGFwZXIuX19zZXRfXy5leGNsdWRlKHRoaXMpLGEuZXZlLnVuYmluZCgicmFwaGFlbC4qLiouIit0aGlzLmlkKSxhLl90ZWFyKHRoaXMsdGhpcy5wYXBlciksdGhpcy5ub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlKSx0aGlzLnNoYXBlJiZ0aGlzLnNoYXBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zaGFwZSk7Zm9yKHZhciBiIGluIHRoaXMpdGhpc1tiXT0iZnVuY3Rpb24iPT10eXBlb2YgdGhpc1tiXT9hLl9yZW1vdmVkRmFjdG9yeShiKTpudWxsO3RoaXMucmVtb3ZlZD0hMH19LEUuYXR0cj1mdW5jdGlvbihjLGQpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gdGhpcztpZihudWxsPT1jKXt2YXIgZT17fTtmb3IodmFyIGYgaW4gdGhpcy5hdHRycyl0aGlzLmF0dHJzW2JdKGYpJiYoZVtmXT10aGlzLmF0dHJzW2ZdKTtyZXR1cm4gZS5ncmFkaWVudCYmIm5vbmUiPT1lLmZpbGwmJihlLmZpbGw9ZS5ncmFkaWVudCkmJmRlbGV0ZSBlLmdyYWRpZW50LGUudHJhbnNmb3JtPXRoaXMuXy50cmFuc2Zvcm0sZX1pZihudWxsPT1kJiZhLmlzKGMsInN0cmluZyIpKXtpZihjPT1qJiYibm9uZSI9PXRoaXMuYXR0cnMuZmlsbCYmdGhpcy5hdHRycy5ncmFkaWVudClyZXR1cm4gdGhpcy5hdHRycy5ncmFkaWVudDtmb3IodmFyIGc9Yy5zcGxpdChrKSxoPXt9LGk9MCxtPWcubGVuZ3RoO20+aTtpKyspYz1nW2ldLGMgaW4gdGhpcy5hdHRycz9oW2NdPXRoaXMuYXR0cnNbY106YS5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbY10sImZ1bmN0aW9uIik/aFtjXT10aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbY10uZGVmOmhbY109YS5fYXZhaWxhYmxlQXR0cnNbY107cmV0dXJuIG0tMT9oOmhbZ1swXV19aWYodGhpcy5hdHRycyYmbnVsbD09ZCYmYS5pcyhjLCJhcnJheSIpKXtmb3IoaD17fSxpPTAsbT1jLmxlbmd0aDttPmk7aSsrKWhbY1tpXV09dGhpcy5hdHRyKGNbaV0pO3JldHVybiBofXZhciBuO251bGwhPWQmJihuPXt9LG5bY109ZCksbnVsbD09ZCYmYS5pcyhjLCJvYmplY3QiKSYmKG49Yyk7Zm9yKHZhciBvIGluIG4pbCgicmFwaGFlbC5hdHRyLiIrbysiLiIrdGhpcy5pZCx0aGlzLG5bb10pO2lmKG4pe2ZvcihvIGluIHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlcylpZih0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbYl0obykmJm5bYl0obykmJmEuaXModGhpcy5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW29dLCJmdW5jdGlvbiIpKXt2YXIgcD10aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbb10uYXBwbHkodGhpcyxbXS5jb25jYXQobltvXSkpO3RoaXMuYXR0cnNbb109bltvXTtmb3IodmFyIHEgaW4gcClwW2JdKHEpJiYobltxXT1wW3FdKX1uLnRleHQmJiJ0ZXh0Ij09dGhpcy50eXBlJiYodGhpcy50ZXh0cGF0aC5zdHJpbmc9bi50ZXh0KSxCKHRoaXMsbil9cmV0dXJuIHRoaXN9LEUudG9Gcm9udD1mdW5jdGlvbigpe3JldHVybiF0aGlzLnJlbW92ZWQmJnRoaXMubm9kZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMubm9kZSksdGhpcy5wYXBlciYmdGhpcy5wYXBlci50b3AhPXRoaXMmJmEuX3RvZnJvbnQodGhpcyx0aGlzLnBhcGVyKSx0aGlzfSxFLnRvQmFjaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbW92ZWQ/dGhpczoodGhpcy5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9dGhpcy5ub2RlJiYodGhpcy5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZSx0aGlzLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkKSxhLl90b2JhY2sodGhpcyx0aGlzLnBhcGVyKSksdGhpcyl9LEUuaW5zZXJ0QWZ0ZXI9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlZD90aGlzOihiLmNvbnN0cnVjdG9yPT1hLnN0LmNvbnN0cnVjdG9yJiYoYj1iW2IubGVuZ3RoLTFdKSxiLm5vZGUubmV4dFNpYmxpbmc/Yi5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZSxiLm5vZGUubmV4dFNpYmxpbmcpOmIubm9kZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMubm9kZSksYS5faW5zZXJ0YWZ0ZXIodGhpcyxiLHRoaXMucGFwZXIpLHRoaXMpfSxFLmluc2VydEJlZm9yZT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVkP3RoaXM6KGIuY29uc3RydWN0b3I9PWEuc3QuY29uc3RydWN0b3ImJihiPWJbMF0pLGIubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLm5vZGUsYi5ub2RlKSxhLl9pbnNlcnRiZWZvcmUodGhpcyxiLHRoaXMucGFwZXIpLHRoaXMpfSxFLmJsdXI9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5ub2RlLnJ1bnRpbWVTdHlsZSxkPWMuZmlsdGVyO3JldHVybiBkPWQucmVwbGFjZShyLG8pLDAhPT0rYj8odGhpcy5hdHRycy5ibHVyPWIsYy5maWx0ZXI9ZCtuK20rIi5CbHVyKHBpeGVscmFkaXVzPSIrKCtifHwxLjUpKyIpIixjLm1hcmdpbj1hLmZvcm1hdCgiLXswfXB4IDAgMCAtezB9cHgiLGYoK2J8fDEuNSkpKTooYy5maWx0ZXI9ZCxjLm1hcmdpbj0wLGRlbGV0ZSB0aGlzLmF0dHJzLmJsdXIpLHRoaXN9LGEuX2VuZ2luZS5wYXRoPWZ1bmN0aW9uKGEsYil7dmFyIGM9Rigic2hhcGUiKTtjLnN0eWxlLmNzc1RleHQ9dCxjLmNvb3Jkc2l6ZT11K24rdSxjLmNvb3Jkb3JpZ2luPWIuY29vcmRvcmlnaW47dmFyIGQ9bmV3IEQoYyxiKSxlPXtmaWxsOiJub25lIixzdHJva2U6IiMwMDAifTthJiYoZS5wYXRoPWEpLGQudHlwZT0icGF0aCIsZC5wYXRoPVtdLGQuUGF0aD1vLEIoZCxlKSxiLmNhbnZhcy5hcHBlbmRDaGlsZChjKTt2YXIgZj1GKCJza2V3Iik7cmV0dXJuIGYub249ITAsYy5hcHBlbmRDaGlsZChmKSxkLnNrZXc9ZixkLnRyYW5zZm9ybShvKSxkfSxhLl9lbmdpbmUucmVjdD1mdW5jdGlvbihiLGMsZCxlLGYsZyl7dmFyIGg9YS5fcmVjdFBhdGgoYyxkLGUsZixnKSxpPWIucGF0aChoKSxqPWkuYXR0cnM7cmV0dXJuIGkuWD1qLng9YyxpLlk9ai55PWQsaS5XPWoud2lkdGg9ZSxpLkg9ai5oZWlnaHQ9ZixqLnI9ZyxqLnBhdGg9aCxpLnR5cGU9InJlY3QiLGl9LGEuX2VuZ2luZS5lbGxpcHNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7e3ZhciBmPWEucGF0aCgpO2YuYXR0cnN9cmV0dXJuIGYuWD1iLWQsZi5ZPWMtZSxmLlc9MipkLGYuSD0yKmUsZi50eXBlPSJlbGxpcHNlIixCKGYse2N4OmIsY3k6YyxyeDpkLHJ5OmV9KSxmfSxhLl9lbmdpbmUuY2lyY2xlPWZ1bmN0aW9uKGEsYixjLGQpe3t2YXIgZT1hLnBhdGgoKTtlLmF0dHJzfXJldHVybiBlLlg9Yi1kLGUuWT1jLWQsZS5XPWUuSD0yKmQsZS50eXBlPSJjaXJjbGUiLEIoZSx7Y3g6YixjeTpjLHI6ZH0pLGV9LGEuX2VuZ2luZS5pbWFnZT1mdW5jdGlvbihiLGMsZCxlLGYsZyl7dmFyIGg9YS5fcmVjdFBhdGgoZCxlLGYsZyksaT1iLnBhdGgoaCkuYXR0cih7c3Ryb2tlOiJub25lIn0pLGs9aS5hdHRycyxsPWkubm9kZSxtPWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoailbMF07cmV0dXJuIGsuc3JjPWMsaS5YPWsueD1kLGkuWT1rLnk9ZSxpLlc9ay53aWR0aD1mLGkuSD1rLmhlaWdodD1nLGsucGF0aD1oLGkudHlwZT0iaW1hZ2UiLG0ucGFyZW50Tm9kZT09bCYmbC5yZW1vdmVDaGlsZChtKSxtLnJvdGF0ZT0hMCxtLnNyYz1jLG0udHlwZT0idGlsZSIsaS5fLmZpbGxwb3M9W2QsZV0saS5fLmZpbGxzaXplPVtmLGddLGwuYXBwZW5kQ2hpbGQobSkseihpLDEsMSwwLDAsMCksaX0sYS5fZW5naW5lLnRleHQ9ZnVuY3Rpb24oYixkLGUsZyl7dmFyIGg9Rigic2hhcGUiKSxpPUYoInBhdGgiKSxqPUYoInRleHRwYXRoIik7ZD1kfHwwLGU9ZXx8MCxnPWd8fCIiLGkudj1hLmZvcm1hdCgibXswfSx7MX1sezJ9LHsxfSIsZihkKnUpLGYoZSp1KSxmKGQqdSkrMSksaS50ZXh0cGF0aG9rPSEwLGouc3RyaW5nPWMoZyksai5vbj0hMCxoLnN0eWxlLmNzc1RleHQ9dCxoLmNvb3Jkc2l6ZT11K24rdSxoLmNvb3Jkb3JpZ2luPSIwIDAiO3ZhciBrPW5ldyBEKGgsYiksbD17ZmlsbDoiIzAwMCIsc3Ryb2tlOiJub25lIixmb250OmEuX2F2YWlsYWJsZUF0dHJzLmZvbnQsdGV4dDpnfTtrLnNoYXBlPWgsay5wYXRoPWksay50ZXh0cGF0aD1qLGsudHlwZT0idGV4dCIsay5hdHRycy50ZXh0PWMoZyksay5hdHRycy54PWQsay5hdHRycy55PWUsay5hdHRycy53PTEsay5hdHRycy5oPTEsQihrLGwpLGguYXBwZW5kQ2hpbGQoaiksaC5hcHBlbmRDaGlsZChpKSxiLmNhbnZhcy5hcHBlbmRDaGlsZChoKTt2YXIgbT1GKCJza2V3Iik7cmV0dXJuIG0ub249ITAsaC5hcHBlbmRDaGlsZChtKSxrLnNrZXc9bSxrLnRyYW5zZm9ybShvKSxrfSxhLl9lbmdpbmUuc2V0U2l6ZT1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuY2FudmFzLnN0eWxlO3JldHVybiB0aGlzLndpZHRoPWIsdGhpcy5oZWlnaHQ9YyxiPT0rYiYmKGIrPSJweCIpLGM9PStjJiYoYys9InB4IiksZC53aWR0aD1iLGQuaGVpZ2h0PWMsZC5jbGlwPSJyZWN0KDAgIitiKyIgIitjKyIgMCkiLHRoaXMuX3ZpZXdCb3gmJmEuX2VuZ2luZS5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsdGhpcy5fdmlld0JveCksdGhpc30sYS5fZW5naW5lLnNldFZpZXdCb3g9ZnVuY3Rpb24oYixjLGQsZSxmKXthLmV2ZSgicmFwaGFlbC5zZXRWaWV3Qm94Iix0aGlzLHRoaXMuX3ZpZXdCb3gsW2IsYyxkLGUsZl0pO3ZhciBnLGgsaT10aGlzLmdldFNpemUoKSxqPWkud2lkdGgsaz1pLmhlaWdodDtyZXR1cm4gZiYmKGc9ay9lLGg9ai9kLGo+ZCpnJiYoYi09KGotZCpnKS8yL2cpLGs+ZSpoJiYoYy09KGstZSpoKS8yL2gpKSx0aGlzLl92aWV3Qm94PVtiLGMsZCxlLCEhZl0sdGhpcy5fdmlld0JveFNoaWZ0PXtkeDotYixkeTotYyxzY2FsZTppfSx0aGlzLmZvckVhY2goZnVuY3Rpb24oYSl7YS50cmFuc2Zvcm0oIi4uLiIpfSksdGhpc307dmFyIEY7YS5fZW5naW5lLmluaXRXaW49ZnVuY3Rpb24oYSl7dmFyIGI9YS5kb2N1bWVudDtiLnN0eWxlU2hlZXRzLmxlbmd0aDwzMT9iLmNyZWF0ZVN0eWxlU2hlZXQoKS5hZGRSdWxlKCIucnZtbCIsImJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpIik6Yi5zdHlsZVNoZWV0c1swXS5hZGRSdWxlKCIucnZtbCIsImJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpIik7dHJ5eyFiLm5hbWVzcGFjZXMucnZtbCYmYi5uYW1lc3BhY2VzLmFkZCgicnZtbCIsInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIiksRj1mdW5jdGlvbihhKXtyZXR1cm4gYi5jcmVhdGVFbGVtZW50KCI8cnZtbDoiK2ErJyBjbGFzcz0icnZtbCI+Jyl9fWNhdGNoKGMpe0Y9ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY3JlYXRlRWxlbWVudCgiPCIrYSsnIHhtbG5zPSJ1cm46c2NoZW1hcy1taWNyb3NvZnQuY29tOnZtbCIgY2xhc3M9InJ2bWwiPicpfX19LGEuX2VuZ2luZS5pbml0V2luKGEuX2cud2luKSxhLl9lbmdpbmUuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIGI9YS5fZ2V0Q29udGFpbmVyLmFwcGx5KDAsYXJndW1lbnRzKSxjPWIuY29udGFpbmVyLGQ9Yi5oZWlnaHQsZT1iLndpZHRoLGY9Yi54LGc9Yi55O2lmKCFjKXRocm93IG5ldyBFcnJvcigiVk1MIGNvbnRhaW5lciBub3QgZm91bmQuIik7dmFyIGg9bmV3IGEuX1BhcGVyLGk9aC5jYW52YXM9YS5fZy5kb2MuY3JlYXRlRWxlbWVudCgiZGl2Iiksaj1pLnN0eWxlO3JldHVybiBmPWZ8fDAsZz1nfHwwLGU9ZXx8NTEyLGQ9ZHx8MzQyLGgud2lkdGg9ZSxoLmhlaWdodD1kLGU9PStlJiYoZSs9InB4IiksZD09K2QmJihkKz0icHgiKSxoLmNvb3Jkc2l6ZT0xZTMqdStuKzFlMyp1LGguY29vcmRvcmlnaW49IjAgMCIsaC5zcGFuPWEuX2cuZG9jLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxoLnNwYW4uc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OWVtO3RvcDotOTk5OWVtO3BhZGRpbmc6MDttYXJnaW46MDtsaW5lLWhlaWdodDoxOyIsaS5hcHBlbmRDaGlsZChoLnNwYW4pLGouY3NzVGV4dD1hLmZvcm1hdCgidG9wOjA7bGVmdDowO3dpZHRoOnswfTtoZWlnaHQ6ezF9O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO2NsaXA6cmVjdCgwIHswfSB7MX0gMCk7b3ZlcmZsb3c6aGlkZGVuIixlLGQpLDE9PWM/KGEuX2cuZG9jLmJvZHkuYXBwZW5kQ2hpbGQoaSksai5sZWZ0PWYrInB4IixqLnRvcD1nKyJweCIsai5wb3NpdGlvbj0iYWJzb2x1dGUiKTpjLmZpcnN0Q2hpbGQ/Yy5pbnNlcnRCZWZvcmUoaSxjLmZpcnN0Q2hpbGQpOmMuYXBwZW5kQ2hpbGQoaSksaC5yZW5kZXJmaXg9ZnVuY3Rpb24oKXt9LGh9LGEucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7YS5ldmUoInJhcGhhZWwuY2xlYXIiLHRoaXMpLHRoaXMuY2FudmFzLmlubmVySFRNTD1vLHRoaXMuc3Bhbj1hLl9nLmRvYy5jcmVhdGVFbGVtZW50KCJzcGFuIiksdGhpcy5zcGFuLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTllbTt0b3A6LTk5OTllbTtwYWRkaW5nOjA7bWFyZ2luOjA7bGluZS1oZWlnaHQ6MTtkaXNwbGF5OmlubGluZTsiLHRoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuc3BhbiksdGhpcy5ib3R0b209dGhpcy50b3A9bnVsbH0sYS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7YS5ldmUoInJhcGhhZWwucmVtb3ZlIix0aGlzKSx0aGlzLmNhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY2FudmFzKTtmb3IodmFyIGIgaW4gdGhpcyl0aGlzW2JdPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzW2JdP2EuX3JlbW92ZWRGYWN0b3J5KGIpOm51bGw7cmV0dXJuITB9O3ZhciBHPWEuc3Q7Zm9yKHZhciBIIGluIEUpRVtiXShIKSYmIUdbYl0oSCkmJihHW0hdPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWFyZ3VtZW50cztyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2NbYV0uYXBwbHkoYyxiKX0pfX0oSCkpfX0pOw=="></script>
<link href="data:text/css,%0A%2Ehtml%2Dwidget%2Egauge%20%7B%0Aheight%3A%20160px%3B%0A%7D%0A%2Ehtml%2Dwidget%2Egauge%20svg%20%7B%0Aheight%3A%20160px%3B%0Amargin%2Dtop%3A%20%2D10px%3B%0Amargin%2Dbottom%3A%20%2D40px%3B%0A%7D%0A" rel="stylesheet" />
<script src="data:application/javascript;base64,LyoqCiAqIEp1c3RHYWdlIC0gYW5pbWF0ZWQgZ2F1Z2VzIHVzaW5nIFJhcGhhZWxKUwogKiBDaGVjayBodHRwOi8vd3d3Lmp1c3RnYWdlLmNvbSBmb3Igb2ZmaWNpYWwgcmVsZWFzZXMKICogTGljZW5zZWQgdW5kZXIgTUlULgogKiBAYXV0aG9yIEJvamFuIERqdXJpY2ljIChAVG9vcnNoaWEpCiAqKi8KCkp1c3RHYWdlID0gZnVuY3Rpb24oY29uZmlnKSB7CgogIHZhciBvYmogPSB0aGlzOwoKICAvLyBIZWxwcyBpbiBjYXNlIGRldmVsb3BlciB3YW50cyB0byBkZWJ1ZyBpdC4gdW5vYnRydXNpdmUKICBpZiAoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdW5kZWZpbmVkKSB7CiAgICBjb25zb2xlLmxvZygnKiBqdXN0Z2FnZTogTWFrZSBzdXJlIHRvIHBhc3Mgb3B0aW9ucyB0byB0aGUgY29uc3RydWN0b3IhJyk7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICB2YXIgbm9kZTsKCiAgaWYgKGNvbmZpZy5pZCAhPT0gbnVsbCAmJiBjb25maWcuaWQgIT09IHVuZGVmaW5lZCkgewogICAgbm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZy5pZCk7CiAgICBpZiAoIW5vZGUpIHsKICAgICAgY29uc29sZS5sb2coJyoganVzdGdhZ2U6IE5vIGVsZW1lbnQgd2l0aCBpZCA6ICVzIGZvdW5kJywgY29uZmlnLmlkKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0gZWxzZSBpZiAoY29uZmlnLnBhcmVudE5vZGUgIT09IG51bGwgJiYgY29uZmlnLnBhcmVudE5vZGUgIT09IHVuZGVmaW5lZCkgewogICAgbm9kZSA9IGNvbmZpZy5wYXJlbnROb2RlOwogIH0gZWxzZSB7CiAgICBjb25zb2xlLmxvZygnKiBqdXN0Z2FnZTogTWFrZSBzdXJlIHRvIHBhc3MgdGhlIGV4aXN0aW5nIGVsZW1lbnQgaWQgb3IgcGFyZW50Tm9kZSB0byB0aGUgY29uc3RydWN0b3IuJyk7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICB2YXIgZGF0YXNldCA9IG5vZGUuZGF0YXNldCA/IG5vZGUuZGF0YXNldCA6IHt9OwoKICAvLyBjaGVjayBmb3IgZGVmYXVsdHMKICB2YXIgZGVmYXVsdHMgPSAoY29uZmlnLmRlZmF1bHRzICE9PSBudWxsICYmIGNvbmZpZy5kZWZhdWx0cyAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5kZWZhdWx0cyA6IGZhbHNlOwogIGlmIChkZWZhdWx0cyAhPT0gZmFsc2UpIHsKICAgIGNvbmZpZyA9IGV4dGVuZCh7fSwgY29uZmlnLCBkZWZhdWx0cyk7CiAgICBkZWxldGUgY29uZmlnLmRlZmF1bHRzOwogIH0KCiAgLy8gY29uZmlndXJhYmxlIHBhcmFtZXRlcnMKICBvYmouY29uZmlnID0gewogICAgLy8gaWQgOiBzdHJpbmcKICAgIC8vIHRoaXMgaXMgY29udGFpbmVyIGVsZW1lbnQgaWQKICAgIGlkOiBjb25maWcuaWQsCgogICAgLy8gdmFsdWUgOiBmbG9hdAogICAgLy8gdmFsdWUgZ2F1Z2UgaXMgc2hvd2luZwogICAgdmFsdWU6IGt2TG9va3VwKCd2YWx1ZScsIGNvbmZpZywgZGF0YXNldCwgMCwgJ2Zsb2F0JyksCgogICAgLy8gZGVmYXVsdHMgOiBib29sCiAgICAvLyBkZWZhdWx0cyBwYXJhbWV0ZXIgdG8gdXNlCiAgICBkZWZhdWx0czoga3ZMb29rdXAoJ2RlZmF1bHRzJywgY29uZmlnLCBkYXRhc2V0LCAwLCBmYWxzZSksCgogICAgLy8gcGFyZW50Tm9kZSA6IG5vZGUgb2JqZWN0CiAgICAvLyB0aGlzIGlzIGNvbnRhaW5lciBlbGVtZW50CiAgICBwYXJlbnROb2RlOiBrdkxvb2t1cCgncGFyZW50Tm9kZScsIGNvbmZpZywgZGF0YXNldCwgbnVsbCksCgogICAgLy8gd2lkdGggOiBpbnQKICAgIC8vIGdhdWdlIHdpZHRoCiAgICB3aWR0aDoga3ZMb29rdXAoJ3dpZHRoJywgY29uZmlnLCBkYXRhc2V0LCBudWxsKSwKCiAgICAvLyBoZWlnaHQgOiBpbnQKICAgIC8vIGdhdWdlIGhlaWdodAogICAgaGVpZ2h0OiBrdkxvb2t1cCgnaGVpZ2h0JywgY29uZmlnLCBkYXRhc2V0LCBudWxsKSwKCiAgICAvLyB0aXRsZSA6IHN0cmluZwogICAgLy8gZ2F1Z2UgdGl0bGUKICAgIHRpdGxlOiBrdkxvb2t1cCgndGl0bGUnLCBjb25maWcsIGRhdGFzZXQsICIiKSwKCiAgICAvLyB0aXRsZUZvbnRDb2xvciA6IHN0cmluZwogICAgLy8gY29sb3Igb2YgZ2F1Z2UgdGl0bGUKICAgIHRpdGxlRm9udENvbG9yOiBrdkxvb2t1cCgndGl0bGVGb250Q29sb3InLCBjb25maWcsIGRhdGFzZXQsICIjOTk5OTk5IiksCgogICAgLy8gdGl0bGVGb250RmFtaWx5IDogc3RyaW5nCiAgICAvLyBjb2xvciBvZiBnYXVnZSB0aXRsZQogICAgdGl0bGVGb250RmFtaWx5OiBrdkxvb2t1cCgndGl0bGVGb250RmFtaWx5JywgY29uZmlnLCBkYXRhc2V0LCAic2Fucy1zZXJpZiIpLAoKICAgIC8vIHRpdGxlUG9zaXRpb24gOiBzdHJpbmcKICAgIC8vICdhYm92ZScgb3IgJ2JlbG93JwogICAgdGl0bGVQb3NpdGlvbjoga3ZMb29rdXAoJ3RpdGxlUG9zaXRpb24nLCBjb25maWcsIGRhdGFzZXQsICJhYm92ZSIpLAoKICAgIC8vIHZhbHVlRm9udENvbG9yIDogc3RyaW5nCiAgICAvLyBjb2xvciBvZiBsYWJlbCBzaG93aW5nIGN1cnJlbnQgdmFsdWUKICAgIHZhbHVlRm9udENvbG9yOiBrdkxvb2t1cCgndmFsdWVGb250Q29sb3InLCBjb25maWcsIGRhdGFzZXQsICIjMDEwMTAxIiksCgogICAgLy8gdmFsdWVGb250RmFtaWx5IDogc3RyaW5nCiAgICAvLyBjb2xvciBvZiBsYWJlbCBzaG93aW5nIGN1cnJlbnQgdmFsdWUKICAgIHZhbHVlRm9udEZhbWlseToga3ZMb29rdXAoJ3ZhbHVlRm9udEZhbWlseScsIGNvbmZpZywgZGF0YXNldCwgIkFyaWFsIiksCgogICAgLy8gc3ltYm9sIDogc3RyaW5nCiAgICAvLyBzcGVjaWFsIHN5bWJvbCB0byBzaG93IG5leHQgdG8gdmFsdWUKICAgIHN5bWJvbDoga3ZMb29rdXAoJ3N5bWJvbCcsIGNvbmZpZywgZGF0YXNldCwgJycpLAoKICAgIC8vIG1pbiA6IGZsb2F0CiAgICAvLyBtaW4gdmFsdWUKICAgIG1pbjoga3ZMb29rdXAoJ21pbicsIGNvbmZpZywgZGF0YXNldCwgMCwgJ2Zsb2F0JyksCgogICAgLy8gbWluVHh0IDogc3RyaW5nCiAgICAvLyBtaW4gdmFsdWUgdGV4dAogICAgbWluVHh0OiBrdkxvb2t1cCgnbWluVHh0JywgY29uZmlnLCBkYXRhc2V0LCBmYWxzZSksCgogICAgLy8gbWF4IDogZmxvYXQKICAgIC8vIG1heCB2YWx1ZQogICAgbWF4OiBrdkxvb2t1cCgnbWF4JywgY29uZmlnLCBkYXRhc2V0LCAxMDAsICdmbG9hdCcpLAoKICAgIC8vIG1heFR4dCA6IHN0cmluZwogICAgLy8gbWF4IHZhbHVlIHRleHQKICAgIG1heFR4dDoga3ZMb29rdXAoJ21heFR4dCcsIGNvbmZpZywgZGF0YXNldCwgZmFsc2UpLAoKICAgIC8vIHJldmVyc2UgOiBib29sCiAgICAvLyByZXZlcnNlIG1pbiBhbmQgbWF4CiAgICByZXZlcnNlOiBrdkxvb2t1cCgncmV2ZXJzZScsIGNvbmZpZywgZGF0YXNldCwgZmFsc2UpLAoKICAgIC8vIGh1bWFuRnJpZW5kbHlEZWNpbWFsIDogaW50CiAgICAvLyBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgZm9yIG91ciBodW1hbiBmcmllbmRseSBudW1iZXIgdG8gY29udGFpbgogICAgaHVtYW5GcmllbmRseURlY2ltYWw6IGt2TG9va3VwKCdodW1hbkZyaWVuZGx5RGVjaW1hbCcsIGNvbmZpZywgZGF0YXNldCwgMCksCgoKICAgIC8vIHRleHRSZW5kZXJlcjogZnVuYwogICAgLy8gZnVuY3Rpb24gYXBwbGllZCBiZWZvcmUgcmVuZGVyaW5nIHRleHQKICAgIHRleHRSZW5kZXJlcjoga3ZMb29rdXAoJ3RleHRSZW5kZXJlcicsIGNvbmZpZywgZGF0YXNldCwgbnVsbCksCgogICAgLy8gb25BbmltYXRpb25FbmQ6IGZ1bmMKICAgIC8vIGZ1bmN0aW9uIGFwcGxpZWQgYWZ0ZXIgYW5pbWF0aW9uIGlzIGRvbmUKICAgIG9uQW5pbWF0aW9uRW5kOiBrdkxvb2t1cCgnb25BbmltYXRpb25FbmQnLCBjb25maWcsIGRhdGFzZXQsIG51bGwpLAoKICAgIC8vIGdhdWdlV2lkdGhTY2FsZSA6IGZsb2F0CiAgICAvLyB3aWR0aCBvZiB0aGUgZ2F1Z2UgZWxlbWVudAogICAgZ2F1Z2VXaWR0aFNjYWxlOiBrdkxvb2t1cCgnZ2F1Z2VXaWR0aFNjYWxlJywgY29uZmlnLCBkYXRhc2V0LCAxLjApLAoKICAgIC8vIGdhdWdlQ29sb3IgOiBzdHJpbmcKICAgIC8vIGJhY2tncm91bmQgY29sb3Igb2YgZ2F1Z2UgZWxlbWVudAogICAgZ2F1Z2VDb2xvcjoga3ZMb29rdXAoJ2dhdWdlQ29sb3InLCBjb25maWcsIGRhdGFzZXQsICIjZWRlYmViIiksCgogICAgLy8gbGFiZWwgOiBzdHJpbmcKICAgIC8vIHRleHQgdG8gc2hvdyBiZWxvdyB2YWx1ZQogICAgbGFiZWw6IGt2TG9va3VwKCdsYWJlbCcsIGNvbmZpZywgZGF0YXNldCwgJycpLAoKICAgIC8vIGxhYmVsRm9udENvbG9yIDogc3RyaW5nCiAgICAvLyBjb2xvciBvZiBsYWJlbCBzaG93aW5nIGxhYmVsIHVuZGVyIHZhbHVlCiAgICBsYWJlbEZvbnRDb2xvcjoga3ZMb29rdXAoJ2xhYmVsRm9udENvbG9yJywgY29uZmlnLCBkYXRhc2V0LCAiI2IzYjNiMyIpLAoKICAgIC8vIHNoYWRvd09wYWNpdHkgOiBpbnQKICAgIC8vIDAgfiAxCiAgICBzaGFkb3dPcGFjaXR5OiBrdkxvb2t1cCgnc2hhZG93T3BhY2l0eScsIGNvbmZpZywgZGF0YXNldCwgMC4yKSwKCiAgICAvLyBzaGFkb3dTaXplOiBpbnQKICAgIC8vIGlubmVyIHNoYWRvdyBzaXplCiAgICBzaGFkb3dTaXplOiBrdkxvb2t1cCgnc2hhZG93U2l6ZScsIGNvbmZpZywgZGF0YXNldCwgNSksCgogICAgLy8gc2hhZG93VmVydGljYWxPZmZzZXQgOiBpbnQKICAgIC8vIGhvdyBtdWNoIHNoYWRvdyBpcyBvZmZzZXQgZnJvbSB0b3AKICAgIHNoYWRvd1ZlcnRpY2FsT2Zmc2V0OiBrdkxvb2t1cCgnc2hhZG93VmVydGljYWxPZmZzZXQnLCBjb25maWcsIGRhdGFzZXQsIDMpLAoKICAgIC8vIGxldmVsQ29sb3JzIDogc3RyaW5nW10KICAgIC8vIGNvbG9ycyBvZiBpbmRpY2F0b3IsIGZyb20gbG93ZXIgdG8gdXBwZXIsIGluIFJHQiBmb3JtYXQKICAgIGxldmVsQ29sb3JzOiBrdkxvb2t1cCgnbGV2ZWxDb2xvcnMnLCBjb25maWcsIGRhdGFzZXQsIFsiI2E5ZDcwYiIsICIjZjljODAyIiwgIiNmZjAwMDAiXSwgJ2FycmF5JywgJywnKSwKCiAgICAvLyBzdGFydEFuaW1hdGlvblRpbWUgOiBpbnQKICAgIC8vIGxlbmd0aCBvZiBpbml0aWFsIGFuaW1hdGlvbgogICAgc3RhcnRBbmltYXRpb25UaW1lOiBrdkxvb2t1cCgnc3RhcnRBbmltYXRpb25UaW1lJywgY29uZmlnLCBkYXRhc2V0LCA3MDApLAoKICAgIC8vIHN0YXJ0QW5pbWF0aW9uVHlwZSA6IHN0cmluZwogICAgLy8gdHlwZSBvZiBpbml0aWFsIGFuaW1hdGlvbiAobGluZWFyLCA+LCA8LCAgPD4sIGJvdW5jZSkKICAgIHN0YXJ0QW5pbWF0aW9uVHlwZToga3ZMb29rdXAoJ3N0YXJ0QW5pbWF0aW9uVHlwZScsIGNvbmZpZywgZGF0YXNldCwgJz4nKSwKCiAgICAvLyByZWZyZXNoQW5pbWF0aW9uVGltZSA6IGludAogICAgLy8gbGVuZ3RoIG9mIHJlZnJlc2ggYW5pbWF0aW9uCiAgICByZWZyZXNoQW5pbWF0aW9uVGltZToga3ZMb29rdXAoJ3JlZnJlc2hBbmltYXRpb25UaW1lJywgY29uZmlnLCBkYXRhc2V0LCA3MDApLAoKICAgIC8vIHJlZnJlc2hBbmltYXRpb25UeXBlIDogc3RyaW5nCiAgICAvLyB0eXBlIG9mIHJlZnJlc2ggYW5pbWF0aW9uIChsaW5lYXIsID4sIDwsICA8PiwgYm91bmNlKQogICAgcmVmcmVzaEFuaW1hdGlvblR5cGU6IGt2TG9va3VwKCdyZWZyZXNoQW5pbWF0aW9uVHlwZScsIGNvbmZpZywgZGF0YXNldCwgJz4nKSwKCiAgICAvLyBkb251dFN0YXJ0QW5nbGUgOiBpbnQKICAgIC8vIGFuZ2xlIHRvIHN0YXJ0IGZyb20gd2hlbiBpbiBkb251dCBtb2RlCiAgICBkb251dFN0YXJ0QW5nbGU6IGt2TG9va3VwKCdkb251dFN0YXJ0QW5nbGUnLCBjb25maWcsIGRhdGFzZXQsIDkwKSwKCiAgICAvLyB2YWx1ZU1pbkZvbnRTaXplIDogaW50CiAgICAvLyBhYnNvbHV0ZSBtaW5pbXVtIGZvbnQgc2l6ZSBmb3IgdGhlIHZhbHVlCiAgICB2YWx1ZU1pbkZvbnRTaXplOiBrdkxvb2t1cCgndmFsdWVNaW5Gb250U2l6ZScsIGNvbmZpZywgZGF0YXNldCwgMTYpLAoKICAgIC8vIHRpdGxlTWluRm9udFNpemUKICAgIC8vIGFic29sdXRlIG1pbmltdW0gZm9udCBzaXplIGZvciB0aGUgdGl0bGUKICAgIHRpdGxlTWluRm9udFNpemU6IGt2TG9va3VwKCd0aXRsZU1pbkZvbnRTaXplJywgY29uZmlnLCBkYXRhc2V0LCAxMCksCgogICAgLy8gbGFiZWxNaW5Gb250U2l6ZQogICAgLy8gYWJzb2x1dGUgbWluaW11bSBmb250IHNpemUgZm9yIHRoZSBsYWJlbAogICAgbGFiZWxNaW5Gb250U2l6ZToga3ZMb29rdXAoJ2xhYmVsTWluRm9udFNpemUnLCBjb25maWcsIGRhdGFzZXQsIDEwKSwKCiAgICAvLyBtaW5MYWJlbE1pbkZvbnRTaXplCiAgICAvLyBhYnNvbHV0ZSBtaW5pbXVtIGZvbnQgc2l6ZSBmb3IgdGhlIG1pbmltdW0gbGFiZWwKICAgIG1pbkxhYmVsTWluRm9udFNpemU6IGt2TG9va3VwKCdtaW5MYWJlbE1pbkZvbnRTaXplJywgY29uZmlnLCBkYXRhc2V0LCAxMCksCgogICAgLy8gbWF4TGFiZWxNaW5Gb250U2l6ZQogICAgLy8gYWJzb2x1dGUgbWluaW11bSBmb250IHNpemUgZm9yIHRoZSBtYXhpbXVtIGxhYmVsCiAgICBtYXhMYWJlbE1pbkZvbnRTaXplOiBrdkxvb2t1cCgnbWF4TGFiZWxNaW5Gb250U2l6ZScsIGNvbmZpZywgZGF0YXNldCwgMTApLAoKICAgIC8vIGhpZGVWYWx1ZSA6IGJvb2wKICAgIC8vIGhpZGUgdmFsdWUgdGV4dAogICAgaGlkZVZhbHVlOiBrdkxvb2t1cCgnaGlkZVZhbHVlJywgY29uZmlnLCBkYXRhc2V0LCBmYWxzZSksCgogICAgLy8gaGlkZU1pbk1heCA6IGJvb2wKICAgIC8vIGhpZGUgbWluIGFuZCBtYXggdmFsdWVzCiAgICBoaWRlTWluTWF4OiBrdkxvb2t1cCgnaGlkZU1pbk1heCcsIGNvbmZpZywgZGF0YXNldCwgZmFsc2UpLAoKICAgIC8vIGhpZGVJbm5lclNoYWRvdyA6IGJvb2wKICAgIC8vIGhpZGUgaW5uZXIgc2hhZG93CiAgICBoaWRlSW5uZXJTaGFkb3c6IGt2TG9va3VwKCdoaWRlSW5uZXJTaGFkb3cnLCBjb25maWcsIGRhdGFzZXQsIGZhbHNlKSwKCiAgICAvLyBodW1hbkZyaWVuZGx5IDogYm9vbAogICAgLy8gY29udmVydCBsYXJnZSBudW1iZXJzIGZvciBtaW4sIG1heCwgdmFsdWUgdG8gaHVtYW4gZnJpZW5kbHkgKGUuZy4gMTIzNDU2NyAtPiAxLjIzTSkKICAgIGh1bWFuRnJpZW5kbHk6IGt2TG9va3VwKCdodW1hbkZyaWVuZGx5JywgY29uZmlnLCBkYXRhc2V0LCBmYWxzZSksCgogICAgLy8gbm9HcmFkaWVudCA6IGJvb2wKICAgIC8vIHdoZXRoZXIgdG8gdXNlIGdyYWR1YWwgY29sb3IgY2hhbmdlIGZvciB2YWx1ZSwgb3Igc2VjdG9yLWJhc2VkCiAgICBub0dyYWRpZW50OiBrdkxvb2t1cCgnbm9HcmFkaWVudCcsIGNvbmZpZywgZGF0YXNldCwgZmFsc2UpLAoKICAgIC8vIGRvbnV0IDogYm9vbAogICAgLy8gc2hvdyBmdWxsIGRvbnV0IGdhdWdlCiAgICBkb251dDoga3ZMb29rdXAoJ2RvbnV0JywgY29uZmlnLCBkYXRhc2V0LCBmYWxzZSksCgogICAgLy8gcmVsYXRpdmVHYXVnZVNpemUgOiBib29sCiAgICAvLyB3aGV0aGVyIGdhdWdlIHNpemUgc2hvdWxkIGZvbGxvdyBjaGFuZ2VzIGluIGNvbnRhaW5lciBlbGVtZW50IHNpemUKICAgIHJlbGF0aXZlR2F1Z2VTaXplOiBrdkxvb2t1cCgncmVsYXRpdmVHYXVnZVNpemUnLCBjb25maWcsIGRhdGFzZXQsIGZhbHNlKSwKCiAgICAvLyBjb3VudGVyIDogYm9vbAogICAgLy8gYW5pbWF0ZSBsZXZlbCBudW1iZXIgY2hhbmdlCiAgICBjb3VudGVyOiBrdkxvb2t1cCgnY291bnRlcicsIGNvbmZpZywgZGF0YXNldCwgZmFsc2UpLAoKICAgIC8vIGRlY2ltYWxzIDogaW50CiAgICAvLyBudW1iZXIgb2YgZGlnaXRzIGFmdGVyIGZsb2F0aW5nIHBvaW50CiAgICBkZWNpbWFsczoga3ZMb29rdXAoJ2RlY2ltYWxzJywgY29uZmlnLCBkYXRhc2V0LCAwKSwKCiAgICAvLyBjdXN0b21TZWN0b3JzIDogW10gb2Ygb2JqZWN0cwogICAgLy8gbnVtYmVyIG9mIGRpZ2l0cyBhZnRlciBmbG9hdGluZyBwb2ludAogICAgY3VzdG9tU2VjdG9yczoga3ZMb29rdXAoJ2N1c3RvbVNlY3RvcnMnLCBjb25maWcsIGRhdGFzZXQsIFtdKSwKCiAgICAvLyBmb3JtYXROdW1iZXI6IGJvb2xlYW4KICAgIC8vIGZvcm1hdHMgbnVtYmVycyB3aXRoIGNvbW1hcyB3aGVyZSBhcHByb3ByaWF0ZQogICAgZm9ybWF0TnVtYmVyOiBrdkxvb2t1cCgnZm9ybWF0TnVtYmVyJywgY29uZmlnLCBkYXRhc2V0LCBmYWxzZSksCgogICAgLy8gcG9pbnRlciA6IGJvb2wKICAgIC8vIHNob3cgdmFsdWUgcG9pbnRlcgogICAgcG9pbnRlcjoga3ZMb29rdXAoJ3BvaW50ZXInLCBjb25maWcsIGRhdGFzZXQsIGZhbHNlKSwKCiAgICAvLyBwb2ludGVyT3B0aW9ucyA6IG9iamVjdAogICAgLy8gZGVmaW5lIHBvaW50ZXIgbG9vawogICAgcG9pbnRlck9wdGlvbnM6IGt2TG9va3VwKCdwb2ludGVyT3B0aW9ucycsIGNvbmZpZywgZGF0YXNldCwgW10pCiAgfTsKCiAgLy8gdmFyaWFibGVzCiAgdmFyCiAgICBjYW52YXNXLAogICAgY2FudmFzSCwKICAgIHdpZGdldFcsCiAgICB3aWRnZXRILAogICAgYXNwZWN0LAogICAgZHgsCiAgICBkeSwKICAgIHRpdGxlRm9udFNpemUsCiAgICB0aXRsZVgsCiAgICB0aXRsZVksCiAgICB2YWx1ZUZvbnRTaXplLAogICAgdmFsdWVYLAogICAgdmFsdWVZLAogICAgbGFiZWxGb250U2l6ZSwKICAgIGxhYmVsWCwKICAgIGxhYmVsWSwKICAgIG1pbkZvbnRTaXplLAogICAgbWluWCwKICAgIG1pblksCiAgICBtYXhGb250U2l6ZSwKICAgIG1heFgsCiAgICBtYXhZOwoKICAvLyBvdmVyZmxvdyB2YWx1ZXMKICBpZiAob2JqLmNvbmZpZy52YWx1ZSA+IG9iai5jb25maWcubWF4KSBvYmouY29uZmlnLnZhbHVlID0gb2JqLmNvbmZpZy5tYXg7CiAgaWYgKG9iai5jb25maWcudmFsdWUgPCBvYmouY29uZmlnLm1pbikgb2JqLmNvbmZpZy52YWx1ZSA9IG9iai5jb25maWcubWluOwogIG9iai5vcmlnaW5hbFZhbHVlID0ga3ZMb29rdXAoJ3ZhbHVlJywgY29uZmlnLCBkYXRhc2V0LCAtMSwgJ2Zsb2F0Jyk7CgogIC8vIGNyZWF0ZSBjYW52YXMKICBpZiAob2JqLmNvbmZpZy5pZCAhPT0gbnVsbCAmJiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2JqLmNvbmZpZy5pZCkpICE9PSBudWxsKSB7CiAgICBvYmouY2FudmFzID0gUmFwaGFlbChvYmouY29uZmlnLmlkLCAiMTAwJSIsICIxMDAlIik7CiAgfSBlbHNlIGlmIChvYmouY29uZmlnLnBhcmVudE5vZGUgIT09IG51bGwpIHsKICAgIG9iai5jYW52YXMgPSBSYXBoYWVsKG9iai5jb25maWcucGFyZW50Tm9kZSwgIjEwMCUiLCAiMTAwJSIpOwogIH0KCiAgaWYgKG9iai5jb25maWcucmVsYXRpdmVHYXVnZVNpemUgPT09IHRydWUpIHsKICAgIG9iai5jYW52YXMuc2V0Vmlld0JveCgwLCAwLCAyMDAsIDE1MCwgdHJ1ZSk7CiAgfQoKICAvLyBjYW52YXMgZGltZW5zaW9ucwogIGlmIChvYmouY29uZmlnLnJlbGF0aXZlR2F1Z2VTaXplID09PSB0cnVlKSB7CiAgICBjYW52YXNXID0gMjAwOwogICAgY2FudmFzSCA9IDE1MDsKICB9IGVsc2UgaWYgKG9iai5jb25maWcud2lkdGggIT09IG51bGwgJiYgb2JqLmNvbmZpZy5oZWlnaHQgIT09IG51bGwpIHsKICAgIGNhbnZhc1cgPSBvYmouY29uZmlnLndpZHRoOwogICAgY2FudmFzSCA9IG9iai5jb25maWcuaGVpZ2h0OwogIH0gZWxzZSBpZiAob2JqLmNvbmZpZy5wYXJlbnROb2RlICE9PSBudWxsKSB7CiAgICBvYmouY2FudmFzLnNldFZpZXdCb3goMCwgMCwgMjAwLCAxNTAsIHRydWUpOwogICAgY2FudmFzVyA9IDIwMDsKICAgIGNhbnZhc0ggPSAxNTA7CiAgfSBlbHNlIHsKICAgIGNhbnZhc1cgPSBnZXRTdHlsZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvYmouY29uZmlnLmlkKSwgIndpZHRoIikuc2xpY2UoMCwgLTIpICogMTsKICAgIGNhbnZhc0ggPSBnZXRTdHlsZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvYmouY29uZmlnLmlkKSwgImhlaWdodCIpLnNsaWNlKDAsIC0yKSAqIDE7CiAgfQoKICAvLyB3aWRnZXQgZGltZW5zaW9ucwogIGlmIChvYmouY29uZmlnLmRvbnV0ID09PSB0cnVlKSB7CgogICAgLy8gRE9OVVQgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoKICAgIC8vIHdpZHRoIG1vcmUgdGhhbiBoZWlnaHQKICAgIGlmIChjYW52YXNXID4gY2FudmFzSCkgewogICAgICB3aWRnZXRIID0gY2FudmFzSDsKICAgICAgd2lkZ2V0VyA9IHdpZGdldEg7CiAgICAgIC8vIHdpZHRoIGxlc3MgdGhhbiBoZWlnaHQKICAgIH0gZWxzZSBpZiAoY2FudmFzVyA8IGNhbnZhc0gpIHsKICAgICAgd2lkZ2V0VyA9IGNhbnZhc1c7CiAgICAgIHdpZGdldEggPSB3aWRnZXRXOwogICAgICAvLyBpZiBoZWlnaHQgZG9uJ3QgZml0LCByZXNjYWxlIGJvdGgKICAgICAgaWYgKHdpZGdldEggPiBjYW52YXNIKSB7CiAgICAgICAgYXNwZWN0ID0gd2lkZ2V0SCAvIGNhbnZhc0g7CiAgICAgICAgd2lkZ2V0SCA9IHdpZGdldEggLyBhc3BlY3Q7CiAgICAgICAgd2lkZ2V0VyA9IHdpZGdldEggLyBhc3BlY3Q7CiAgICAgIH0KICAgICAgLy8gZXF1YWwKICAgIH0gZWxzZSB7CiAgICAgIHdpZGdldFcgPSBjYW52YXNXOwogICAgICB3aWRnZXRIID0gd2lkZ2V0VzsKICAgIH0KCiAgICAvLyBkZWx0YQogICAgZHggPSAoY2FudmFzVyAtIHdpZGdldFcpIC8gMjsKICAgIGR5ID0gKGNhbnZhc0ggLSB3aWRnZXRIKSAvIDI7CgogICAgLy8gdGl0bGUKICAgIHRpdGxlRm9udFNpemUgPSAoKHdpZGdldEggLyA4KSA+IDEwKSA/ICh3aWRnZXRIIC8gMTApIDogMTA7CiAgICB0aXRsZVggPSBkeCArIHdpZGdldFcgLyAyOwogICAgdGl0bGVZID0gZHkgKyB3aWRnZXRIIC8gMTE7CgogICAgLy8gdmFsdWUKICAgIHZhbHVlRm9udFNpemUgPSAoKHdpZGdldEggLyA2LjQpID4gMTYpID8gKHdpZGdldEggLyA1LjQpIDogMTg7CiAgICB2YWx1ZVggPSBkeCArIHdpZGdldFcgLyAyOwogICAgaWYgKG9iai5jb25maWcubGFiZWwgIT09ICcnKSB7CiAgICAgIHZhbHVlWSA9IGR5ICsgd2lkZ2V0SCAvIDEuODU7CiAgICB9IGVsc2UgewogICAgICB2YWx1ZVkgPSBkeSArIHdpZGdldEggLyAxLjc7CiAgICB9CgogICAgLy8gbGFiZWwKICAgIGxhYmVsRm9udFNpemUgPSAoKHdpZGdldEggLyAxNikgPiAxMCkgPyAod2lkZ2V0SCAvIDE2KSA6IDEwOwogICAgbGFiZWxYID0gZHggKyB3aWRnZXRXIC8gMjsKICAgIGxhYmVsWSA9IHZhbHVlWSArIGxhYmVsRm9udFNpemU7CgogICAgLy8gbWluCiAgICBtaW5Gb250U2l6ZSA9ICgod2lkZ2V0SCAvIDE2KSA+IDEwKSA/ICh3aWRnZXRIIC8gMTYpIDogMTA7CiAgICBtaW5YID0gZHggKyAod2lkZ2V0VyAvIDEwKSArICh3aWRnZXRXIC8gNi42NjY2NjY2NjY2NjY2NjcgKiBvYmouY29uZmlnLmdhdWdlV2lkdGhTY2FsZSkgLyAyOwogICAgbWluWSA9IGxhYmVsWTsKCiAgICAvLyBtYXgKICAgIG1heEZvbnRTaXplID0gKCh3aWRnZXRIIC8gMTYpID4gMTApID8gKHdpZGdldEggLyAxNikgOiAxMDsKICAgIG1heFggPSBkeCArIHdpZGdldFcgLSAod2lkZ2V0VyAvIDEwKSAtICh3aWRnZXRXIC8gNi42NjY2NjY2NjY2NjY2NjcgKiBvYmouY29uZmlnLmdhdWdlV2lkdGhTY2FsZSkgLyAyOwogICAgbWF4WSA9IGxhYmVsWTsKCiAgfSBlbHNlIHsKICAgIC8vIEhBTEYgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoKICAgIC8vIHdpZHRoIG1vcmUgdGhhbiBoZWlnaHQKICAgIGlmIChjYW52YXNXID4gY2FudmFzSCkgewogICAgICB3aWRnZXRIID0gY2FudmFzSDsKICAgICAgd2lkZ2V0VyA9IHdpZGdldEggKiAxLjI1OwogICAgICAvL2lmIHdpZHRoIGRvZXNuJ3QgZml0LCByZXNjYWxlIGJvdGgKICAgICAgaWYgKHdpZGdldFcgPiBjYW52YXNXKSB7CiAgICAgICAgYXNwZWN0ID0gd2lkZ2V0VyAvIGNhbnZhc1c7CiAgICAgICAgd2lkZ2V0VyA9IHdpZGdldFcgLyBhc3BlY3Q7CiAgICAgICAgd2lkZ2V0SCA9IHdpZGdldEggLyBhc3BlY3Q7CiAgICAgIH0KICAgICAgLy8gd2lkdGggbGVzcyB0aGFuIGhlaWdodAogICAgfSBlbHNlIGlmIChjYW52YXNXIDwgY2FudmFzSCkgewogICAgICB3aWRnZXRXID0gY2FudmFzVzsKICAgICAgd2lkZ2V0SCA9IHdpZGdldFcgLyAxLjI1OwogICAgICAvLyBpZiBoZWlnaHQgZG9uJ3QgZml0LCByZXNjYWxlIGJvdGgKICAgICAgaWYgKHdpZGdldEggPiBjYW52YXNIKSB7CiAgICAgICAgYXNwZWN0ID0gd2lkZ2V0SCAvIGNhbnZhc0g7CiAgICAgICAgd2lkZ2V0SCA9IHdpZGdldEggLyBhc3BlY3Q7CiAgICAgICAgd2lkZ2V0VyA9IHdpZGdldEggLyBhc3BlY3Q7CiAgICAgIH0KICAgICAgLy8gZXF1YWwKICAgIH0gZWxzZSB7CiAgICAgIHdpZGdldFcgPSBjYW52YXNXOwogICAgICB3aWRnZXRIID0gd2lkZ2V0VyAqIDAuNzU7CiAgICB9CgogICAgLy8gZGVsdGEKICAgIGR4ID0gKGNhbnZhc1cgLSB3aWRnZXRXKSAvIDI7CiAgICBkeSA9IChjYW52YXNIIC0gd2lkZ2V0SCkgLyAyOwogICAgaWYgKG9iai5jb25maWcudGl0bGVQb3NpdGlvbiA9PT0gJ2JlbG93JykgewogICAgICAvLyBzaGlmdCB3aG9sZSB0aGluZyBkb3duCiAgICAgIGR5IC09ICh3aWRnZXRIIC8gNi40KTsKICAgIH0KCiAgICAvLyB0aXRsZQogICAgdGl0bGVGb250U2l6ZSA9ICgod2lkZ2V0SCAvIDgpID4gb2JqLmNvbmZpZy50aXRsZU1pbkZvbnRTaXplKSA/ICh3aWRnZXRIIC8gMTApIDogb2JqLmNvbmZpZy50aXRsZU1pbkZvbnRTaXplOwogICAgdGl0bGVYID0gZHggKyB3aWRnZXRXIC8gMjsKICAgIHRpdGxlWSA9IGR5ICsgKG9iai5jb25maWcudGl0bGVQb3NpdGlvbiA9PT0gJ2JlbG93JyA/ICh3aWRnZXRIICogMS4wNykgOiAod2lkZ2V0SCAvIDYuNCkpOwoKICAgIC8vIHZhbHVlCiAgICB2YWx1ZUZvbnRTaXplID0gKCh3aWRnZXRIIC8gNi41KSA+IG9iai5jb25maWcudmFsdWVNaW5Gb250U2l6ZSkgPyAod2lkZ2V0SCAvIDYuNSkgOiBvYmouY29uZmlnLnZhbHVlTWluRm9udFNpemU7CiAgICB2YWx1ZVggPSBkeCArIHdpZGdldFcgLyAyOwogICAgdmFsdWVZID0gZHkgKyB3aWRnZXRIIC8gMS4yNzU7CgogICAgLy8gbGFiZWwKICAgIGxhYmVsRm9udFNpemUgPSAoKHdpZGdldEggLyAxNikgPiBvYmouY29uZmlnLmxhYmVsTWluRm9udFNpemUpID8gKHdpZGdldEggLyAxNikgOiBvYmouY29uZmlnLmxhYmVsTWluRm9udFNpemU7CiAgICBsYWJlbFggPSBkeCArIHdpZGdldFcgLyAyOwogICAgbGFiZWxZID0gdmFsdWVZICsgdmFsdWVGb250U2l6ZSAvIDIgKyA1OwoKICAgIC8vIG1pbgogICAgbWluRm9udFNpemUgPSAoKHdpZGdldEggLyAxNikgPiBvYmouY29uZmlnLm1pbkxhYmVsTWluRm9udFNpemUpID8gKHdpZGdldEggLyAxNikgOiBvYmouY29uZmlnLm1pbkxhYmVsTWluRm9udFNpemU7CiAgICBtaW5YID0gZHggKyAod2lkZ2V0VyAvIDEwKSArICh3aWRnZXRXIC8gNi42NjY2NjY2NjY2NjY2NjcgKiBvYmouY29uZmlnLmdhdWdlV2lkdGhTY2FsZSkgLyAyOwogICAgbWluWSA9IGxhYmVsWTsKCiAgICAvLyBtYXgKICAgIG1heEZvbnRTaXplID0gKCh3aWRnZXRIIC8gMTYpID4gb2JqLmNvbmZpZy5tYXhMYWJlbE1pbkZvbnRTaXplKSA/ICh3aWRnZXRIIC8gMTYpIDogb2JqLmNvbmZpZy5tYXhMYWJlbE1pbkZvbnRTaXplOwogICAgbWF4WCA9IGR4ICsgd2lkZ2V0VyAtICh3aWRnZXRXIC8gMTApIC0gKHdpZGdldFcgLyA2LjY2NjY2NjY2NjY2NjY2NyAqIG9iai5jb25maWcuZ2F1Z2VXaWR0aFNjYWxlKSAvIDI7CiAgICBtYXhZID0gbGFiZWxZOwogIH0KCiAgLy8gcGFyYW1ldGVycwogIG9iai5wYXJhbXMgPSB7CiAgICBjYW52YXNXOiBjYW52YXNXLAogICAgY2FudmFzSDogY2FudmFzSCwKICAgIHdpZGdldFc6IHdpZGdldFcsCiAgICB3aWRnZXRIOiB3aWRnZXRILAogICAgZHg6IGR4LAogICAgZHk6IGR5LAogICAgdGl0bGVGb250U2l6ZTogdGl0bGVGb250U2l6ZSwKICAgIHRpdGxlWDogdGl0bGVYLAogICAgdGl0bGVZOiB0aXRsZVksCiAgICB2YWx1ZUZvbnRTaXplOiB2YWx1ZUZvbnRTaXplLAogICAgdmFsdWVYOiB2YWx1ZVgsCiAgICB2YWx1ZVk6IHZhbHVlWSwKICAgIGxhYmVsRm9udFNpemU6IGxhYmVsRm9udFNpemUsCiAgICBsYWJlbFg6IGxhYmVsWCwKICAgIGxhYmVsWTogbGFiZWxZLAogICAgbWluRm9udFNpemU6IG1pbkZvbnRTaXplLAogICAgbWluWDogbWluWCwKICAgIG1pblk6IG1pblksCiAgICBtYXhGb250U2l6ZTogbWF4Rm9udFNpemUsCiAgICBtYXhYOiBtYXhYLAogICAgbWF4WTogbWF4WQogIH07CgogIC8vIHZhciBjbGVhcgogIGNhbnZhc1csIGNhbnZhc0gsIHdpZGdldFcsIHdpZGdldEgsIGFzcGVjdCwgZHgsIGR5LCB0aXRsZUZvbnRTaXplLCB0aXRsZVgsIHRpdGxlWSwgdmFsdWVGb250U2l6ZSwgdmFsdWVYLCB2YWx1ZVksIGxhYmVsRm9udFNpemUsIGxhYmVsWCwgbGFiZWxZLCBtaW5Gb250U2l6ZSwgbWluWCwgbWluWSwgbWF4Rm9udFNpemUsIG1heFgsIG1heFkgPSBudWxsOwoKICAvLyBwa2kgLSBjdXN0b20gYXR0cmlidXRlIGZvciBnZW5lcmF0aW5nIGdhdWdlIHBhdGhzCiAgb2JqLmNhbnZhcy5jdXN0b21BdHRyaWJ1dGVzLnBraSA9IGZ1bmN0aW9uKHZhbHVlLCBtaW4sIG1heCwgdywgaCwgZHgsIGR5LCBnd3MsIGRvbnV0LCByZXZlcnNlKSB7CgogICAgdmFyIGFscGhhLCBSbywgUmksIEN4LCBDeSwgWG8sIFlvLCBYaSwgWWksIHBhdGg7CgogICAgaWYgKGRvbnV0KSB7CiAgICAgIGFscGhhID0gKDEgLSAyICogKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pKSAqIE1hdGguUEk7CiAgICAgIFJvID0gdyAvIDIgLSB3IC8gNzsKICAgICAgUmkgPSBSbyAtIHcgLyA2LjY2NjY2NjY2NjY2NjY2NyAqIGd3czsKCiAgICAgIEN4ID0gdyAvIDIgKyBkeDsKICAgICAgQ3kgPSBoIC8gMS45NSArIGR5OwoKICAgICAgWG8gPSB3IC8gMiArIGR4ICsgUm8gKiBNYXRoLmNvcyhhbHBoYSk7CiAgICAgIFlvID0gaCAtIChoIC0gQ3kpIC0gUm8gKiBNYXRoLnNpbihhbHBoYSk7CiAgICAgIFhpID0gdyAvIDIgKyBkeCArIFJpICogTWF0aC5jb3MoYWxwaGEpOwogICAgICBZaSA9IGggLSAoaCAtIEN5KSAtIFJpICogTWF0aC5zaW4oYWxwaGEpOwoKICAgICAgcGF0aCA9ICJNIiArIChDeCAtIFJpKSArICIsIiArIEN5ICsgIiAiOwogICAgICBwYXRoICs9ICJMIiArIChDeCAtIFJvKSArICIsIiArIEN5ICsgIiAiOwogICAgICBpZiAodmFsdWUgPiAoKG1heCAtIG1pbikgLyAyKSkgewogICAgICAgIHBhdGggKz0gIkEiICsgUm8gKyAiLCIgKyBSbyArICIgMCAwIDEgIiArIChDeCArIFJvKSArICIsIiArIEN5ICsgIiAiOwogICAgICB9CiAgICAgIHBhdGggKz0gIkEiICsgUm8gKyAiLCIgKyBSbyArICIgMCAwIDEgIiArIFhvICsgIiwiICsgWW8gKyAiICI7CiAgICAgIHBhdGggKz0gIkwiICsgWGkgKyAiLCIgKyBZaSArICIgIjsKICAgICAgaWYgKHZhbHVlID4gKChtYXggLSBtaW4pIC8gMikpIHsKICAgICAgICBwYXRoICs9ICJBIiArIFJpICsgIiwiICsgUmkgKyAiIDAgMCAwICIgKyAoQ3ggKyBSaSkgKyAiLCIgKyBDeSArICIgIjsKICAgICAgfQogICAgICBwYXRoICs9ICJBIiArIFJpICsgIiwiICsgUmkgKyAiIDAgMCAwICIgKyAoQ3ggLSBSaSkgKyAiLCIgKyBDeSArICIgIjsKICAgICAgcGF0aCArPSAiWiAiOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBwYXRoOiBwYXRoCiAgICAgIH07CgogICAgfSBlbHNlIHsKICAgICAgYWxwaGEgPSAoMSAtICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKSkgKiBNYXRoLlBJOwogICAgICBSbyA9IHcgLyAyIC0gdyAvIDEwOwogICAgICBSaSA9IFJvIC0gdyAvIDYuNjY2NjY2NjY2NjY2NjY3ICogZ3dzOwoKICAgICAgQ3ggPSB3IC8gMiArIGR4OwogICAgICBDeSA9IGggLyAxLjI1ICsgZHk7CgogICAgICBYbyA9IHcgLyAyICsgZHggKyBSbyAqIE1hdGguY29zKGFscGhhKTsKICAgICAgWW8gPSBoIC0gKGggLSBDeSkgLSBSbyAqIE1hdGguc2luKGFscGhhKTsKICAgICAgWGkgPSB3IC8gMiArIGR4ICsgUmkgKiBNYXRoLmNvcyhhbHBoYSk7CiAgICAgIFlpID0gaCAtIChoIC0gQ3kpIC0gUmkgKiBNYXRoLnNpbihhbHBoYSk7CgogICAgICBwYXRoID0gIk0iICsgKEN4IC0gUmkpICsgIiwiICsgQ3kgKyAiICI7CiAgICAgIHBhdGggKz0gIkwiICsgKEN4IC0gUm8pICsgIiwiICsgQ3kgKyAiICI7CiAgICAgIHBhdGggKz0gIkEiICsgUm8gKyAiLCIgKyBSbyArICIgMCAwIDEgIiArIFhvICsgIiwiICsgWW8gKyAiICI7CiAgICAgIHBhdGggKz0gIkwiICsgWGkgKyAiLCIgKyBZaSArICIgIjsKICAgICAgcGF0aCArPSAiQSIgKyBSaSArICIsIiArIFJpICsgIiAwIDAgMCAiICsgKEN4IC0gUmkpICsgIiwiICsgQ3kgKyAiICI7CiAgICAgIHBhdGggKz0gIlogIjsKCiAgICAgIHJldHVybiB7CiAgICAgICAgcGF0aDogcGF0aAogICAgICB9OwogICAgfQoKICAgIC8vIHZhciBjbGVhcgogICAgYWxwaGEsIFJvLCBSaSwgQ3gsIEN5LCBYbywgWW8sIFhpLCBZaSwgcGF0aCA9IG51bGw7CiAgfTsKCiAgLy8gbmRsIC0gY3VzdG9tIGF0dHJpYnV0ZSBmb3IgZ2VuZXJhdGluZyBuZWVkbGUgcGF0aAogIG9iai5jYW52YXMuY3VzdG9tQXR0cmlidXRlcy5uZGwgPSBmdW5jdGlvbih2YWx1ZSwgbWluLCBtYXgsIHcsIGgsIGR4LCBkeSwgZ3dzLCBkb251dCkgewoKICAgIHZhciBkbHQgPSB3ICogMy41IC8gMTAwOwogICAgdmFyIGRsYiA9IHcgLyAxNTsKICAgIHZhciBkdyA9IHcgLyAxMDA7CgogICAgaWYgKG9iai5jb25maWcucG9pbnRlck9wdGlvbnMudG9wbGVuZ3RoICE9IG51bGwgJiYgb2JqLmNvbmZpZy5wb2ludGVyT3B0aW9ucy50b3BsZW5ndGggIT0gdW5kZWZpbmVkKSBkbHQgPSBvYmouY29uZmlnLnBvaW50ZXJPcHRpb25zLnRvcGxlbmd0aDsKICAgIGlmIChvYmouY29uZmlnLnBvaW50ZXJPcHRpb25zLmJvdHRvbWxlbmd0aCAhPSBudWxsICYmIG9iai5jb25maWcucG9pbnRlck9wdGlvbnMuYm90dG9tbGVuZ3RoICE9IHVuZGVmaW5lZCkgZGxiID0gb2JqLmNvbmZpZy5wb2ludGVyT3B0aW9ucy5ib3R0b21sZW5ndGg7CiAgICBpZiAob2JqLmNvbmZpZy5wb2ludGVyT3B0aW9ucy5ib3R0b213aWR0aCAhPSBudWxsICYmIG9iai5jb25maWcucG9pbnRlck9wdGlvbnMuYm90dG9td2lkdGggIT0gdW5kZWZpbmVkKSBkdyA9IG9iai5jb25maWcucG9pbnRlck9wdGlvbnMuYm90dG9td2lkdGg7CgogICAgdmFyIGFscGhhLCBSbywgUmksIEN4LCBDeSwgWG8sIFlvLCBYaSwgWWksIFhjLCBZYywgWHosIFl6LCBYYSwgWWEsIFhiLCBZYiwgcGF0aDsKCiAgICBpZiAoZG9udXQpIHsKCiAgICAgIGFscGhhID0gKDEgLSAyICogKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pKSAqIE1hdGguUEk7CiAgICAgIFJvID0gdyAvIDIgLSB3IC8gNzsKICAgICAgUmkgPSBSbyAtIHcgLyA2LjY2NjY2NjY2NjY2NjY2NyAqIGd3czsKCiAgICAgIEN4ID0gdyAvIDIgKyBkeDsKICAgICAgQ3kgPSBoIC8gMS45NSArIGR5OwoKICAgICAgWG8gPSB3IC8gMiArIGR4ICsgUm8gKiBNYXRoLmNvcyhhbHBoYSk7CiAgICAgIFlvID0gaCAtIChoIC0gQ3kpIC0gUm8gKiBNYXRoLnNpbihhbHBoYSk7CiAgICAgIFhpID0gdyAvIDIgKyBkeCArIFJpICogTWF0aC5jb3MoYWxwaGEpOwogICAgICBZaSA9IGggLSAoaCAtIEN5KSAtIFJpICogTWF0aC5zaW4oYWxwaGEpOwoKICAgICAgWGMgPSBYbyArIGRsdCAqIE1hdGguY29zKGFscGhhKTsKICAgICAgWWMgPSBZbyAtIGRsdCAqIE1hdGguc2luKGFscGhhKTsKICAgICAgWHogPSBYaSAtIGRsYiAqIE1hdGguY29zKGFscGhhKTsKICAgICAgWXogPSBZaSArIGRsYiAqIE1hdGguc2luKGFscGhhKTsKCiAgICAgIFhhID0gWHogKyBkdyAqIE1hdGguc2luKGFscGhhKTsKICAgICAgWWEgPSBZeiArIGR3ICogTWF0aC5jb3MoYWxwaGEpOwogICAgICBYYiA9IFh6IC0gZHcgKiBNYXRoLnNpbihhbHBoYSk7CiAgICAgIFliID0gWXogLSBkdyAqIE1hdGguY29zKGFscGhhKTsKCiAgICAgIHBhdGggPSAnTScgKyBYYSArICcsJyArIFlhICsgJyAnOwogICAgICBwYXRoICs9ICdMJyArIFhiICsgJywnICsgWWIgKyAnICc7CiAgICAgIHBhdGggKz0gJ0wnICsgWGMgKyAnLCcgKyBZYyArICcgJzsKICAgICAgcGF0aCArPSAnWiAnOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBwYXRoOiBwYXRoCiAgICAgIH07CgogICAgfSBlbHNlIHsKICAgICAgYWxwaGEgPSAoMSAtICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKSkgKiBNYXRoLlBJOwogICAgICBSbyA9IHcgLyAyIC0gdyAvIDEwOwogICAgICBSaSA9IFJvIC0gdyAvIDYuNjY2NjY2NjY2NjY2NjY3ICogZ3dzOwoKICAgICAgQ3ggPSB3IC8gMiArIGR4OwogICAgICBDeSA9IGggLyAxLjI1ICsgZHk7CgogICAgICBYbyA9IHcgLyAyICsgZHggKyBSbyAqIE1hdGguY29zKGFscGhhKTsKICAgICAgWW8gPSBoIC0gKGggLSBDeSkgLSBSbyAqIE1hdGguc2luKGFscGhhKTsKICAgICAgWGkgPSB3IC8gMiArIGR4ICsgUmkgKiBNYXRoLmNvcyhhbHBoYSk7CiAgICAgIFlpID0gaCAtIChoIC0gQ3kpIC0gUmkgKiBNYXRoLnNpbihhbHBoYSk7CgogICAgICBYYyA9IFhvICsgZGx0ICogTWF0aC5jb3MoYWxwaGEpOwogICAgICBZYyA9IFlvIC0gZGx0ICogTWF0aC5zaW4oYWxwaGEpOwogICAgICBYeiA9IFhpIC0gZGxiICogTWF0aC5jb3MoYWxwaGEpOwogICAgICBZeiA9IFlpICsgZGxiICogTWF0aC5zaW4oYWxwaGEpOwoKICAgICAgWGEgPSBYeiArIGR3ICogTWF0aC5zaW4oYWxwaGEpOwogICAgICBZYSA9IFl6ICsgZHcgKiBNYXRoLmNvcyhhbHBoYSk7CiAgICAgIFhiID0gWHogLSBkdyAqIE1hdGguc2luKGFscGhhKTsKICAgICAgWWIgPSBZeiAtIGR3ICogTWF0aC5jb3MoYWxwaGEpOwoKICAgICAgcGF0aCA9ICdNJyArIFhhICsgJywnICsgWWEgKyAnICc7CiAgICAgIHBhdGggKz0gJ0wnICsgWGIgKyAnLCcgKyBZYiArICcgJzsKICAgICAgcGF0aCArPSAnTCcgKyBYYyArICcsJyArIFljICsgJyAnOwogICAgICBwYXRoICs9ICdaICc7CgogICAgICByZXR1cm4gewogICAgICAgIHBhdGg6IHBhdGgKICAgICAgfTsKICAgIH0KCiAgICAvLyB2YXIgY2xlYXIKICAgIGFscGhhLCBSbywgUmksIEN4LCBDeSwgWG8sIFlvLCBYaSwgWWksIFhjLCBZYywgWHosIFl6LCBYYSwgWWEsIFhiLCBZYiwgcGF0aCA9IG51bGw7CiAgfTsKCiAgLy8gZ2F1Z2UKICBvYmouZ2F1Z2UgPSBvYmouY2FudmFzLnBhdGgoKS5hdHRyKHsKICAgICJzdHJva2UiOiAibm9uZSIsCiAgICAiZmlsbCI6IG9iai5jb25maWcuZ2F1Z2VDb2xvciwKICAgIHBraTogWwogICAgICBvYmouY29uZmlnLm1heCwKICAgICAgb2JqLmNvbmZpZy5taW4sCiAgICAgIG9iai5jb25maWcubWF4LAogICAgICBvYmoucGFyYW1zLndpZGdldFcsCiAgICAgIG9iai5wYXJhbXMud2lkZ2V0SCwKICAgICAgb2JqLnBhcmFtcy5keCwKICAgICAgb2JqLnBhcmFtcy5keSwKICAgICAgb2JqLmNvbmZpZy5nYXVnZVdpZHRoU2NhbGUsCiAgICAgIG9iai5jb25maWcuZG9udXQsCiAgICAgIG9iai5jb25maWcucmV2ZXJzZQogICAgXQogIH0pOwoKICAvLyBsZXZlbAogIG9iai5sZXZlbCA9IG9iai5jYW52YXMucGF0aCgpLmF0dHIoewogICAgInN0cm9rZSI6ICJub25lIiwKICAgICJmaWxsIjogZ2V0Q29sb3Iob2JqLmNvbmZpZy52YWx1ZSwgKG9iai5jb25maWcudmFsdWUgLSBvYmouY29uZmlnLm1pbikgLyAob2JqLmNvbmZpZy5tYXggLSBvYmouY29uZmlnLm1pbiksIG9iai5jb25maWcubGV2ZWxDb2xvcnMsIG9iai5jb25maWcubm9HcmFkaWVudCwgb2JqLmNvbmZpZy5jdXN0b21TZWN0b3JzKSwKICAgIHBraTogWwogICAgICBvYmouY29uZmlnLm1pbiwKICAgICAgb2JqLmNvbmZpZy5taW4sCiAgICAgIG9iai5jb25maWcubWF4LAogICAgICBvYmoucGFyYW1zLndpZGdldFcsCiAgICAgIG9iai5wYXJhbXMud2lkZ2V0SCwKICAgICAgb2JqLnBhcmFtcy5keCwKICAgICAgb2JqLnBhcmFtcy5keSwKICAgICAgb2JqLmNvbmZpZy5nYXVnZVdpZHRoU2NhbGUsCiAgICAgIG9iai5jb25maWcuZG9udXQsCiAgICAgIG9iai5jb25maWcucmV2ZXJzZQogICAgXQogIH0pOwogIGlmIChvYmouY29uZmlnLmRvbnV0KSB7CiAgICBvYmoubGV2ZWwudHJhbnNmb3JtKCJyIiArIG9iai5jb25maWcuZG9udXRTdGFydEFuZ2xlICsgIiwgIiArIChvYmoucGFyYW1zLndpZGdldFcgLyAyICsgb2JqLnBhcmFtcy5keCkgKyAiLCAiICsgKG9iai5wYXJhbXMud2lkZ2V0SCAvIDEuOTUgKyBvYmoucGFyYW1zLmR5KSk7CiAgfQoKICBpZiAob2JqLmNvbmZpZy5wb2ludGVyKSB7CiAgICAvLyBuZWVkbGUKICAgIG9iai5uZWVkbGUgPSBvYmouY2FudmFzLnBhdGgoKS5hdHRyKHsKICAgICAgInN0cm9rZSI6IChvYmouY29uZmlnLnBvaW50ZXJPcHRpb25zLnN0cm9rZSAhPT0gbnVsbCAmJiBvYmouY29uZmlnLnBvaW50ZXJPcHRpb25zLnN0cm9rZSAhPT0gdW5kZWZpbmVkKSA/IG9iai5jb25maWcucG9pbnRlck9wdGlvbnMuc3Ryb2tlIDogIm5vbmUiLAogICAgICAic3Ryb2tlLXdpZHRoIjogKG9iai5jb25maWcucG9pbnRlck9wdGlvbnMuc3Ryb2tlX3dpZHRoICE9PSBudWxsICYmIG9iai5jb25maWcucG9pbnRlck9wdGlvbnMuc3Ryb2tlX3dpZHRoICE9PSB1bmRlZmluZWQpID8gb2JqLmNvbmZpZy5wb2ludGVyT3B0aW9ucy5zdHJva2Vfd2lkdGggOiAwLAogICAgICAic3Ryb2tlLWxpbmVjYXAiOiAob2JqLmNvbmZpZy5wb2ludGVyT3B0aW9ucy5zdHJva2VfbGluZWNhcCAhPT0gbnVsbCAmJiBvYmouY29uZmlnLnBvaW50ZXJPcHRpb25zLnN0cm9rZV9saW5lY2FwICE9PSB1bmRlZmluZWQpID8gb2JqLmNvbmZpZy5wb2ludGVyT3B0aW9ucy5zdHJva2VfbGluZWNhcCA6ICJzcXVhcmUiLAogICAgICAiZmlsbCI6IChvYmouY29uZmlnLnBvaW50ZXJPcHRpb25zLmNvbG9yICE9PSBudWxsICYmIG9iai5jb25maWcucG9pbnRlck9wdGlvbnMuY29sb3IgIT09IHVuZGVmaW5lZCkgPyBvYmouY29uZmlnLnBvaW50ZXJPcHRpb25zLmNvbG9yIDogIiMwMDAwMDAiLAogICAgICBuZGw6IFsKICAgICAgICBvYmouY29uZmlnLm1pbiwKICAgICAgICBvYmouY29uZmlnLm1pbiwKICAgICAgICBvYmouY29uZmlnLm1heCwKICAgICAgICBvYmoucGFyYW1zLndpZGdldFcsCiAgICAgICAgb2JqLnBhcmFtcy53aWRnZXRILAogICAgICAgIG9iai5wYXJhbXMuZHgsCiAgICAgICAgb2JqLnBhcmFtcy5keSwKICAgICAgICBvYmouY29uZmlnLmdhdWdlV2lkdGhTY2FsZSwKICAgICAgICBvYmouY29uZmlnLmRvbnV0CiAgICAgIF0KICAgIH0pOwoKICAgIGlmIChvYmouY29uZmlnLmRvbnV0KSB7CiAgICAgIG9iai5uZWVkbGUudHJhbnNmb3JtKCJyIiArIG9iai5jb25maWcuZG9udXRTdGFydEFuZ2xlICsgIiwgIiArIChvYmoucGFyYW1zLndpZGdldFcgLyAyICsgb2JqLnBhcmFtcy5keCkgKyAiLCAiICsgKG9iai5wYXJhbXMud2lkZ2V0SCAvIDEuOTUgKyBvYmoucGFyYW1zLmR5KSk7CiAgICB9CgogIH0KCiAgLy8gdGl0bGUKICBvYmoudHh0VGl0bGUgPSBvYmouY2FudmFzLnRleHQob2JqLnBhcmFtcy50aXRsZVgsIG9iai5wYXJhbXMudGl0bGVZLCBvYmouY29uZmlnLnRpdGxlKTsKICBvYmoudHh0VGl0bGUuYXR0cih7CiAgICAiZm9udC1zaXplIjogb2JqLnBhcmFtcy50aXRsZUZvbnRTaXplLAogICAgImZvbnQtd2VpZ2h0IjogImJvbGQiLAogICAgImZvbnQtZmFtaWx5Ijogb2JqLmNvbmZpZy50aXRsZUZvbnRGYW1pbHksCiAgICAiZmlsbCI6IG9iai5jb25maWcudGl0bGVGb250Q29sb3IsCiAgICAiZmlsbC1vcGFjaXR5IjogIjEiCiAgfSk7CiAgc2V0RHkob2JqLnR4dFRpdGxlLCBvYmoucGFyYW1zLnRpdGxlRm9udFNpemUsIG9iai5wYXJhbXMudGl0bGVZKTsKCiAgLy8gdmFsdWUKICBvYmoudHh0VmFsdWUgPSBvYmouY2FudmFzLnRleHQob2JqLnBhcmFtcy52YWx1ZVgsIG9iai5wYXJhbXMudmFsdWVZLCAwKTsKICBvYmoudHh0VmFsdWUuYXR0cih7CiAgICAiZm9udC1zaXplIjogb2JqLnBhcmFtcy52YWx1ZUZvbnRTaXplLAogICAgImZvbnQtd2VpZ2h0IjogImJvbGQiLAogICAgImZvbnQtZmFtaWx5Ijogb2JqLmNvbmZpZy52YWx1ZUZvbnRGYW1pbHksCiAgICAiZmlsbCI6IG9iai5jb25maWcudmFsdWVGb250Q29sb3IsCiAgICAiZmlsbC1vcGFjaXR5IjogIjAiCiAgfSk7CiAgc2V0RHkob2JqLnR4dFZhbHVlLCBvYmoucGFyYW1zLnZhbHVlRm9udFNpemUsIG9iai5wYXJhbXMudmFsdWVZKTsKCiAgLy8gbGFiZWwKICBvYmoudHh0TGFiZWwgPSBvYmouY2FudmFzLnRleHQob2JqLnBhcmFtcy5sYWJlbFgsIG9iai5wYXJhbXMubGFiZWxZLCBvYmouY29uZmlnLmxhYmVsKTsKICBvYmoudHh0TGFiZWwuYXR0cih7CiAgICAiZm9udC1zaXplIjogb2JqLnBhcmFtcy5sYWJlbEZvbnRTaXplLAogICAgImZvbnQtd2VpZ2h0IjogIm5vcm1hbCIsCiAgICAiZm9udC1mYW1pbHkiOiAiQXJpYWwiLAogICAgImZpbGwiOiBvYmouY29uZmlnLmxhYmVsRm9udENvbG9yLAogICAgImZpbGwtb3BhY2l0eSI6ICIwIgogIH0pOwogIHNldER5KG9iai50eHRMYWJlbCwgb2JqLnBhcmFtcy5sYWJlbEZvbnRTaXplLCBvYmoucGFyYW1zLmxhYmVsWSk7CgogIC8vIG1pbgogIHZhciBtaW4gPSBvYmouY29uZmlnLm1pbjsKICBpZiAob2JqLmNvbmZpZy5yZXZlcnNlKSB7CiAgICBtaW4gPSBvYmouY29uZmlnLm1heDsKICB9CgogIG9iai50eHRNaW5pbXVtID0gbWluOwogIGlmIChvYmouY29uZmlnLm1pblR4dCkgewogICAgb2JqLnR4dE1pbmltdW0gPSBvYmouY29uZmlnLm1pblR4dDsKICB9IGVsc2UgaWYgKG9iai5jb25maWcuaHVtYW5GcmllbmRseSkgewogICAgb2JqLnR4dE1pbmltdW0gPSBodW1hbkZyaWVuZGx5TnVtYmVyKG1pbiwgb2JqLmNvbmZpZy5odW1hbkZyaWVuZGx5RGVjaW1hbCk7CiAgfSBlbHNlIGlmIChvYmouY29uZmlnLmZvcm1hdE51bWJlcikgewogICAgb2JqLnR4dE1pbmltdW0gPSBmb3JtYXROdW1iZXIobWluKTsKICB9CiAgb2JqLnR4dE1pbiA9IG9iai5jYW52YXMudGV4dChvYmoucGFyYW1zLm1pblgsIG9iai5wYXJhbXMubWluWSwgb2JqLnR4dE1pbmltdW0pOwogIG9iai50eHRNaW4uYXR0cih7CiAgICAiZm9udC1zaXplIjogb2JqLnBhcmFtcy5taW5Gb250U2l6ZSwKICAgICJmb250LXdlaWdodCI6ICJub3JtYWwiLAogICAgImZvbnQtZmFtaWx5IjogIkFyaWFsIiwKICAgICJmaWxsIjogb2JqLmNvbmZpZy5sYWJlbEZvbnRDb2xvciwKICAgICJmaWxsLW9wYWNpdHkiOiAob2JqLmNvbmZpZy5oaWRlTWluTWF4IHx8IG9iai5jb25maWcuZG9udXQpID8gIjAiIDogIjEiCiAgfSk7CiAgc2V0RHkob2JqLnR4dE1pbiwgb2JqLnBhcmFtcy5taW5Gb250U2l6ZSwgb2JqLnBhcmFtcy5taW5ZKTsKCiAgLy8gbWF4CiAgdmFyIG1heCA9IG9iai5jb25maWcubWF4OwogIGlmIChvYmouY29uZmlnLnJldmVyc2UpIHsKICAgIG1heCA9IG9iai5jb25maWcubWluOwogIH0KICBvYmoudHh0TWF4aW11bSA9IG1heDsKICBpZiAob2JqLmNvbmZpZy5tYXhUeHQpIHsKICAgIG9iai50eHRNYXhpbXVtID0gb2JqLmNvbmZpZy5tYXhUeHQ7CiAgfSBlbHNlIGlmIChvYmouY29uZmlnLmh1bWFuRnJpZW5kbHkpIHsKICAgIG9iai50eHRNYXhpbXVtID0gaHVtYW5GcmllbmRseU51bWJlcihtYXgsIG9iai5jb25maWcuaHVtYW5GcmllbmRseURlY2ltYWwpOwogIH0gZWxzZSBpZiAob2JqLmNvbmZpZy5mb3JtYXROdW1iZXIpIHsKICAgIG9iai50eHRNYXhpbXVtID0gZm9ybWF0TnVtYmVyKG1heCk7CiAgfQogIG9iai50eHRNYXggPSBvYmouY2FudmFzLnRleHQob2JqLnBhcmFtcy5tYXhYLCBvYmoucGFyYW1zLm1heFksIG9iai50eHRNYXhpbXVtKTsKICBvYmoudHh0TWF4LmF0dHIoewogICAgImZvbnQtc2l6ZSI6IG9iai5wYXJhbXMubWF4Rm9udFNpemUsCiAgICAiZm9udC13ZWlnaHQiOiAibm9ybWFsIiwKICAgICJmb250LWZhbWlseSI6ICJBcmlhbCIsCiAgICAiZmlsbCI6IG9iai5jb25maWcubGFiZWxGb250Q29sb3IsCiAgICAiZmlsbC1vcGFjaXR5IjogKG9iai5jb25maWcuaGlkZU1pbk1heCB8fCBvYmouY29uZmlnLmRvbnV0KSA/ICIwIiA6ICIxIgogIH0pOwogIHNldER5KG9iai50eHRNYXgsIG9iai5wYXJhbXMubWF4Rm9udFNpemUsIG9iai5wYXJhbXMubWF4WSk7CgogIHZhciBkZWZzID0gb2JqLmNhbnZhcy5jYW52YXMuY2hpbGROb2Rlc1sxXTsKICB2YXIgc3ZnID0gImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKCiAgaWYgKGllICE9PSAndW5kZWZpbmVkJyAmJiBpZSA8IDkpIHsKICAgIC8vIFZNTCBtb2RlIC0gbm8gU1ZHICYgU1ZHIGZpbHRlciBzdXBwb3J0CiAgfSBlbHNlIGlmIChpZSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgIG9uQ3JlYXRlRWxlbWVudE5zUmVhZHkoZnVuY3Rpb24oKSB7CiAgICAgIG9iai5nZW5lcmF0ZVNoYWRvdyhzdmcsIGRlZnMpOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9iai5nZW5lcmF0ZVNoYWRvdyhzdmcsIGRlZnMpOwogIH0KCiAgLy8gdmFyIGNsZWFyCiAgZGVmcywgc3ZnID0gbnVsbDsKCiAgLy8gc2V0IHZhbHVlIHRvIGRpc3BsYXkKICBpZiAob2JqLmNvbmZpZy50ZXh0UmVuZGVyZXIpIHsKICAgIG9iai5vcmlnaW5hbFZhbHVlID0gb2JqLmNvbmZpZy50ZXh0UmVuZGVyZXIob2JqLm9yaWdpbmFsVmFsdWUpOwogIH0gZWxzZSBpZiAob2JqLmNvbmZpZy5odW1hbkZyaWVuZGx5KSB7CiAgICBvYmoub3JpZ2luYWxWYWx1ZSA9IGh1bWFuRnJpZW5kbHlOdW1iZXIob2JqLm9yaWdpbmFsVmFsdWUsIG9iai5jb25maWcuaHVtYW5GcmllbmRseURlY2ltYWwpICsgb2JqLmNvbmZpZy5zeW1ib2w7CiAgfSBlbHNlIGlmIChvYmouY29uZmlnLmZvcm1hdE51bWJlcikgewogICAgb2JqLm9yaWdpbmFsVmFsdWUgPSBmb3JtYXROdW1iZXIob2JqLm9yaWdpbmFsVmFsdWUpICsgb2JqLmNvbmZpZy5zeW1ib2w7CiAgfSBlbHNlIHsKICAgIG9iai5vcmlnaW5hbFZhbHVlID0gKG9iai5vcmlnaW5hbFZhbHVlICogMSkudG9GaXhlZChvYmouY29uZmlnLmRlY2ltYWxzKSArIG9iai5jb25maWcuc3ltYm9sOwogIH0KCiAgaWYgKG9iai5jb25maWcuY291bnRlciA9PT0gdHJ1ZSkgewogICAgLy9vbiBlYWNoIGFuaW1hdGlvbiBmcmFtZQogICAgZXZlLm9uKCJyYXBoYWVsLmFuaW0uZnJhbWUuIiArIChvYmoubGV2ZWwuaWQpLCBmdW5jdGlvbigpIHsKICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IG9iai5sZXZlbC5hdHRyKCJwa2kiKVswXTsKICAgICAgaWYgKG9iai5jb25maWcucmV2ZXJzZSkgewogICAgICAgIGN1cnJlbnRWYWx1ZSA9IChvYmouY29uZmlnLm1heCAqIDEpICsgKG9iai5jb25maWcubWluICogMSkgLSAob2JqLmxldmVsLmF0dHIoInBraSIpWzBdICogMSk7CiAgICAgIH0KICAgICAgaWYgKG9iai5jb25maWcudGV4dFJlbmRlcmVyKSB7CiAgICAgICAgb2JqLnR4dFZhbHVlLmF0dHIoInRleHQiLCBvYmouY29uZmlnLnRleHRSZW5kZXJlcihNYXRoLmZsb29yKGN1cnJlbnRWYWx1ZSkpKTsKICAgICAgfSBlbHNlIGlmIChvYmouY29uZmlnLmh1bWFuRnJpZW5kbHkpIHsKICAgICAgICBvYmoudHh0VmFsdWUuYXR0cigidGV4dCIsIGh1bWFuRnJpZW5kbHlOdW1iZXIoTWF0aC5mbG9vcihjdXJyZW50VmFsdWUpLCBvYmouY29uZmlnLmh1bWFuRnJpZW5kbHlEZWNpbWFsKSArIG9iai5jb25maWcuc3ltYm9sKTsKICAgICAgfSBlbHNlIGlmIChvYmouY29uZmlnLmZvcm1hdE51bWJlcikgewogICAgICAgIG9iai50eHRWYWx1ZS5hdHRyKCJ0ZXh0IiwgZm9ybWF0TnVtYmVyKE1hdGguZmxvb3IoY3VycmVudFZhbHVlKSkgKyBvYmouY29uZmlnLnN5bWJvbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqLnR4dFZhbHVlLmF0dHIoInRleHQiLCAoY3VycmVudFZhbHVlICogMSkudG9GaXhlZChvYmouY29uZmlnLmRlY2ltYWxzKSArIG9iai5jb25maWcuc3ltYm9sKTsKICAgICAgfQogICAgICBzZXREeShvYmoudHh0VmFsdWUsIG9iai5wYXJhbXMudmFsdWVGb250U2l6ZSwgb2JqLnBhcmFtcy52YWx1ZVkpOwogICAgICBjdXJyZW50VmFsdWUgPSBudWxsOwogICAgfSk7CiAgICAvL29uIGFuaW1hdGlvbiBlbmQKICAgIGV2ZS5vbigicmFwaGFlbC5hbmltLmZpbmlzaC4iICsgKG9iai5sZXZlbC5pZCksIGZ1bmN0aW9uKCkgewogICAgICBvYmoudHh0VmFsdWUuYXR0cih7CiAgICAgICAgInRleHQiOiBvYmoub3JpZ2luYWxWYWx1ZQogICAgICB9KTsKICAgICAgc2V0RHkob2JqLnR4dFZhbHVlLCBvYmoucGFyYW1zLnZhbHVlRm9udFNpemUsIG9iai5wYXJhbXMudmFsdWVZKTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICAvL29uIGFuaW1hdGlvbiBzdGFydAogICAgZXZlLm9uKCJyYXBoYWVsLmFuaW0uc3RhcnQuIiArIChvYmoubGV2ZWwuaWQpLCBmdW5jdGlvbigpIHsKICAgICAgb2JqLnR4dFZhbHVlLmF0dHIoewogICAgICAgICJ0ZXh0Ijogb2JqLm9yaWdpbmFsVmFsdWUKICAgICAgfSk7CiAgICAgIHNldER5KG9iai50eHRWYWx1ZSwgb2JqLnBhcmFtcy52YWx1ZUZvbnRTaXplLCBvYmoucGFyYW1zLnZhbHVlWSk7CiAgICB9KTsKICB9CgogIC8vIGFuaW1hdGUgZ2F1Z2UgbGV2ZWwsIHZhbHVlICYgbGFiZWwKICB2YXIgcnZsID0gb2JqLmNvbmZpZy52YWx1ZTsKICBpZiAob2JqLmNvbmZpZy5yZXZlcnNlKSB7CiAgICBydmwgPSAob2JqLmNvbmZpZy5tYXggKiAxKSArIChvYmouY29uZmlnLm1pbiAqIDEpIC0gKG9iai5jb25maWcudmFsdWUgKiAxKTsKICB9CiAgb2JqLmxldmVsLmFuaW1hdGUoewogICAgcGtpOiBbCiAgICAgIHJ2bCwKICAgICAgb2JqLmNvbmZpZy5taW4sCiAgICAgIG9iai5jb25maWcubWF4LAogICAgICBvYmoucGFyYW1zLndpZGdldFcsCiAgICAgIG9iai5wYXJhbXMud2lkZ2V0SCwKICAgICAgb2JqLnBhcmFtcy5keCwKICAgICAgb2JqLnBhcmFtcy5keSwKICAgICAgb2JqLmNvbmZpZy5nYXVnZVdpZHRoU2NhbGUsCiAgICAgIG9iai5jb25maWcuZG9udXQsCiAgICAgIG9iai5jb25maWcucmV2ZXJzZQogICAgXQogIH0sIG9iai5jb25maWcuc3RhcnRBbmltYXRpb25UaW1lLCBvYmouY29uZmlnLnN0YXJ0QW5pbWF0aW9uVHlwZSwgb2JqLmNvbmZpZy5vbkFuaW1hdGlvbkVuZCk7CgogIGlmIChvYmouY29uZmlnLnBvaW50ZXIpIHsKICAgIG9iai5uZWVkbGUuYW5pbWF0ZSh7CiAgICAgIG5kbDogWwogICAgICAgIHJ2bCwKICAgICAgICBvYmouY29uZmlnLm1pbiwKICAgICAgICBvYmouY29uZmlnLm1heCwKICAgICAgICBvYmoucGFyYW1zLndpZGdldFcsCiAgICAgICAgb2JqLnBhcmFtcy53aWRnZXRILAogICAgICAgIG9iai5wYXJhbXMuZHgsCiAgICAgICAgb2JqLnBhcmFtcy5keSwKICAgICAgICBvYmouY29uZmlnLmdhdWdlV2lkdGhTY2FsZSwKICAgICAgICBvYmouY29uZmlnLmRvbnV0CiAgICAgIF0KICAgIH0sIG9iai5jb25maWcuc3RhcnRBbmltYXRpb25UaW1lLCBvYmouY29uZmlnLnN0YXJ0QW5pbWF0aW9uVHlwZSk7CiAgfQoKICBvYmoudHh0VmFsdWUuYW5pbWF0ZSh7CiAgICAiZmlsbC1vcGFjaXR5IjogKG9iai5jb25maWcuaGlkZVZhbHVlKSA/ICIwIiA6ICIxIgogIH0sIG9iai5jb25maWcuc3RhcnRBbmltYXRpb25UaW1lLCBvYmouY29uZmlnLnN0YXJ0QW5pbWF0aW9uVHlwZSk7CiAgb2JqLnR4dExhYmVsLmFuaW1hdGUoewogICAgImZpbGwtb3BhY2l0eSI6ICIxIgogIH0sIG9iai5jb25maWcuc3RhcnRBbmltYXRpb25UaW1lLCBvYmouY29uZmlnLnN0YXJ0QW5pbWF0aW9uVHlwZSk7Cn07CgovKiogUmVmcmVzaCBnYXVnZSBsZXZlbCAqLwpKdXN0R2FnZS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uKHZhbCwgbWF4LCBjb25maWcpIHsKCiAgdmFyIG9iaiA9IHRoaXM7CiAgdmFyIGRpc3BsYXlWYWwsIGNvbG9yLCBtYXggPSBtYXggfHwgbnVsbDsKCiAgaWYoY29uZmlnICYmICh0eXBlb2YgY29uZmlnICA9PT0gIm9iamVjdCIpKSB7CiAgICBmb3IodmFyIGtleSBpbiBjb25maWcpIHsKICAgICAgaWYoIWNvbmZpZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgb2JqLmNvbmZpZ1trZXldID0gY29uZmlnW2tleV07CiAgICB9CiAgfQoKICAvLyBzZXQgbmV3IG1heAogIGlmIChtYXggIT09IG51bGwpIHsKICAgIG9iai5jb25maWcubWF4ID0gbWF4OwogICAgLy8gVE9ETzogdXBkYXRlIGN1c3RvbVNlY3RvcnMKCiAgICBvYmoudHh0TWF4aW11bSA9IG9iai5jb25maWcubWF4OwogICAgaWYgKG9iai5jb25maWcubWF4VHh0KSB7CiAgICAgIG9iai50eHRNYXhpbXVtID0gb2JqLmNvbmZpZy5tYXhUeHQ7CiAgICB9IGVsc2UgaWYgKG9iai5jb25maWcuaHVtYW5GcmllbmRseSkgewogICAgICBvYmoudHh0TWF4aW11bSA9IGh1bWFuRnJpZW5kbHlOdW1iZXIob2JqLmNvbmZpZy5tYXgsIG9iai5jb25maWcuaHVtYW5GcmllbmRseURlY2ltYWwpOwogICAgfSBlbHNlIGlmIChvYmouY29uZmlnLmZvcm1hdE51bWJlcikgewogICAgICBvYmoudHh0TWF4aW11bSA9IGZvcm1hdE51bWJlcihvYmouY29uZmlnLm1heCk7CiAgICB9CiAgICBpZiAoIW9iai5jb25maWcucmV2ZXJzZSkgewogICAgICBvYmoudHh0TWF4LmF0dHIoewogICAgICAgICJ0ZXh0Ijogb2JqLnR4dE1heGltdW0KICAgICAgfSk7CiAgICAgIHNldER5KG9iai50eHRNYXgsIG9iai5wYXJhbXMubWF4Rm9udFNpemUsIG9iai5wYXJhbXMubWF4WSk7CiAgICB9IGVsc2UgewogICAgICBvYmoudHh0TWluLmF0dHIoewogICAgICAgICJ0ZXh0Ijogb2JqLnR4dE1heGltdW0KICAgICAgfSk7CiAgICAgIG9iai50eHRNYXguYXR0cih7CiAgICAgICAgInRleHQiOiBvYmoudHh0TWluaW11bQogICAgICB9KTsKICAgICAgc2V0RHkob2JqLnR4dE1pbiwgb2JqLnBhcmFtcy5taW5Gb250U2l6ZSwgb2JqLnBhcmFtcy5taW5ZKTsKICAgICAgc2V0RHkob2JqLnR4dE1heCwgb2JqLnBhcmFtcy5taW5Gb250U2l6ZSwgb2JqLnBhcmFtcy5taW5ZKTsKICAgIH0KICB9CgogIC8vIG92ZXJmbG93IHZhbHVlcwogIGRpc3BsYXlWYWwgPSB2YWw7CiAgaWYgKCh2YWwgKiAxKSA+IChvYmouY29uZmlnLm1heCAqIDEpKSB7CiAgICB2YWwgPSAob2JqLmNvbmZpZy5tYXggKiAxKTsKICB9CiAgaWYgKCh2YWwgKiAxKSA8IChvYmouY29uZmlnLm1pbiAqIDEpKSB7CiAgICB2YWwgPSAob2JqLmNvbmZpZy5taW4gKiAxKTsKICB9CgogIGNvbG9yID0gZ2V0Q29sb3IodmFsLCAodmFsIC0gb2JqLmNvbmZpZy5taW4pIC8gKG9iai5jb25maWcubWF4IC0gb2JqLmNvbmZpZy5taW4pLCBvYmouY29uZmlnLmxldmVsQ29sb3JzLCBvYmouY29uZmlnLm5vR3JhZGllbnQsIG9iai5jb25maWcuY3VzdG9tU2VjdG9ycyk7CgogIGlmIChvYmouY29uZmlnLnRleHRSZW5kZXJlcikgewogICAgZGlzcGxheVZhbCA9IG9iai5jb25maWcudGV4dFJlbmRlcmVyKGRpc3BsYXlWYWwpOwogIH0gZWxzZSBpZiAob2JqLmNvbmZpZy5odW1hbkZyaWVuZGx5KSB7CiAgICBkaXNwbGF5VmFsID0gaHVtYW5GcmllbmRseU51bWJlcihkaXNwbGF5VmFsLCBvYmouY29uZmlnLmh1bWFuRnJpZW5kbHlEZWNpbWFsKSArIG9iai5jb25maWcuc3ltYm9sOwogIH0gZWxzZSBpZiAob2JqLmNvbmZpZy5mb3JtYXROdW1iZXIpIHsKICAgIGRpc3BsYXlWYWwgPSBmb3JtYXROdW1iZXIoKGRpc3BsYXlWYWwgKiAxKS50b0ZpeGVkKG9iai5jb25maWcuZGVjaW1hbHMpKSArIG9iai5jb25maWcuc3ltYm9sOwogIH0gZWxzZSB7CiAgICBkaXNwbGF5VmFsID0gKGRpc3BsYXlWYWwgKiAxKS50b0ZpeGVkKG9iai5jb25maWcuZGVjaW1hbHMpICsgb2JqLmNvbmZpZy5zeW1ib2w7CiAgfQogIG9iai5vcmlnaW5hbFZhbHVlID0gZGlzcGxheVZhbDsKICBvYmouY29uZmlnLnZhbHVlID0gdmFsICogMTsKCiAgaWYgKCFvYmouY29uZmlnLmNvdW50ZXIpIHsKICAgIG9iai50eHRWYWx1ZS5hdHRyKHsKICAgICAgInRleHQiOiBkaXNwbGF5VmFsCiAgICB9KTsKICAgIHNldER5KG9iai50eHRWYWx1ZSwgb2JqLnBhcmFtcy52YWx1ZUZvbnRTaXplLCBvYmoucGFyYW1zLnZhbHVlWSk7CiAgfQoKICB2YXIgcnZsID0gb2JqLmNvbmZpZy52YWx1ZTsKICBpZiAob2JqLmNvbmZpZy5yZXZlcnNlKSB7CiAgICBydmwgPSAob2JqLmNvbmZpZy5tYXggKiAxKSArIChvYmouY29uZmlnLm1pbiAqIDEpIC0gKG9iai5jb25maWcudmFsdWUgKiAxKTsKICB9CiAgb2JqLmxldmVsLmFuaW1hdGUoewogICAgcGtpOiBbCiAgICAgIHJ2bCwKICAgICAgb2JqLmNvbmZpZy5taW4sCiAgICAgIG9iai5jb25maWcubWF4LAogICAgICBvYmoucGFyYW1zLndpZGdldFcsCiAgICAgIG9iai5wYXJhbXMud2lkZ2V0SCwKICAgICAgb2JqLnBhcmFtcy5keCwKICAgICAgb2JqLnBhcmFtcy5keSwKICAgICAgb2JqLmNvbmZpZy5nYXVnZVdpZHRoU2NhbGUsCiAgICAgIG9iai5jb25maWcuZG9udXQsCiAgICAgIG9iai5jb25maWcucmV2ZXJzZQogICAgXSwKICAgICJmaWxsIjogY29sb3IKICB9LCBvYmouY29uZmlnLnJlZnJlc2hBbmltYXRpb25UaW1lLCBvYmouY29uZmlnLnJlZnJlc2hBbmltYXRpb25UeXBlLCBvYmouY29uZmlnLm9uQW5pbWF0aW9uRW5kKTsKCiAgaWYgKG9iai5jb25maWcucG9pbnRlcikgewogICAgb2JqLm5lZWRsZS5hbmltYXRlKHsKICAgICAgbmRsOiBbCiAgICAgICAgcnZsLAogICAgICAgIG9iai5jb25maWcubWluLAogICAgICAgIG9iai5jb25maWcubWF4LAogICAgICAgIG9iai5wYXJhbXMud2lkZ2V0VywKICAgICAgICBvYmoucGFyYW1zLndpZGdldEgsCiAgICAgICAgb2JqLnBhcmFtcy5keCwKICAgICAgICBvYmoucGFyYW1zLmR5LAogICAgICAgIG9iai5jb25maWcuZ2F1Z2VXaWR0aFNjYWxlLAogICAgICAgIG9iai5jb25maWcuZG9udXQKICAgICAgXQogICAgfSwgb2JqLmNvbmZpZy5yZWZyZXNoQW5pbWF0aW9uVGltZSwgb2JqLmNvbmZpZy5yZWZyZXNoQW5pbWF0aW9uVHlwZSk7CiAgfQoKICAvLyB2YXIgY2xlYXIKICBvYmosIGRpc3BsYXlWYWwsIGNvbG9yLCBtYXggPSBudWxsOwp9OwoKLyoqIEdlbmVyYXRlIHNoYWRvdyAqLwpKdXN0R2FnZS5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkb3cgPSBmdW5jdGlvbihzdmcsIGRlZnMpIHsKCiAgdmFyIG9iaiA9IHRoaXM7CiAgdmFyIHNpZCA9ICJpbm5lci1zaGFkb3ctIiArIG9iai5jb25maWcuaWQ7CiAgdmFyIGdhdXNzRmlsdGVyLCBmZU9mZnNldCwgZmVHYXVzc2lhbkJsdXIsIGZlQ29tcG9zaXRlMSwgZmVGbG9vZCwgZmVDb21wb3NpdGUyLCBmZUNvbXBvc2l0ZTM7CgogIC8vIEZJTFRFUgogIGdhdXNzRmlsdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2ZywgImZpbHRlciIpOwogIGdhdXNzRmlsdGVyLnNldEF0dHJpYnV0ZSgiaWQiLCBzaWQpOwogIGRlZnMuYXBwZW5kQ2hpbGQoZ2F1c3NGaWx0ZXIpOwoKICAvLyBvZmZzZXQKICBmZU9mZnNldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmcsICJmZU9mZnNldCIpOwogIGZlT2Zmc2V0LnNldEF0dHJpYnV0ZSgiZHgiLCAwKTsKICBmZU9mZnNldC5zZXRBdHRyaWJ1dGUoImR5Iiwgb2JqLmNvbmZpZy5zaGFkb3dWZXJ0aWNhbE9mZnNldCk7CiAgZ2F1c3NGaWx0ZXIuYXBwZW5kQ2hpbGQoZmVPZmZzZXQpOwoKICAvLyBibHVyCiAgZmVHYXVzc2lhbkJsdXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnLCAiZmVHYXVzc2lhbkJsdXIiKTsKICBmZUdhdXNzaWFuQmx1ci5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsICJvZmZzZXQtYmx1ciIpOwogIGZlR2F1c3NpYW5CbHVyLnNldEF0dHJpYnV0ZSgic3RkRGV2aWF0aW9uIiwgb2JqLmNvbmZpZy5zaGFkb3dTaXplKTsKICBnYXVzc0ZpbHRlci5hcHBlbmRDaGlsZChmZUdhdXNzaWFuQmx1cik7CgogIC8vIGNvbXBvc2l0ZSAxCiAgZmVDb21wb3NpdGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2ZywgImZlQ29tcG9zaXRlIik7CiAgZmVDb21wb3NpdGUxLnNldEF0dHJpYnV0ZSgib3BlcmF0b3IiLCAib3V0Iik7CiAgZmVDb21wb3NpdGUxLnNldEF0dHJpYnV0ZSgiaW4iLCAiU291cmNlR3JhcGhpYyIpOwogIGZlQ29tcG9zaXRlMS5zZXRBdHRyaWJ1dGUoImluMiIsICJvZmZzZXQtYmx1ciIpOwogIGZlQ29tcG9zaXRlMS5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsICJpbnZlcnNlIik7CiAgZ2F1c3NGaWx0ZXIuYXBwZW5kQ2hpbGQoZmVDb21wb3NpdGUxKTsKCiAgLy8gZmxvb2QKICBmZUZsb29kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2ZywgImZlRmxvb2QiKTsKICBmZUZsb29kLnNldEF0dHJpYnV0ZSgiZmxvb2QtY29sb3IiLCAiYmxhY2siKTsKICBmZUZsb29kLnNldEF0dHJpYnV0ZSgiZmxvb2Qtb3BhY2l0eSIsIG9iai5jb25maWcuc2hhZG93T3BhY2l0eSk7CiAgZmVGbG9vZC5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsICJjb2xvciIpOwogIGdhdXNzRmlsdGVyLmFwcGVuZENoaWxkKGZlRmxvb2QpOwoKICAvLyBjb21wb3NpdGUgMgogIGZlQ29tcG9zaXRlMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmcsICJmZUNvbXBvc2l0ZSIpOwogIGZlQ29tcG9zaXRlMi5zZXRBdHRyaWJ1dGUoIm9wZXJhdG9yIiwgImluIik7CiAgZmVDb21wb3NpdGUyLnNldEF0dHJpYnV0ZSgiaW4iLCAiY29sb3IiKTsKICBmZUNvbXBvc2l0ZTIuc2V0QXR0cmlidXRlKCJpbjIiLCAiaW52ZXJzZSIpOwogIGZlQ29tcG9zaXRlMi5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsICJzaGFkb3ciKTsKICBnYXVzc0ZpbHRlci5hcHBlbmRDaGlsZChmZUNvbXBvc2l0ZTIpOwoKICAvLyBjb21wb3NpdGUgMwogIGZlQ29tcG9zaXRlMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmcsICJmZUNvbXBvc2l0ZSIpOwogIGZlQ29tcG9zaXRlMy5zZXRBdHRyaWJ1dGUoIm9wZXJhdG9yIiwgIm92ZXIiKTsKICBmZUNvbXBvc2l0ZTMuc2V0QXR0cmlidXRlKCJpbiIsICJzaGFkb3ciKTsKICBmZUNvbXBvc2l0ZTMuc2V0QXR0cmlidXRlKCJpbjIiLCAiU291cmNlR3JhcGhpYyIpOwogIGdhdXNzRmlsdGVyLmFwcGVuZENoaWxkKGZlQ29tcG9zaXRlMyk7CgogIC8vIHNldCBzaGFkb3cKICBpZiAoIW9iai5jb25maWcuaGlkZUlubmVyU2hhZG93KSB7CiAgICBvYmouY2FudmFzLmNhbnZhcy5jaGlsZE5vZGVzWzJdLnNldEF0dHJpYnV0ZSgiZmlsdGVyIiwgInVybCgjIiArIHNpZCArICIpIik7CiAgICBvYmouY2FudmFzLmNhbnZhcy5jaGlsZE5vZGVzWzNdLnNldEF0dHJpYnV0ZSgiZmlsdGVyIiwgInVybCgjIiArIHNpZCArICIpIik7CiAgfQoKICAvLyB2YXIgY2xlYXIKICBnYXVzc0ZpbHRlciwgZmVPZmZzZXQsIGZlR2F1c3NpYW5CbHVyLCBmZUNvbXBvc2l0ZTEsIGZlRmxvb2QsIGZlQ29tcG9zaXRlMiwgZmVDb21wb3NpdGUzID0gbnVsbDsKfTsKCi8vCi8vIHRpbnkgaGVscGVyIGZ1bmN0aW9uIHRvIGxvb2t1cCB2YWx1ZSBvZiBhIGtleSBmcm9tIHR3byBoYXNoIHRhYmxlcwovLyBpZiBub25lIGZvdW5kLCByZXR1cm4gZGVmYXVsdHZhbHVlCi8vCi8vIGtleTogc3RyaW5nCi8vIHRhYmxlYTogb2JqZWN0Ci8vIHRhYmxlYjogRE9NU3RyaW5nTWFwfG9iamVjdAovLyBkZWZ2YWw6IHN0cmluZ3xpbnRlZ2VyfGZsb2F0fG51bGwKLy8gZGF0YXR5cGU6IHJldHVybiBkYXRhdHlwZQovLyBkZWxpbWl0ZXI6IGRlbGltaXRlciB0byBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggZGF0YXR5cGUgZm9ybWF0dGluZwovLwpmdW5jdGlvbiBrdkxvb2t1cChrZXksIHRhYmxlYSwgdGFibGViLCBkZWZ2YWwsIGRhdGF0eXBlLCBkZWxpbWl0ZXIpIHsKICB2YXIgdmFsID0gZGVmdmFsOwogIHZhciBjYW5Db252ZXJ0ID0gZmFsc2U7CiAgaWYgKCEoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkKSkgewogICAgaWYgKHRhYmxlYiAhPT0gbnVsbCAmJiB0YWJsZWIgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdGFibGViID09PSAib2JqZWN0IiAmJiBrZXkgaW4gdGFibGViKSB7CiAgICAgIHZhbCA9IHRhYmxlYltrZXldOwogICAgICBjYW5Db252ZXJ0ID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAodGFibGVhICE9PSBudWxsICYmIHRhYmxlYSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB0YWJsZWEgPT09ICJvYmplY3QiICYmIGtleSBpbiB0YWJsZWEpIHsKICAgICAgdmFsID0gdGFibGVhW2tleV07CiAgICAgIGNhbkNvbnZlcnQgPSB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgdmFsID0gZGVmdmFsOwogICAgfQogICAgaWYgKGNhbkNvbnZlcnQgPT09IHRydWUpIHsKICAgICAgaWYgKGRhdGF0eXBlICE9PSBudWxsICYmIGRhdGF0eXBlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBzd2l0Y2ggKGRhdGF0eXBlKSB7CiAgICAgICAgICBjYXNlICdpbnQnOgogICAgICAgICAgICB2YWwgPSBwYXJzZUludCh2YWwsIDEwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdmbG9hdCc6CiAgICAgICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIHZhbDsKfTsKCi8qKiBHZXQgY29sb3IgZm9yIHZhbHVlICovCmZ1bmN0aW9uIGdldENvbG9yKHZhbCwgcGN0LCBjb2wsIG5vR3JhZGllbnQsIGN1c3RTZWMpIHsKCiAgdmFyIG5vLCBpbmMsIGNvbG9ycywgcGVyY2VudGFnZSwgcnZhbCwgZ3ZhbCwgYnZhbCwgbG93ZXIsIHVwcGVyLCByYW5nZSwgcmFuZ2VQY3QsIHBjdExvd2VyLCBwY3RVcHBlciwgY29sb3I7CiAgdmFyIG5vR3JhZGllbnQgPSBub0dyYWRpZW50IHx8IGN1c3RTZWMubGVuZ3RoID4gMDsKCiAgaWYgKGN1c3RTZWMubGVuZ3RoID4gMCkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXN0U2VjLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmICh2YWwgPj0gY3VzdFNlY1tpXS5sbyAmJiB2YWwgPD0gY3VzdFNlY1tpXS5oaSkgewogICAgICAgIHJldHVybiBjdXN0U2VjW2ldLmNvbG9yOwogICAgICB9CiAgICB9CiAgfQoKICBubyA9IGNvbC5sZW5ndGg7CiAgaWYgKG5vID09PSAxKSByZXR1cm4gY29sWzBdOwogIGluYyA9IChub0dyYWRpZW50KSA/ICgxIC8gbm8pIDogKDEgLyAobm8gLSAxKSk7CiAgY29sb3JzID0gW107CiAgZm9yIChpID0gMDsgaSA8IGNvbC5sZW5ndGg7IGkrKykgewogICAgcGVyY2VudGFnZSA9IChub0dyYWRpZW50KSA/IChpbmMgKiAoaSArIDEpKSA6IChpbmMgKiBpKTsKICAgIHJ2YWwgPSBwYXJzZUludCgoY3V0SGV4KGNvbFtpXSkpLnN1YnN0cmluZygwLCAyKSwgMTYpOwogICAgZ3ZhbCA9IHBhcnNlSW50KChjdXRIZXgoY29sW2ldKSkuc3Vic3RyaW5nKDIsIDQpLCAxNik7CiAgICBidmFsID0gcGFyc2VJbnQoKGN1dEhleChjb2xbaV0pKS5zdWJzdHJpbmcoNCwgNiksIDE2KTsKICAgIGNvbG9yc1tpXSA9IHsKICAgICAgcGN0OiBwZXJjZW50YWdlLAogICAgICBjb2xvcjogewogICAgICAgIHI6IHJ2YWwsCiAgICAgICAgZzogZ3ZhbCwKICAgICAgICBiOiBidmFsCiAgICAgIH0KICAgIH07CiAgfQoKICBpZiAocGN0ID09PSAwKSB7CiAgICByZXR1cm4gJ3JnYignICsgW2NvbG9yc1swXS5jb2xvci5yLCBjb2xvcnNbMF0uY29sb3IuZywgY29sb3JzWzBdLmNvbG9yLmJdLmpvaW4oJywnKSArICcpJzsKICB9CgogIGZvciAodmFyIGogPSAwOyBqIDwgY29sb3JzLmxlbmd0aDsgaisrKSB7CiAgICBpZiAocGN0IDw9IGNvbG9yc1tqXS5wY3QpIHsKICAgICAgaWYgKG5vR3JhZGllbnQpIHsKICAgICAgICByZXR1cm4gJ3JnYignICsgW2NvbG9yc1tqXS5jb2xvci5yLCBjb2xvcnNbal0uY29sb3IuZywgY29sb3JzW2pdLmNvbG9yLmJdLmpvaW4oJywnKSArICcpJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBsb3dlciA9IGNvbG9yc1tqIC0gMV07CiAgICAgICAgdXBwZXIgPSBjb2xvcnNbal07CiAgICAgICAgcmFuZ2UgPSB1cHBlci5wY3QgLSBsb3dlci5wY3Q7CiAgICAgICAgcmFuZ2VQY3QgPSAocGN0IC0gbG93ZXIucGN0KSAvIHJhbmdlOwogICAgICAgIHBjdExvd2VyID0gMSAtIHJhbmdlUGN0OwogICAgICAgIHBjdFVwcGVyID0gcmFuZ2VQY3Q7CiAgICAgICAgY29sb3IgPSB7CiAgICAgICAgICByOiBNYXRoLmZsb29yKGxvd2VyLmNvbG9yLnIgKiBwY3RMb3dlciArIHVwcGVyLmNvbG9yLnIgKiBwY3RVcHBlciksCiAgICAgICAgICBnOiBNYXRoLmZsb29yKGxvd2VyLmNvbG9yLmcgKiBwY3RMb3dlciArIHVwcGVyLmNvbG9yLmcgKiBwY3RVcHBlciksCiAgICAgICAgICBiOiBNYXRoLmZsb29yKGxvd2VyLmNvbG9yLmIgKiBwY3RMb3dlciArIHVwcGVyLmNvbG9yLmIgKiBwY3RVcHBlcikKICAgICAgICB9OwogICAgICAgIHJldHVybiAncmdiKCcgKyBbY29sb3IuciwgY29sb3IuZywgY29sb3IuYl0uam9pbignLCcpICsgJyknOwogICAgICB9CiAgICB9CiAgfQoKfQoKLyoqIEZpeCBSYXBoYWVsIGRpc3BsYXk6bm9uZSB0c3BhbiBkeSBhdHRyaWJ1dGUgYnVnICovCmZ1bmN0aW9uIHNldER5KGVsZW0sIGZvbnRTaXplLCB0eHRZcG9zKSB7CiAgaWYgKCghaWUgfHwgaWUgPiA5KSAmJiBlbGVtLm5vZGUuZmlyc3RDaGlsZC5hdHRyaWJ1dGVzLmR5KSB7CiAgICBlbGVtLm5vZGUuZmlyc3RDaGlsZC5hdHRyaWJ1dGVzLmR5LnZhbHVlID0gMDsKICB9Cn0KCi8qKiBSYW5kb20gaW50ZWdlciAgKi8KZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7CiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47Cn0KCi8qKiAgQ3V0IGhleCAgKi8KZnVuY3Rpb24gY3V0SGV4KHN0cikgewogIHJldHVybiAoc3RyLmNoYXJBdCgwKSA9PSAiIyIpID8gc3RyLnN1YnN0cmluZygxLCA3KSA6IHN0cjsKfQoKLyoqICBIdW1hbiBmcmllbmRseSBudW1iZXIgc3VmZml4IC0gRnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNjkyMzIzL2NvZGUtZ29sZi1mcmllbmRseS1udW1iZXItYWJicmV2aWF0b3IgKi8KZnVuY3Rpb24gaHVtYW5GcmllbmRseU51bWJlcihuLCBkKSB7CiAgdmFyIHAsIGQyLCBpLCBzOwoKICBwID0gTWF0aC5wb3c7CiAgZDIgPSBwKDEwLCBkKTsKICBpID0gNzsKICB3aGlsZSAoaSkgewogICAgcyA9IHAoMTAsIGktLSAqIDMpOwogICAgaWYgKHMgPD0gbikgewogICAgICBuID0gTWF0aC5yb3VuZChuICogZDIgLyBzKSAvIGQyICsgIktNR1RQRSIgW2ldOwogICAgfQogIH0KICByZXR1cm4gbjsKfQoKLyoqIEZvcm1hdCBudW1iZXJzIHdpdGggY29tbWFzIC0gRnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yOTAxMTAyL2hvdy10by1wcmludC1hLW51bWJlci13aXRoLWNvbW1hcy1hcy10aG91c2FuZHMtc2VwYXJhdG9ycy1pbi1qYXZhc2NyaXB0ICovCmZ1bmN0aW9uIGZvcm1hdE51bWJlcih4KSB7CiAgdmFyIHBhcnRzID0geC50b1N0cmluZygpLnNwbGl0KCIuIik7CiAgcGFydHNbMF0gPSBwYXJ0c1swXS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAiLCIpOwogIHJldHVybiBwYXJ0cy5qb2luKCIuIik7Cn0KCi8qKiAgR2V0IHN0eWxlICAqLwpmdW5jdGlvbiBnZXRTdHlsZShvRWxtLCBzdHJDc3NSdWxlKSB7CiAgdmFyIHN0clZhbHVlID0gIiI7CiAgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHsKICAgIHN0clZhbHVlID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShvRWxtLCAiIikuZ2V0UHJvcGVydHlWYWx1ZShzdHJDc3NSdWxlKTsKICB9IGVsc2UgaWYgKG9FbG0uY3VycmVudFN0eWxlKSB7CiAgICBzdHJDc3NSdWxlID0gc3RyQ3NzUnVsZS5yZXBsYWNlKC9cLShcdykvZywgZnVuY3Rpb24oc3RyTWF0Y2gsIHAxKSB7CiAgICAgIHJldHVybiBwMS50b1VwcGVyQ2FzZSgpOwogICAgfSk7CiAgICBzdHJWYWx1ZSA9IG9FbG0uY3VycmVudFN0eWxlW3N0ckNzc1J1bGVdOwogIH0KICByZXR1cm4gc3RyVmFsdWU7Cn0KCi8qKiAgQ3JlYXRlIEVsZW1lbnQgTlMgUmVhZHkgICovCmZ1bmN0aW9uIG9uQ3JlYXRlRWxlbWVudE5zUmVhZHkoZnVuYykgewogIGlmIChkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgIT09IHVuZGVmaW5lZCkgewogICAgZnVuYygpOwogIH0gZWxzZSB7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICBvbkNyZWF0ZUVsZW1lbnROc1JlYWR5KGZ1bmMpOwogICAgfSwgMTAwKTsKICB9Cn0KCi8qKiAgR2V0IElFIHZlcnNpb24gICovCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQSBzaG9ydCBzbmlwcGV0IGZvciBkZXRlY3RpbmcgdmVyc2lvbnMgb2YgSUUgaW4gSmF2YVNjcmlwdAovLyB3aXRob3V0IHJlc29ydGluZyB0byB1c2VyLWFnZW50IHNuaWZmaW5nCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gSWYgeW91J3JlIG5vdCBpbiBJRSAob3IgSUUgdmVyc2lvbiBpcyBsZXNzIHRoYW4gNSkgdGhlbjoKLy8gaWUgPT09IHVuZGVmaW5lZAovLyBJZiB5b3UncmUgaW4gSUUgKD49NSkgdGhlbiB5b3UgY2FuIGRldGVybWluZSB3aGljaCB2ZXJzaW9uOgovLyBpZSA9PT0gNzsgLy8gSUU3Ci8vIFRodXMsIHRvIGRldGVjdCBJRToKLy8gaWYgKGllKSB7fQovLyBBbmQgdG8gZGV0ZWN0IHRoZSB2ZXJzaW9uOgovLyBpZSA9PT0gNiAvLyBJRTYKLy8gaWUgPiA3IC8vIElFOCwgSUU5IC4uLgovLyBpZSA8IDkgLy8gQW55dGhpbmcgbGVzcyB0aGFuIElFOQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIFVQREFURTogTm93IHVzaW5nIExpdmUgTm9kZUxpc3QgaWRlYSBmcm9tIEBqZGFsdG9uCnZhciBpZSA9IChmdW5jdGlvbigpIHsKCiAgdmFyIHVuZGVmLAogICAgdiA9IDMsCiAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwKICAgIGFsbCA9IGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaScpOwoKICB3aGlsZSAoCiAgICBkaXYuaW5uZXJIVE1MID0gJzwhLS1baWYgZ3QgSUUgJyArICgrK3YpICsgJ10+PGk+PC9pPjwhW2VuZGlmXS0tPicsCiAgICBhbGxbMF0KICApOwogIHJldHVybiB2ID4gNCA/IHYgOiB1bmRlZjsKfSgpKTsKCi8vIGV4dGVuZCB0YXJnZXQgb2JqZWN0IHdpdGggc2Vjb25kIG9iamVjdApmdW5jdGlvbiBleHRlbmQob3V0KSB7CiAgb3V0ID0gb3V0IHx8IHt9OwoKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgaWYgKCFhcmd1bWVudHNbaV0pCiAgICAgIGNvbnRpbnVlOwoKICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbaV0pIHsKICAgICAgaWYgKGFyZ3VtZW50c1tpXS5oYXNPd25Qcm9wZXJ0eShrZXkpKQogICAgICAgIG91dFtrZXldID0gYXJndW1lbnRzW2ldW2tleV07CiAgICB9CiAgfQoKICByZXR1cm4gb3V0Owp9Owo="></script>
<script src="data:application/javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ2dhdWdlJywKCiAgdHlwZTogJ291dHB1dCcsCgogIGZhY3Rvcnk6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CgogICAgdmFyIGp1c3RnYWdlID0gbnVsbDsKCiAgICByZXR1cm4gewoKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKHgpIHsKCiAgICAgICAgLy8gcmVzb2x2ZSB0aGVtZSBjb2xvcnMgZm9yIHNlY3RvcnMKICAgICAgICBmdW5jdGlvbiB0aGVtZUNvbG9yKGNvbG9yTmFtZSwgZGVmYXVsdENvbG9yKSB7CiAgICAgICAgICAvLyBqdXN0IGluIGNhc2Ugc29tZW9uZSB0cmllcyB0byB1c2UgdGhpcyBvdXRzaWRlIG9mIGZsZXhkYXNoYm9hcmQKICAgICAgICAgIGlmICh3aW5kb3cuRmxleERhc2hib2FyZCkgewogICAgICAgICAgICB2YXIgY29sb3IgPSB3aW5kb3cuRmxleERhc2hib2FyZC50aGVtZUNvbG9yKGNvbG9yTmFtZSk7CiAgICAgICAgICAgIGlmICghY29sb3IpCiAgICAgICAgICAgICAgY29sb3IgPSBkZWZhdWx0Q29sb3I7CiAgICAgICAgICAgIHJldHVybiBjb2xvcjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0Q29sb3I7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGk9MDsgaTx4LmN1c3RvbVNlY3RvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBzZWN0b3IgPSB4LmN1c3RvbVNlY3RvcnNbaV07CiAgICAgICAgICBpZiAoc2VjdG9yLmNvbG9yID09PSAicHJpbWFyeSIpCiAgICAgICAgICAgIHNlY3Rvci5jb2xvciA9IHRoZW1lQ29sb3IoInByaW1hcnkiLCAgIiNhOWQ3MGIiKTsKICAgICAgICAgIGVsc2UgaWYgKHNlY3Rvci5jb2xvciA9PT0gImluZm8iKQogICAgICAgICAgICBzZWN0b3IuY29sb3IgPSB0aGVtZUNvbG9yKCJpbmZvIiwgICIjYTlkNzBiIik7CiAgICAgICAgICBlbHNlIGlmIChzZWN0b3IuY29sb3IgPT09ICJzdWNjZXNzIikKICAgICAgICAgICAgc2VjdG9yLmNvbG9yID0gdGhlbWVDb2xvcigic3VjY2VzcyIsICAiI2E5ZDcwYiIpOwogICAgICAgICAgZWxzZSBpZiAoc2VjdG9yLmNvbG9yID09PSAid2FybmluZyIpCiAgICAgICAgICAgIHNlY3Rvci5jb2xvciA9IHRoZW1lQ29sb3IoIndhcm5pbmciLCAgIiNmOWM4MDIiKTsKICAgICAgICAgIGVsc2UgaWYgKHNlY3Rvci5jb2xvciA9PT0gImRhbmdlciIpCiAgICAgICAgICAgIHNlY3Rvci5jb2xvciA9IHRoZW1lQ29sb3IoImRhbmdlciIsICIjZmYwMDAwIik7CiAgICAgICAgfQoKICAgICAgICAvLyBqdXN0Z2FnZSBjb25maWcKICAgICAgICB2YXIgY29uZmlnID0gewogICAgICAgICAgaWQ6IGVsLmlkLAogICAgICAgICAgdGl0bGU6ICIgIiwKICAgICAgICAgIHZhbHVlRm9udENvbG9yOiAiZ3JheSIsCiAgICAgICAgICB2YWx1ZTogeC52YWx1ZSwKICAgICAgICAgIG1pbjogeC5taW4sCiAgICAgICAgICBtYXg6IHgubWF4LAogICAgICAgICAgdGl0bGVQb3NpdGlvbjogImJlbG93IiwKICAgICAgICAgIHJlbGF0aXZlR2F1Z2VTaXplOiB0cnVlLAogICAgICAgICAgZm9ybWF0TnVtYmVyOiB0cnVlLAogICAgICAgICAgaHVtYW5GcmllbmRseTogeC5odW1hbkZyaWVuZGx5LAogICAgICAgICAgaHVtYW5GcmllbmRseURlY2ltYWw6IHguaHVtYW5GcmllbmRseURlY2ltYWwsCiAgICAgICAgICBjdXN0b21TZWN0b3JzOiB4LmN1c3RvbVNlY3RvcnMKICAgICAgICB9OwoKICAgICAgICAvLyBhZGQgc3ltYm9sIGlmIHNwZWNpZmllZAogICAgICAgIGlmICh4LnN5bWJvbCAhPT0gbnVsbCkKICAgICAgICAgIGNvbmZpZy5zeW1ib2wgPSB4LnN5bWJvbDsKCiAgICAgICAgLy8gYWRkIGxhYmVsIGlmIHNwZWNpZmVkCiAgICAgICAgaWYgKHgubGFiZWwgIT09IG51bGwpCiAgICAgICAgICBjb25maWcubGFiZWwgPSB4LmxhYmVsOwoKICAgICAgICAvLyBhZGQgbGlua2VkIHZhbHVlIGNsYXNzIGlmIGFwcHJvcHJpYXRlCiAgICAgICAgaWYgKHguaHJlZiAhPT0gbnVsbCAmJiB3aW5kb3cuRmxleERhc2hib2FyZCkgewogICAgICAgICAgJChlbCkuYWRkQ2xhc3MoJ2xpbmtlZC12YWx1ZScpOwogICAgICAgICAgJChlbCkub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICB3aW5kb3cuRmxleERhc2hib2FyZFV0aWxzLnNob3dMaW5rZWRWYWx1ZSh4LmhyZWYpOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyBjcmVhdGUgdGhlIGp1c3RnYWdlIGlmIHdlIG5lZWQgdG8KICAgICAgICBpZiAoanVzdGdhZ2UgPT09IG51bGwpCiAgICAgICAgICBqdXN0Z2FnZSA9IG5ldyBKdXN0R2FnZShjb25maWcpOwogICAgICAgIGVsc2UKICAgICAgICAgIGp1c3RnYWdlLnJlZnJlc2goeC52YWx1ZSwgeC5tYXgsIGNvbmZpZyk7CgogICAgICAgIC8vIGZpeHVwIHN2ZyBwYXRoIGZpbHRlcnMgc28gdGhleSBkb24ndCB1c2UgcmVsYXRpdmUgaHJlZnMKICAgICAgICAvLyBlLmcuIHVybCgjaW5uZXItc2hhZG93LWh0bWx3aWRnZXQtMDY4YzRjYzgyMTc3MmIwYTJlZjUpCiAgICAgICAgLy8gKHNlZSBodHRwczovL2dpdGh1Yi5jb20vcnN0dWRpby9mbGV4ZGFzaGJvYXJkL2lzc3Vlcy85NCkKICAgICAgICB2YXIgYmFzZVVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLmhhc2gsICIiKTsKICAgICAgICAkKGVsKS5maW5kKCdzdmc+cGF0aCcpLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgZmlsdGVyID0gJCh0aGlzKS5hdHRyKCdmaWx0ZXInKTsKICAgICAgICAgIGlmIChmaWx0ZXIpIHsKICAgICAgICAgICAgdmFyIG1hdGNoID0gL3VybFwoIyhbXlwpXSspXCkvLmV4ZWMoZmlsdGVyKTsKICAgICAgICAgICAgaWYgKG1hdGNoKQogICAgICAgICAgICAgICQodGhpcykuYXR0cignZmlsdGVyJywgJ3VybCgnICsgYmFzZVVybCArICcjJyArIG1hdGNoWzFdICsgJyknKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwKCiAgICAgIHJlc2l6ZTogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkgewogICAgICB9CiAgICB9OwogIH0KfSk7Cg=="></script>
<script src="data:application/javascript;base64,LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="></script>

</head>
<body style="background-color: white;">
<div id="htmlwidget_container">
<div id="htmlwidget-6d14a3e083abc89aefd8" class="gauge html-widget" style="width:800px;height:600px;">

</div>
</div>
<script type="application/json" data-for="htmlwidget-6d14a3e083abc89aefd8">{"x":{"value":1367,"min":0,"max":3739,"customSectors":[{"lo":3365.1,"hi":3739,"color":"success"},{"lo":1121.7,"hi":3365.1,"color":"warning"},{"lo":0,"hi":1121.7,"color":"danger"}],"symbol":null,"label":"CONCLUÍDOS","humanFriendly":false,"humanFriendlyDecimal":1,"href":null},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-6d14a3e083abc89aefd8">{"viewer":{"width":"800px","height":"600px","padding":15,"fill":false},"browser":{"width":"800px","height":"600px","padding":40,"fill":false}}</script>
</body>
</html>
